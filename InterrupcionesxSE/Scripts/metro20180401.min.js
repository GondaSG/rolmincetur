/*!
 * Metro 4 Components Library v4.1.15 build 647 (https://metroui.org.ua)
 * Copyright 2018 Sergey Pimenov
 * Licensed under MIT
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){"use strict";function yu(n,t,i){this.r=n||0;this.g=t||0;this.g=i||0}function pu(n,t,i){this.h=n||0;this.s=t||0;this.v=i||0}function wu(n,t,i,r){this.c=n||0;this.m=t||0;this.y=i||0;this.k=r||0}function bu(n){return yt(g(l(n)))}function g(n){return bt(w(tt(n),n.length*8))}function yt(n){for(var r=at?"0123456789ABCDEF":"0123456789abcdef",u="",t,i=0;i<n.length;i++)t=n.charCodeAt(i),u+=r.charAt(t>>>4&15)+r.charAt(t&15);return u}function l(n){for(var i="",r=-1,t,u;++r<n.length;)t=n.charCodeAt(r),u=r+1<n.length?n.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=u&&u<=57343&&(t=65536+((t&1023)<<10)+(u&1023),r++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|t&63):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|t&63):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|t&63));return i}function tt(n){for(var i=new Array(n.length>>2),t=0;t<i.length;t++)i[t]=0;for(t=0;t<n.length*8;t+=8)i[t>>5]|=(n.charCodeAt(t/8)&255)<<t%32;return i}function bt(n){for(var i="",t=0;t<n.length*32;t+=8)i+=String.fromCharCode(n[t>>5]>>>t%32&255);return i}function w(n,t){var c;n[t>>5]|=128<<t%32;n[(t+64>>>9<<4)+14]=t;var i=1732584193,r=-271733879,s=-1732584194,h=271733878;for(c=0;c<n.length;c+=16){var l=i,a=r,v=s,p=h;i=u(i,r,s,h,n[c],7,-680876936);h=u(h,i,r,s,n[c+1],12,-389564586);s=u(s,h,i,r,n[c+2],17,606105819);r=u(r,s,h,i,n[c+3],22,-1044525330);i=u(i,r,s,h,n[c+4],7,-176418897);h=u(h,i,r,s,n[c+5],12,1200080426);s=u(s,h,i,r,n[c+6],17,-1473231341);r=u(r,s,h,i,n[c+7],22,-45705983);i=u(i,r,s,h,n[c+8],7,1770035416);h=u(h,i,r,s,n[c+9],12,-1958414417);s=u(s,h,i,r,n[c+10],17,-42063);r=u(r,s,h,i,n[c+11],22,-1990404162);i=u(i,r,s,h,n[c+12],7,1804603682);h=u(h,i,r,s,n[c+13],12,-40341101);s=u(s,h,i,r,n[c+14],17,-1502002290);r=u(r,s,h,i,n[c+15],22,1236535329);i=f(i,r,s,h,n[c+1],5,-165796510);h=f(h,i,r,s,n[c+6],9,-1069501632);s=f(s,h,i,r,n[c+11],14,643717713);r=f(r,s,h,i,n[c],20,-373897302);i=f(i,r,s,h,n[c+5],5,-701558691);h=f(h,i,r,s,n[c+10],9,38016083);s=f(s,h,i,r,n[c+15],14,-660478335);r=f(r,s,h,i,n[c+4],20,-405537848);i=f(i,r,s,h,n[c+9],5,568446438);h=f(h,i,r,s,n[c+14],9,-1019803690);s=f(s,h,i,r,n[c+3],14,-187363961);r=f(r,s,h,i,n[c+8],20,1163531501);i=f(i,r,s,h,n[c+13],5,-1444681467);h=f(h,i,r,s,n[c+2],9,-51403784);s=f(s,h,i,r,n[c+7],14,1735328473);r=f(r,s,h,i,n[c+12],20,-1926607734);i=e(i,r,s,h,n[c+5],4,-378558);h=e(h,i,r,s,n[c+8],11,-2022574463);s=e(s,h,i,r,n[c+11],16,1839030562);r=e(r,s,h,i,n[c+14],23,-35309556);i=e(i,r,s,h,n[c+1],4,-1530992060);h=e(h,i,r,s,n[c+4],11,1272893353);s=e(s,h,i,r,n[c+7],16,-155497632);r=e(r,s,h,i,n[c+10],23,-1094730640);i=e(i,r,s,h,n[c+13],4,681279174);h=e(h,i,r,s,n[c],11,-358537222);s=e(s,h,i,r,n[c+3],16,-722521979);r=e(r,s,h,i,n[c+6],23,76029189);i=e(i,r,s,h,n[c+9],4,-640364487);h=e(h,i,r,s,n[c+12],11,-421815835);s=e(s,h,i,r,n[c+15],16,530742520);r=e(r,s,h,i,n[c+2],23,-995338651);i=o(i,r,s,h,n[c],6,-198630844);h=o(h,i,r,s,n[c+7],10,1126891415);s=o(s,h,i,r,n[c+14],15,-1416354905);r=o(r,s,h,i,n[c+5],21,-57434055);i=o(i,r,s,h,n[c+12],6,1700485571);h=o(h,i,r,s,n[c+3],10,-1894986606);s=o(s,h,i,r,n[c+10],15,-1051523);r=o(r,s,h,i,n[c+1],21,-2054922799);i=o(i,r,s,h,n[c+8],6,1873313359);h=o(h,i,r,s,n[c+15],10,-30611744);s=o(s,h,i,r,n[c+6],15,-1560198380);r=o(r,s,h,i,n[c+13],21,1309151649);i=o(i,r,s,h,n[c+4],6,-145523070);h=o(h,i,r,s,n[c+11],10,-1120210379);s=o(s,h,i,r,n[c+2],15,718787259);r=o(r,s,h,i,n[c+9],21,-343485551);i=y(i,l);r=y(r,a);s=y(s,v);h=y(h,p)}return[i,r,s,h]}function b(n,t,i,r,u,f){return y(ku(y(y(t,n),y(r,f)),u),i)}function u(n,t,i,r,u,f,e){return b(t&i|~t&r,n,t,u,f,e)}function f(n,t,i,r,u,f,e){return b(t&r|i&~r,n,t,u,f,e)}function e(n,t,i,r,u,f,e){return b(t^i^r,n,t,u,f,e)}function o(n,t,i,r,u,f,e){return b(i^(t|~r),n,t,u,f,e)}function y(n,t){var i=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(i>>16);return r<<16|i&65535}function ku(n,t){return n<<t|n>>>32-t}function ut(n){var i=n||window.event,c=du.call(arguments,1),f=0,u=0,r=0,e=0,l=0,v=0,o,s,h;if(n=t.event.fix(i),n.type="mousewheel","detail"in i&&(r=i.detail*-1),"wheelDelta"in i&&(r=i.wheelDelta),"wheelDeltaY"in i&&(r=i.wheelDeltaY),"wheelDeltaX"in i&&(u=i.wheelDeltaX*-1),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(u=r*-1,r=0),f=r===0?u:r,"deltaY"in i&&(r=i.deltaY*-1,f=r),"deltaX"in i&&(u=i.deltaX,r===0&&(f=u*-1)),r!==0||u!==0)return i.deltaMode===1?(o=t.data(this,"mousewheel-line-height"),f*=o,r*=o,u*=o):i.deltaMode===2&&(s=t.data(this,"mousewheel-page-height"),f*=s,r*=s,u*=s),e=Math.max(Math.abs(r),Math.abs(u)),(!a||e<a)&&(a=e,dt(i,e)&&(a/=40)),dt(i,e)&&(f/=40,u/=40,r/=40),f=Math[f>=1?"floor":"ceil"](f/a),u=Math[u>=1?"floor":"ceil"](u/a),r=Math[r>=1?"floor":"ceil"](r/a),t.event.special.mousewheel.settings.normalizeOffset&&this.getBoundingClientRect&&(h=this.getBoundingClientRect(),l=n.clientX-h.left,v=n.clientY-h.top),n.deltaX=u,n.deltaY=r,n.deltaFactor=a,n.offsetX=l,n.offsetY=v,n.deltaMode=0,c.unshift(n,f,u,r),it&&clearTimeout(it),it=setTimeout(gu,200),(t.event.dispatch||t.event.handle).apply(this,c)}function gu(){a=null}function dt(n,i){return t.event.special.mousewheel.settings.adjustOldDeltas&&n.type==="mousewheel"&&i%120==0}var t=n,p,i,h,s,c,lt,at,vt,rt,ii,ri,r,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,wr,br,kr,dr,gr,nu,tu,iu,ru,uu,fu,eu,ou,su,hu,v,cu,lu,au,vu;if(typeof n=="undefined")throw new Error("Metro 4 requires jQuery!");if("MutationObserver"in window==!1)throw new Error("Metro 4 requires MutationObserver!");var ft=t("meta[name='metro4:init']").attr("content"),et=t("meta[name='metro4:locale']").attr("content"),ot=t("meta[name='metro4:week_start']").attr("content"),st=t("meta[name='metro4:animation_duration']").attr("content"),ht=t("meta[name='metro4:callback_timeout']").attr("content"),ct=t("meta[name='metro4:timeout']").attr("content");window.METRO_INIT===undefined&&(window.METRO_INIT=ft!==undefined?JSON.parse(ft):!0);window.METRO_DEBUG===undefined&&(window.METRO_DEBUG=!0);window.METRO_WEEK_START===undefined&&(window.METRO_WEEK_START=ot!==undefined?parseInt(ot):1);window.METRO_LOCALE===undefined&&(window.METRO_LOCALE=et!==undefined?et:"en-US");window.METRO_ANIMATION_DURATION===undefined&&(window.METRO_ANIMATION_DURATION=st!==undefined?parseInt(st):300);window.METRO_CALLBACK_TIMEOUT===undefined&&(window.METRO_CALLBACK_TIMEOUT=ht!==undefined?parseInt(ht):500);window.METRO_TIMEOUT===undefined&&(window.METRO_TIMEOUT=ct!==undefined?parseInt(ct):2e3);window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE===undefined&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0);window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS===undefined&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0);window.METRO_HOTKEYS_FILTER_TEXT_INPUTS===undefined&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0);window.METRO_HOTKEYS_BUBBLE_UP===undefined&&(window.METRO_HOTKEYS_BUBBLE_UP=!1);window.METRO_THROWS===undefined&&(window.METRO_THROWS=!0);window.METRO_MEDIA=[];typeof Object.create!="function"&&(Object.create=function(n){function t(){}return t.prototype=n,new t});typeof Object.values!="function"&&(Object.values=function(n){return Object.keys(n).map(function(t){return n[t]})});p="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;i={version:"4.1.15-647",isTouchable:p,fullScreenEnabled:document.fullscreenEnabled,sheet:null,controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click.metro",start:"touchstart.metro mousedown.metro",stop:"touchend.metro mouseup.metro",move:"touchmove.metro mousemove.metro",enter:"touchstart.metro mouseenter.metro",leave:"touchend.metro mouseleave.metro",focus:"focus.metro",blur:"blur.metro",resize:"resize.metro",keyup:"keyup.metro",keydown:"keydown.metro",dblclick:"dblclick.metro",input:"input.metro",change:"change.metro",cut:"cut.metro",paste:"paste.metro",drop:"drop.metro",scroll:"scroll.metro",scrollStart:"scrollstart.metro",scrollStop:"scrollstop.metro",mousewheel:"mousewheel.metro",inputchange:"change.metro input.metro propertychange.metro cut.metro paste.metro copy.metro"},media_queries:{FS:"(min-width: 0px)",SM:"(min-width: 576px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)"},media_sizes:{FS:0,SM:576,MD:768,LG:992,XL:1200,XXL:1452},media_mode:{FS:"fs",SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},hotkeys:[],about:function(){console.log("Metro 4 Components Library - v"+this.version)},ver:function(){return this.version},observe:function(){var n,r;r=function(n){n.map(function(n){var f,e,h;if(n.type==="attributes"&&n.attributeName!=="data-role")f=t(n.target),e=f.data("metroComponent"),e!==undefined&&t.each(e,function(){var t=f.data(this);t&&t.changeAttribute(n.attributeName)});else if(n.type==="childList"&&n.addedNodes.length>0)for(var u,o={},s={},c=n.addedNodes,r=0;r<c.length;r++){if(h=n.addedNodes[r],h.tagName==="SCRIPT"||h.tagName==="STYLE")return;u=t(n.addedNodes[r]);s=u.find("[data-role]");o=u.data("role")!==undefined?t.merge(s,u):s;o.length&&i.initWidgets(o)}})};n=new MutationObserver(r);n.observe(t("html")[0],{childList:!0,attributes:!0,subtree:!0})},init:function(){var u=t("[data-role]"),f=t("[data-hotkey]"),n=t("html");return p===!0?n.addClass("metro-touch-device"):n.addClass("metro-no-touch-device"),this.sheet=r.newCssSheet(),this.observe(),this.initHotkeys(f),this.initWidgets(u),window.METRO_MEDIA=[],t.each(i.media_queries,function(n,t){r.media(t)&&METRO_MEDIA.push(i.media_mode[n])}),this.about(),this},initHotkeys:function(n){t.each(n,function(){var n=t(this),r=n.data("hotkey")?n.data("hotkey").toLowerCase():!1;if(r!==!1&&n.data("hotKeyBonded")!==!0){i.hotkeys.push(r);t(document).on(i.events.keyup,null,r,function(){if(n!==undefined)return n[0].tagName==="A"&&n.attr("href")!==undefined&&n.attr("href").trim()!==""&&n.attr("href").trim()!=="#"?document.location.href=n.attr("href"):n.click(),METRO_HOTKEYS_BUBBLE_UP});n.data("hotKeyBonded",!0)}})},initWidgets:function(n){var i=this;t.each(n,function(){var n=t(this),r=this,i=n.data("role").split(/\s*,\s*/);i.map(function(i){try{if(t.fn[i]!==undefined&&n.data(i)===undefined){t.fn[i].call(n);n.data(i+"-initiated",!0);var r=n.data("metroComponent");r===undefined?r=[i]:r.push(i);n.data("metroComponent",r)}}catch(u){console.log(u.message,u.stack)}})})},plugin:function(n,i){t.fn[n]=function(r){return this.each(function(){t.data(this,n,Object.create(i).init(r,this))})}},destroyPlugin:function(n,i){var u,f;n=r.isJQueryObject(n)?n[0]:n;u=t(n).data(i);r.isFunc(u.destroy)&&u.destroy();f=t(n).data("metroComponent");r.arrayDelete(f,i);t(n).data("metroComponent",f);t.removeData(n,i)},destroyPluginAll:function(n){n=r.isJQueryObject(n)?n[0]:n;var u=t(n).data("metroComponent");u!==undefined&&u.length>0&&t.each(u,function(){i.destroyPlugin(n,this)})},initPlugin:function(n,i){n=t(n);try{if(t.fn[i]!==undefined){t.fn[i].call(n);n.data(i+"-initiated",!0);var r=n.data("metroComponent");r===undefined?r=[i]:r.push(i);n.data("metroComponent",r)}}catch(u){console.log(u.message,u.stack)}},reinitPlugin:function(n,t){this.destroyPlugin(n,t);this.initPlugin(n,t)},reinitPluginAll:function(n){var r=t(n).data("metroComponent");r!==undefined&&r.length>0&&t.each(r,function(){i.reinitPlugin(n,this)})},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1},requestFullScreen:function(n){n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullScreen?n.webkitRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():n.requestFullscreen()},exitFullScreen:function(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen()},inFullScreen:function(){var n=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return n!==undefined}};window.Metro=i;t(window).on(i.events.resize,function(){window.METRO_MEDIA=[];t.each(i.media_queries,function(n,t){r.media(t)&&METRO_MEDIA.push(i.media_mode[n])})});h={duration:METRO_ANIMATION_DURATION,func:"swing","switch":function(n,t){n.hide();t.css({top:0,left:0}).show()},slideUp:function(n,t,i,r){var u=n.parent().outerHeight(!0);i===undefined&&(i=this.duration);r===undefined&&(r=this.func);n.css("z-index",1).animate({top:-u},i,r);t.css({top:u,left:0,zIndex:2}).animate({top:0},i,r)},slideDown:function(n,t,i,r){var u=n.parent().outerHeight(!0);i===undefined&&(i=this.duration);r===undefined&&(r=this.func);n.css("z-index",1).animate({top:u},i,r);t.css({left:0,top:-u,zIndex:2}).animate({top:0},i,r)},slideLeft:function(n,t,i,r){var u=n.parent().outerWidth(!0);i===undefined&&(i=this.duration);r===undefined&&(r=this.func);n.css("z-index",1).animate({left:-u},i,r);t.css({left:u,zIndex:2}).animate({left:0},i,r)},slideRight:function(n,t,i,r){var u=n.parent().outerWidth(!0);i===undefined&&(i=this.duration);r===undefined&&(r=this.func);n.css("z-index",1).animate({left:u},i,r);t.css({left:-u,zIndex:2}).animate({left:0},i,r)},fade:function(n,t,i){i===undefined&&(i=this.duration);n.animate({opacity:0},i);t.css({top:0,left:0}).animate({opacity:1},i)}};i.animation=h;s={TYPES:{HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",CMYK:"cmyk",UNKNOWN:"unknown"},PALETTES:{ALL:"colorList",METRO:"colorListMetro",STANDARD:"colorListStandard"},colorListMetro:{lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},colorListStandard:{aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},colorList:{},options:{angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1},init:function(){return this.colorList=t.extend({},this.colorListStandard,this.colorListMetro),this},setup:function(n){this.options=t.extend({},this.options,n)},color:function(n,t){return t=t||this.PALETTES.ALL,this[t][n]!==undefined?this[t][n]:!1},palette:function(n){return n=n||this.PALETTES.ALL,Object.keys(this[n])},hex2rgb:function(n){var t;return n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},rgb2hex:function(n){return"#"+(16777216+(n.r<<16)+(n.g<<8)+n.b).toString(16).slice(1)},rgb2hsv:function(n){var f=new pu,s,h,c,u=n.r/255,i=n.g/255,r=n.b/255,t=Math.max(u,i,r),o=Math.min(u,i,r),e=t-o;return c=t,h=t===0?0:1-o/t,s=t===o?0:t===u&&i>=r?60*((i-r)/e):t===u&&i<r?60*((i-r)/e)+360:t===i?60*((r-u)/e)+120:t===r?60*((u-i)/e)+240:0,f.h=s,f.s=h,f.v=c,f},hsv2rgb:function(n){var r,u,f,s=n.h,c=n.s*100,t=n.v*100,l=Math.floor(s/60),i=(100-c)*t/100,h=(t-i)*(s%60/60),e=i+h,o=t-h;switch(l){case 0:r=t;u=e;f=i;break;case 1:r=o;u=t;f=i;break;case 2:r=i;u=t;f=e;break;case 3:r=i;u=o;f=t;break;case 4:r=e;u=i;f=t;break;case 5:r=t;u=i;f=o}return{r:Math.round(r*255/100),g:Math.round(u*255/100),b:Math.round(f*255/100)}},hsv2hex:function(n){return this.rgb2hex(this.hsv2rgb(n))},hex2hsv:function(n){return this.rgb2hsv(this.hex2rgb(n))},rgb2cmyk:function(n){var t=new wu,i=n.r/255,r=n.g/255,u=n.b/255;return t.k=Math.min(1-i,1-r,1-u),t.c=(1-i-t.k)/(1-t.k),t.m=(1-r-t.k)/(1-t.k),t.y=(1-u-t.k)/(1-t.k),t.c=Math.round(t.c*100),t.m=Math.round(t.m*100),t.y=Math.round(t.y*100),t.k=Math.round(t.k*100),t},cmyk2rgb:function(n){var t=new yu,r=n.c/100,u=n.m/100,f=n.y/100,i=n.k/100;return t.r=1-Math.min(1,r*(1-i)+i),t.g=1-Math.min(1,u*(1-i)+i),t.b=1-Math.min(1,f*(1-i)+i),t.r=Math.round(t.r*255),t.g=Math.round(t.g*255),t.b=Math.round(t.b*255),t},hsv2hsl:function(n){var r,i,t;return r=n.h,t=(2-n.s)*n.v,i=n.s*n.v,i/=t<=1?t:2-t,t/=2,{h:r,s:i,l:t}},hsl2hsv:function(n){var r,t,u,i;return r=n.h,i=n.l*2,t=n.s*(i<=1?i:2-i),u=(i+t)/2,t=2*t/(i+t),{h:r,s:t,l:u}},rgb2websafe:function(n){return{r:Math.round(n.r/51)*51,g:Math.round(n.g/51)*51,b:Math.round(n.b/51)*51}},rgba2websafe:function(n){return{r:Math.round(n.r/51)*51,g:Math.round(n.g/51)*51,b:Math.round(n.b/51)*51,a:n.a}},hex2websafe:function(n){return this.rgb2hex(this.rgb2websafe(this.toRGB(n)))},hsv2websafe:function(n){return this.rgb2hsv(this.rgb2websafe(this.toRGB(n)))},hsl2websafe:function(n){return this.hsv2hsl(this.rgb2hsv(this.rgb2websafe(this.toRGB(n))))},cmyk2websafe:function(n){return this.rgb2cmyk(this.rgb2websafe(this.cmyk2rgb(n)))},websafe:function(n){return this.isHEX(n)?this.hex2websafe(n):this.isRGB(n)?this.rgb2websafe(n):this.isRGBA(n)?this.rgba2websafe(n):this.isHSV(n)?this.hsv2websafe(n):this.isHSL(n)?this.hsl2websafe(n):this.isCMYK(n)?this.cmyk2websafe(n):n},is:function(n){return this.isHEX(n)?this.TYPES.HEX:this.isRGB(n)?this.TYPES.RGB:this.isRGBA(n)?this.TYPES.RGBA:this.isHSV(n)?this.TYPES.HSV:this.isHSL(n)?this.TYPES.HSL:this.isCMYK(n)?this.TYPES.CMYK:this.TYPES.UNKNOWN},toRGB:function(n){if(this.isHSV(n))return this.hsv2rgb(n);if(this.isHSL(n))return this.hsv2rgb(this.hsl2hsv(n));if(this.isRGB(n))return n;if(this.isHEX(n))return this.hex2rgb(n);if(this.isCMYK(n))return this.cmyk2rgb(n);throw new Error("Unknown color format!");},toRGBA:function(n,t){var i=this.toRGB(n);return i.a=t||1,i},toHSV:function(n){return this.rgb2hsv(this.toRGB(n))},toHSL:function(n){return this.hsv2hsl(this.rgb2hsv(this.toRGB(n)))},toHSLA:function(n,t){var i;return i=this.hsv2hsl(this.rgb2hsv(this.toRGB(n))),i.a=t||this.options.alpha,i},toHEX:function(n){return this.rgb2hex(this.toRGB(n))},toCMYK:function(n){return this.rgb2cmyk(this.toRGB(n))},toHexString:function(n){return this.toHEX(n)},toHsvString:function(n){var t=this.toHSV(n);return"hsv("+[t.h,t.s,t.v].join(",")+")"},toHslString:function(n){var t=this.toHSL(n);return"hsl("+[Math.round(t.h),Math.round(t.s*100)+"%",Math.round(t.l*100)+"%"].join(",")+")"},toHslaString:function(n){var t=this.toHSLA(n);return"hsl("+[Math.round(t.h),Math.round(t.s*100)+"%",Math.round(t.l*100)+"%",t.a].join(",")+")"},toCmykString:function(n){var t=this.toCMYK(n);return"cmyk("+[t.c,t.m,t.y,t.k].join(",")+")"},toRgbString:function(n){var t=this.toRGB(n);return"rgb("+[t.r,t.g,t.b].join(",")+")"},toRgbaString:function(n){var t=this.toRGBA(n);return"rgba("+[t.r,t.g,t.b,t.a].join(",")+")"},toString:function(n){if(this.isHEX(n))return this.toHexString(n);if(this.isRGB(n))return this.toRgbString(n);if(this.isRGBA(n))return this.toRgbaString(n);if(this.isHSV(n))return this.toHsvString(n);if(this.isHSL(n))return this.toHslString(n);if(this.isHSLA(n))return this.toHslaString(n);if(this.isCMYK(n))return this.toCmykString(n);throw new Error("Unknown color format!");},grayscale:function(n,t){t=t||"hex";var i=this.toRGB(n),r=Math.round(i.r*.2125+i.g*.7154+i.b*.0721),u={r:r,g:r,b:r};return this["rgb2"+t](u)},darken:function(n,t){return t===undefined&&(t=10),this.lighten(n,-1*Math.abs(t))},lighten:function(n,t){var e,s,i,h=1,o,r,u,f;t===undefined&&(t=10);e=this.toHEX(n);e=e.slice(1);s=this.is(n);s===this.TYPES.RGBA&&(h=n.a);o=parseInt(e,16);r=(o>>16)+t;r>255?r=255:r<0&&(r=0);u=(o>>8&255)+t;u>255?u=255:u<0&&(u=0);f=(o&255)+t;f>255?f=255:f<0&&(f=0);i="#"+(f|u<<8|r<<16).toString(16);switch(s){case"rgb":return this.toRGB(i);case"rgba":return this.toRGBA(i,h);case"hsv":return this.toHSV(i);case"hsl":return this.toHSL(i);case"cmyk":return this.toCMYK(i);default:return i}},isDark:function(n){var t=this.toRGB(n),i=(t.r*299+t.g*587+t.b*114)/1e3;return i<128},isLight:function(n){return!this.isDark(n)},isHSV:function(n){return r.isObject(n)&&"h"in n&&"s"in n&&"v"in n},isHSL:function(n){return r.isObject(n)&&"h"in n&&"s"in n&&"l"in n},isHSLA:function(n){return r.isObject(n)&&"h"in n&&"s"in n&&"l"in n&&"a"in n},isRGB:function(n){return r.isObject(n)&&"r"in n&&"g"in n&&"b"in n},isRGBA:function(n){return r.isObject(n)&&"r"in n&&"g"in n&&"b"in n&&"a"in n},isCMYK:function(n){return r.isObject(n)&&"c"in n&&"m"in n&&"y"in n&&"k"in n},isHEX:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},isColor:function(n){return this.isHEX(n)||this.isRGB(n)||this.isRGBA(n)||this.isHSV(n)||this.isHSL(n)||this.isCMYK(n)},hueShift:function(n,t){for(n+=t;n>=360;)n-=360;while(n<0)n+=360;return n},getScheme:function(n,i,r,u){function b(n,t){var i=[],r=w.options;switch(t){case"hex":i=n.map(function(n){return s.toHEX(n)});break;case"rgb":i=n.map(function(n){return s.toRGB(n)});break;case"rgba":i=n.map(function(n){return s.toRGBA(n,r.alpha)});break;case"hsl":i=n.map(function(n){return s.toHSL(n)});break;case"cmyk":i=n.map(function(n){return s.toCMYK(n)});break;default:i=n}return i}function p(n,t,i){return Math.max(t,Math.min(n,i))}function y(n,t,i){return n<t?t:n>i?i:n}var v,o,h,w;if(this.options=t.extend({},this.options,u),o=[],w=this,h=this.toHSV(n),this.isHSV(h)===!1)return console.log("The value is a not supported color format!"),!1;var e,f=h.h,a=h.s,l=h.v,c=this.options;switch(i){case"monochromatic":case"mono":if(c.algorithm===1)e=this.hsv2rgb(h),e.r=y(Math.round(e.r+(255-e.r)*c.tint1),0,255),e.g=y(Math.round(e.g+(255-e.g)*c.tint1),0,255),e.b=y(Math.round(e.b+(255-e.b)*c.tint1),0,255),o.push(this.rgb2hsv(e)),e=this.hsv2rgb(h),e.r=y(Math.round(e.r+(255-e.r)*c.tint2),0,255),e.g=y(Math.round(e.g+(255-e.g)*c.tint2),0,255),e.b=y(Math.round(e.b+(255-e.b)*c.tint2),0,255),o.push(this.rgb2hsv(e)),o.push(h),e=this.hsv2rgb(h),e.r=y(Math.round(e.r*c.shade1),0,255),e.g=y(Math.round(e.g*c.shade1),0,255),e.b=y(Math.round(e.b*c.shade1),0,255),o.push(this.rgb2hsv(e)),e=this.hsv2rgb(h),e.r=y(Math.round(e.r*c.shade2),0,255),e.g=y(Math.round(e.g*c.shade2),0,255),e.b=y(Math.round(e.b*c.shade2),0,255),o.push(this.rgb2hsv(e));else if(c.algorithm===2)for(o.push(h),v=1;v<=c.distance;v++)l=p(l-c.step,0,1),a=p(a-c.step,0,1),o.push({h:f,s:a,v:l});else if(c.algorithm===3)for(o.push(h),v=1;v<=c.distance;v++)l=p(l-c.step,0,1),o.push({h:f,s:a,v:l});else l=p(h.v+c.step*2,0,1),o.push({h:f,s:a,v:l}),l=p(h.v+c.step,0,1),o.push({h:f,s:a,v:l}),o.push(h),a=h.s,l=h.v,l=p(h.v-c.step,0,1),o.push({h:f,s:a,v:l}),l=p(h.v-c.step*2,0,1),o.push({h:f,s:a,v:l});break;case"complementary":case"complement":case"comp":o.push(h);f=this.hueShift(h.h,180);o.push({h:f,s:a,v:l});break;case"double-complementary":case"double-complement":case"double":o.push(h);console.log(f);f=this.hueShift(f,180);o.push({h:f,s:a,v:l});console.log(f);f=this.hueShift(f,c.angle);o.push({h:f,s:a,v:l});console.log(f);f=this.hueShift(f,180);o.push({h:f,s:a,v:l});console.log(f);break;case"analogous":case"analog":f=this.hueShift(f,c.angle);o.push({h:f,s:a,v:l});o.push(h);f=this.hueShift(h.h,0-c.angle);o.push({h:f,s:a,v:l});break;case"triadic":case"triad":for(o.push(h),v=1;v<3;v++)f=this.hueShift(f,120),o.push({h:f,s:a,v:l});break;case"tetradic":case"tetra":o.push(h);f=this.hueShift(h.h,180);o.push({h:f,s:a,v:l});f=this.hueShift(h.h,-1*c.angle);o.push({h:f,s:a,v:l});f=this.hueShift(f,180);o.push({h:f,s:a,v:l});break;case"square":for(o.push(h),v=1;v<4;v++)f=this.hueShift(f,90),o.push({h:f,s:a,v:l});break;case"split-complementary":case"split-complement":case"split":f=this.hueShift(f,180-c.angle);o.push({h:f,s:a,v:l});o.push(h);f=this.hueShift(h.h,180+c.angle);o.push({h:f,s:a,v:l});break;default:console.log("Unknown scheme name")}return b(o,r)}};i.colors=s.init();t.easing.jswing=t.easing.swing;t.extend(t.easing,{def:"easeOutQuad",swing:function(n,i,r,u,f){return t.easing[t.easing.def](n,i,r,u,f)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*(t/=u)*t*((f+1)*t-f)+i},easeOutBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeInOutBack:function(n,t,i,r,u,f){return(f==undefined&&(f=1.70158),(t/=u/2)<1)?r/2*t*t*(((f*=1.525)+1)*t-f)+i:r/2*((t-=2)*t*(((f*=1.525)+1)*t+f)+2)+i},easeInBounce:function(n,i,r,u,f){return u-t.easing.easeOutBounce(n,f-i,0,u,f)+r},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(n,i,r,u,f){return i<f/2?t.easing.easeInBounce(n,i*2,0,u,f)*.5+r:t.easing.easeOutBounce(n,i*2-f,0,u,f)*.5+u*.5+r}});t.fn.extend({toggleAttr:function(n,i){return this.each(function(){var r=t(this);i!==undefined?r.attr(n,i):r.attr(n)!==undefined?r.removeAttr(n):r.attr(n,""+n)})},clearClasses:function(){return this.each(function(){this.className=""})}});Array.prototype.shuffle=function(){for(var n=this.length,i,t;0!==n;)t=Math.floor(Math.random()*n),n-=1,i=this[n],this[n]=this[t],this[t]=i;return this};Array.prototype.clone=function(){return this.slice(0)};Array.prototype.unique=function(){for(var t,n=this.concat(),i=0;i<n.length;++i)for(t=i+1;t<n.length;++t)n[i]===n[t]&&n.splice(t--,1);return n};Number.prototype.format=function(n,t,i,r){var f="\\d(?=(\\d{"+(t||3)+"})+"+(n>0?"\\D":"$")+")",u=this.toFixed(Math.max(0,~~n));return(r?u.replace(".",r):u).replace(new RegExp(f,"g"),"$&"+(i||","))};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.contains=function(){return!!~String.prototype.indexOf.apply(this,arguments)};Date.prototype.format=function(n,t){t===undefined&&(t="en-US");var l=(i.locales[t]!==undefined?i.locales[t]:i.locales["en-US"]).calendar,r=this,o=r.getDay(),h=r.getDate(),s=r.getMonth(),f=r.getFullYear(),e=r.getHours(),a=l.days,v=l.months,y=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(){return f%4==0&&f%100!=0||f%400==0},c=function(){var n=new Date(r);return n.setDate(h-(o+6)%7+3),n},u=function(n,t){return(""+(Math.pow(10,t)+n)).slice(1)};return n.replace(/%[a-z]/gi,function(n){return{"%a":a[o].slice(0,3),"%A":a[o],"%b":v[s].slice(0,3),"%B":v[s],"%c":r.toUTCString(),"%C":Math.floor(f/100),"%d":u(h,2),"%e":h,"%F":r.toISOString().slice(0,10),"%G":c().getFullYear(),"%g":(""+c().getFullYear()).slice(2),"%H":u(e,2),"%I":u((e+11)%12+1,2),"%j":u(y[s]+h+(s>1&&p()?1:0),3),"%k":""+e,"%l":(e+11)%12+1,"%m":u(s+1,2),"%M":u(r.getMinutes(),2),"%p":e<12?"AM":"PM","%P":e<12?"am":"pm","%s":Math.round(r.getTime()/1e3),"%S":u(r.getSeconds(),2),"%u":o||7,"%V":function(){var n=c(),i=n.valueOf(),t;return n.setMonth(0,1),t=n.getDay(),t!==4&&n.setMonth(0,1+(11-t)%7),u(1+Math.ceil((i-n)/6048e5),2)}(),"%w":""+o,"%x":r.toLocaleDateString(),"%X":r.toLocaleTimeString(),"%y":(""+f).slice(2),"%Y":f,"%z":r.toTimeString().replace(/.+GMT([+-]\d+).+/,"$1"),"%Z":r.toTimeString().replace(/.+\((.+?)\)$/,"$1")}[n]||n})};c={specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS,filterTextInputs:METRO_HOTKEYS_FILTER_TEXT_INPUTS,filterContentEditable:METRO_HOTKEYS_FILTER_CONTENT_EDITABLE},keyHandler:function(n){if(typeof n.data=="string"&&(n.data={keys:n.data}),n.data&&n.data.keys&&typeof n.data.keys=="string"){var r=n.handler,i=n.data.keys.toLowerCase().split(" ");n.handler=function(n){var o,h;if(this===n.target||!(c.options.filterInputAcceptingElements&&c.textInputTypes.test(n.target.nodeName)||c.options.filterContentEditable&&t(n.target).attr("contenteditable")||c.options.filterTextInputs&&t.inArray(n.target.type,c.textAcceptingInputTypes)>-1)){var f=n.type!=="keypress"&&c.specialKeys[n.which],s=String.fromCharCode(n.which).toLowerCase(),u="",e={};for(t.each(["alt","ctrl","shift"],function(t,i){n[i+"Key"]&&f!==i&&(u+=i+"+")}),n.metaKey&&!n.ctrlKey&&f!=="meta"&&(u+="meta+"),n.metaKey&&f!=="meta"&&u.indexOf("alt+ctrl+shift+")>-1&&(u=u.replace("alt+ctrl+shift+","hyper+")),f?e[u+f]=!0:(e[u+s]=!0,e[u+c.shiftNums[s]]=!0,u==="shift+"&&(e[c.shiftNums[s]]=!0)),o=0,h=i.length;o<h;o++)if(e[i[o]])return r.apply(this,arguments)}}}}};t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:c.keyHandler}});lt={"en-US":{calendar:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa","Sun","Mon","Tus","Wen","Thu","Fri","Sat"],time:{days:"DAYS",hours:"HOURS",minutes:"MINS",seconds:"SECS",month:"MON",day:"DAY",year:"YEAR"}},buttons:{ok:"OK",cancel:"Cancel",done:"Done",today:"Today",now:"Now",clear:"Clear",help:"Help",yes:"Yes",no:"No",random:"Random"}},"cn-ZH":{calendar:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","日","一","二","三","四","五","六","周日","周一","周二","周三","周四","周五","周六"],time:{days:"天",hours:"时",minutes:"分",seconds:"秒",month:"月",day:"日",year:"年"}},buttons:{ok:"确认",cancel:"取消",done:"完成",today:"今天",now:"现在",clear:"清除",help:"帮助",yes:"是",no:"否",random:"随机"}},"de-DE":{calendar:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sn","Mn","Di","Mi","Do","Fr","Sa","Son","Mon","Die","Mit","Don","Fre","Sam"],time:{days:"TAGE",hours:"UHR",minutes:"MIN",seconds:"SEK"}},buttons:{ok:"OK",cancel:"Abbrechen",done:"Fertig",today:"Heute",now:"Jetzt",clear:"Reinigen",help:"Hilfe",yes:"Ja",no:"Nein",random:"Zufällig"}},"hu-HU":{calendar:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December","Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],days:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat","V","H","K","Sz","Cs","P","Sz","Vas","Hét","Ke","Sze","Csü","Pén","Szom"],time:{days:"NAP",hours:"ÓRA",minutes:"PERC",seconds:"MP"}},buttons:{ok:"OK",cancel:"Mégse",done:"Kész",today:"Ma",now:"Most",clear:"Törlés",help:"Segítség",yes:"Igen",no:"Nem",random:"Véletlen"}},"ru-RU":{calendar:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь","Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вос","Пон","Вто","Сре","Чет","Пят","Суб"],time:{days:"ДНИ",hours:"ЧАСЫ",minutes:"МИН",seconds:"СЕК"}},buttons:{ok:"ОК",cancel:"Отмена",done:"Готово",today:"Сегодня",now:"Сейчас",clear:"Очистить",help:"Помощь",yes:"Да",no:"Нет",random:"Случайно"}},"uk-UA":{calendar:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень","Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П’ятниця","Субота","Нд","Пн","Вт","Ср","Чт","Пт","Сб","Нед","Пон","Вiв","Сер","Чет","Пят","Суб"],time:{days:"ДНІ",hours:"ГОД",minutes:"ХВИЛ",seconds:"СЕК"}},buttons:{ok:"ОК",cancel:"Відміна",done:"Готово",today:"Сьогодні",now:"Зараз",clear:"Очистити",help:"Допомога",yes:"Так",no:"Ні",random:"Випадково"}},"es-MX":{calendar:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Do","Lu","Ma","Mi","Ju","Vi","Sa","Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],time:{days:"DÍAS",hours:"HORAS",minutes:"MINS",seconds:"SEGS",month:"MES",day:"DÍA",year:"AÑO"}},buttons:{ok:"Aceptar",cancel:"Cancelar",done:"Hecho",today:"Hoy",now:"Ahora",clear:"Limpiar",help:"Ayuda",yes:"Si",no:"No",random:"Aleatorio"}},"fr-FR":{calendar:{months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre","janv","févr","mars","avr","mai","juin","juil","août","sept","oct","nov","déc"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi","de","lu","ma","me","je","ve","sa","dim","lun","mar","mer","jeu","ven","sam"],time:{days:"JOURS",hours:"HEURES",minutes:"MINS",seconds:"SECS",month:"MOIS",day:"JOUR",year:"ANNEE"}},buttons:{ok:"OK",cancel:"Annulé",done:"Fait",today:"Aujourd'hui",now:"Maintenant",clear:"Effacé",help:"Aide",yes:"Oui",no:"Non",random:"Aléatoire"}}};i.locales=lt;at=0;vt="";var kt=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],du=Array.prototype.slice,it,a;if(t.event.fixHooks)for(rt=kt.length;rt;)t.event.fixHooks[kt[--rt]]=t.event.mouseHooks;t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=k.length;n;)this.addEventListener(k[--n],ut,!1);else this.onmousewheel=ut;t.data(this,"mousewheel-line-height",t.event.special.mousewheel.getLineHeight(this));t.data(this,"mousewheel-page-height",t.event.special.mousewheel.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=k.length;n;)this.removeEventListener(k[--n],ut,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height");t.removeData(this,"mousewheel-page-height")},getLineHeight:function(n){var r=t(n),i=r["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(n){return t(n).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}});var gt=t.event.dispatch||t.event.handle,d=n.event.special,ni="D"+ +new Date,ti="D"+(+new Date+1);d.scrollstart={setup:function(n){var u=t.extend({latency:d.scrollstop.latency},n),i,r=function(n){var t=this;i?(clearTimeout(i),i=null):(n.type="scrollstart",gt.apply(t,arguments));i=setTimeout(function(){i=null},u.latency)};t(this).on("scroll",r).data(ni,r)},teardown:function(){t(this).off("scroll",t(this).data(ni))}};d.scrollstop={latency:250,setup:function(n){var u=t.extend({latency:d.scrollstop.latency},n),i,r=function(n){var t=this,r=arguments;i&&(clearTimeout(i),i=null);i=setTimeout(function(){i=null;n.type="scrollstop";gt.apply(t,r)},u.latency)};t(this).on("scroll",r).data(ti,r)},teardown:function(){t(this).off("scroll",t(this).data(ti))}};ii={key:"METRO:APP",init:function(n){return this.options=t.extend({},this.options,n),this},nvl:function(n,t){return n===undefined||n===null?t:n},setKey:function(n){this.key=n},getKey:function(){return this.key},setItem:function(n,t){window.localStorage.setItem(this.key+":"+n,JSON.stringify(t))},getItem:function(n,t,i){var r,u=this.nvl(window.localStorage.getItem(this.key+":"+n),t);try{r=JSON.parse(u,i)}catch(f){r=null}return r},getItemPart:function(n,t,i,r){var u,f=this.getItem(n,i,r);for(t=t.split("->"),u=0;u<t.length;u++)f=f[t[u]];return f},delItem:function(n){window.localStorage.removeItem(this.key+":"+n)},size:function(n){var t;switch(n){case"m":case"M":t=1048576;break;case"k":case"K":t=1024;break;default:t=1}return JSON.stringify(window.localStorage).length/t}};i.storage=ii.init();ri=function(n,t){for(var o=/<%(.+?)%>/g,s=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,i="with(obj) { var r=[];\n",u=0,e,r,f=function(n,t){return i+=t?n.match(s)?n+"\n":"r.push("+n+");\n":n!==""?'r.push("'+n.replace(/"/g,'\\"')+'");\n':"",f};r=o.exec(n);)f(n.slice(u,r.index))(r[1],!0),u=r.index+r[0].length;f(n.substr(u,n.length-u));i=(i+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{e=new Function("obj",i).apply(t,[t])}catch(h){console.error("'"+h.message+"'"," in \n\nCode:\n",i,"\n")}return e};i.template=ri;r={isUrl:function(n){return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(n)},isTag:function(n){return/^<\/?[\w\s="/.':;#-\/\?]+>/gi.test(n)},isColor:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},isEmbedObject:function(n){var i=!1;return t.each(["iframe","object","embed","video"],function(){n.indexOf(this)!==-1&&(i=!0)}),i},isVideoUrl:function(n){return/youtu\.be|youtube|vimeo/gi.test(n)},isDate:function(n){return String(new Date(n))!=="Invalid Date"},isInt:function(n){return Number(n)===n&&n%1==0},isFloat:function(n){return Number(n)===n&&n%1!=0},isTouchDevice:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},isFunc:function(n){return this.isType(n,"function")},isObject:function(n){return this.isType(n,"object")},isArray:function(n){return Array.isArray(n)},isType:function(n,t){if(n===undefined||n===null)return!1;if(typeof n===t)return n;if(this.isTag(n)||this.isUrl(n))return!1;if(typeof window[n]===t)return window[n];if(typeof n=="string"&&n.indexOf(".")===-1||typeof n=="string"&&n.indexOf(" ")!==-1||typeof n=="string"&&n.indexOf("(")!==-1||typeof n=="string"&&n.indexOf("[")!==-1)return!1;for(var u=n.split("."),r=window,i=0;i<u.length;i++)r=r[u[i]];return typeof r===t?r:!1},isMetroObject:function(n,i){var r=t(n),u=r.data(i);return r.length===0?(console.log(i+" "+n+" not found!"),!1):u===undefined?(console.log("Element not contain role "+i+'! Please add attribute data-role="'+i+'" to element '+n),!1):!0},isJQueryObject:function(t){return typeof n=="function"&&t instanceof n},embedObject:function(n){return typeof n!="string"&&(n=this.isJQueryObject(n)?n.html():n.innerHTML),"<div class='embed-container'>"+n+"<\/div>"},embedUrl:function(n){return n.indexOf("youtu.be")!==-1&&(n="https://www.youtube.com/embed/"+n.split("/").pop()),"<div class='embed-container'><iframe src='"+n+"'><\/iframe><\/div>"},secondsToTime:function(n){var i=Math.floor(n/3600),t=n%3600,r=Math.floor(t/60),u=t%60,f=Math.ceil(u);return{h:i,m:r,s:f}},hex2rgba:function(n,t){var i;if(t=isNaN(t)?1:t,/^#([A-Fa-f0-9]{3}){1,2}$/.test(n))return i=n.substring(1).split(""),i.length===3&&(i=[i[0],i[0],i[1],i[1],i[2],i[2]]),i="0x"+i.join(""),"rgba("+[i>>16&255,i>>8&255,i&255].join(",")+","+t+")";throw new Error("Hex2rgba error. Bad Hex value");},random:function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},uniqueId:function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t==="x"?i:i&3|8).toString(16)})},elementId:function(n){return n+"-"+(new Date).getTime()+r.random(1,1e3)},secondsToFormattedString:function(n){var u=parseInt(n,10),t=Math.floor(u/3600),i=Math.floor((u-t*3600)/60),r=u-t*3600-i*60;return t<10&&(t="0"+t),i<10&&(i="0"+i),r<10&&(r="0"+r),[t,i,r].join(":")},callback:function(n,t,i){return this.exec(n,t,i)},exec:function(n,t,i){var u,r;if(n===undefined||n===null)return!1;r=this.isFunc(n);r===!1&&(r=new Function("a",n));try{u=r.apply(i,t)}catch(f){if(u=null,METRO_THROWS===!0)throw f;}return u},isOutsider:function(n){n=this.isJQueryObject(n)?n:t(n);var i,r=n.clone();return r.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),n.parent().append(r),i=r[0].getBoundingClientRect(),r.remove(),i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)},inViewport:function(t){typeof n=="function"&&t instanceof n&&(t=t[0]);var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)},objectLength:function(n){return Object.keys(n).length},percent:function(n,t,i){if(n===0)return 0;var r=t*100/n;return i===!0?Math.round(r):Math.round(r*100)/100},camelCase:function(n){return n.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})},objectShift:function(n){var i=0;return t.each(n,function(n){i===0?i=n:i>n&&(i=n)}),delete n[i],n},objectDelete:function(n,t){n[t]!==undefined&&delete n[t]},arrayDelete:function(n,t){n.splice(n.indexOf(t),1)},arrayDeleteByKey:function(n,t){n.splice(t,1)},nvl:function(n,t){return n===undefined||n===null?t:n},objectClone:function(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},github:function(n,i){var r=this;t.ajax({url:"https://api.github.com/repos/"+n,dataType:"jsonp"}).done(function(n){r.callback(i,[n.data])})},detectIE:function(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},md5:function(n){return bu(n)},encodeURI:function(n){return encodeURI(n).replace(/%5B/g,"[").replace(/%5D/g,"]")},pageHeight:function(){var t=document.body,n=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)},cleanPreCode:function(n){var t=Array.prototype.slice.call(document.querySelectorAll(n),0);t.forEach(function(n){var t=n.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,""),r,f,e,u,i;if(/^\S/gm.test(t)){n.textContent=t;return}for(e=/^[\t ]+/gm,i=1e3;r=e.exec(t);)u=r[0].length,u<i&&(i=u,f=r[0]);i!==1e3&&(n.textContent=t.replace(new RegExp("^"+f,"gm"),""))})},coords:function(n){this.isJQueryObject(n)&&(n=n[0]);var t=n.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},positionXY:function(n,t){switch(t){case"client":return this.clientXY(n);case"screen":return this.screenXY(n);case"page":return this.pageXY(n);default:return{x:0,y:0}}},clientXY:function(n){return{x:n.changedTouches?n.changedTouches[0].clientX:n.clientX,y:n.changedTouches?n.changedTouches[0].clientY:n.clientY}},screenXY:function(n){return{x:n.changedTouches?n.changedTouches[0].screenX:n.screenX,y:n.changedTouches?n.changedTouches[0].screenY:n.screenY}},pageXY:function(n){return{x:n.changedTouches?n.changedTouches[0].pageX:n.pageX,y:n.changedTouches?n.changedTouches[0].pageY:n.pageY}},isRightMouse:function(n){return"which"in n?n.which===3:"button"in n?n.button===2:undefined},hiddenElementSize:function(n,i){var r=t(n).clone(),u,f;return r.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),t("body").append(r),i===undefined&&(i=!1),u=r.outerWidth(i),f=r.outerHeight(i),r.remove(),{width:u,height:f}},getStyle:function(n,t){return r.isJQueryObject(n)===!0&&(n=n[0]),window.getComputedStyle(n,t)},getStyleOne:function(n,t){return this.getStyle(n).getPropertyValue(t)},getTransformMatrix:function(n,t){var r=this.getStyleOne(n,"transform"),i=r.replace("matrix(","").slice(0,-1).split(",");return t!==!0?{a:i[0],b:i[1],c:i[2],d:i[3],tx:i[4],ty:i[5]}:i},computedRgbToHex:function(n){var r=n.replace(/[^\d,]/g,"").split(","),i="#";return t.each(r,function(){var n=parseInt(this).toString(16);i+=n.length===1?"0"+n:n}),i},computedRgbToRgba:function(n,t){var i=n.replace(/[^\d,]/g,"").split(",");return t===undefined&&(t=1),i.push(t),"rgba("+i.join(",")+")"},computedRgbToArray:function(n){return n.replace(/[^\d,]/g,"").split(",")},hexColorToArray:function(n){var t;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(n)?(t=n.substring(1).split(""),t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,t&255]):[0,0,0]},hexColorToRgbA:function(n,t){var i;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(n)?(i=n.substring(1).split(""),i.length===3&&(i=[i[0],i[0],i[1],i[1],i[2],i[2]]),i="0x"+i.join(""),"rgba("+[i>>16&255,i>>8&255,i&255,t?t:1].join(",")+")"):"rgba(0,0,0,1)"},getInlineStyles:function(n){var r={},t,u,i;for(this.isJQueryObject(n)&&(n=n[0]),t=0,u=n.style.length;t<u;t++)i=n.style[t],r[i]=n.style[i];return r},updateURIParameter:function(n,t,i){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),u=n.indexOf("?")!==-1?"&":"?";return n.match(r)?n.replace(r,"$1"+t+"="+i+"$2"):n+u+t+"="+i},getURIParameter:function(n,t){n||(n=window.location.href);t=t.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=r.exec(n);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(i.locales)},addLocale:function(n){i.locales=t.extend({},i.locales,n)},strToArray:function(n,t){return t===undefined&&(t=","),n.split(t).map(function(n){return n.trim()})},aspectRatioH:function(n,t){return t==="16/9"?n*9/16:t==="21/9"?n*9/21:t==="4/3"?n*3/4:void 0},aspectRatioW:function(n,t){return t==="16/9"?n*16/9:t==="21/9"?n*21/9:t==="4/3"?n*4/3:void 0},valueInObject:function(n,t){return Object.values(n).indexOf(t)>-1},keyInObject:function(){return Object.keys(obj).indexOf(value)>-1},inObject:function(n,t,i){return n[t]!==undefined&&n[t]===i},newCssSheet:function(n){var t=document.createElement("style");return n!==undefined&&t.setAttribute("media",n),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet},addCssRule:function(n,t,i,r){"insertRule"in n?n.insertRule(t+"{"+i+"}",r):"addRule"in n&&n.addRule(t,i,r)},media:function(n){return window.matchMedia(n).matches},mediaModes:function(){return METRO_MEDIA},inMedia:function(n){return METRO_MEDIA.indexOf(n)>-1&&METRO_MEDIA.indexOf(n)===METRO_MEDIA.length-1}};i.utils=r;ui={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onAccordionCreate,[this.element]),this},options:{duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:"",activeHeadingClass:"",activeContentClass:"",onFrameOpen:i.noop,onFrameBeforeOpen:i.noop_true,onFrameClose:i.noop,onFrameBeforeClose:i.noop_true,onAccordionCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var f=this,n=this.element,t=this.options,u=n.children(".frame"),i=n.children(".frame.active"),r;n.addClass("accordion");r=i.length===0?u[0]:i[0];this._hideAll();(t.showActive===!0||t.oneFrame===!0)&&this._openFrame(r);this._createEvents()},_createEvents:function(){var r=this,n=this.element,u=this.options,f=n.children(".frame.active");n.on(i.events.click,".heading",function(){var e=t(this),i=e.parent();if(e.closest(".accordion")[0]!==n[0])return!1;i.hasClass("active")?f.length===1&&u.oneFrame||r._closeFrame(i):r._openFrame(i);n.trigger("open",{frame:i})})},_openFrame:function(n){var e=this,f=this.element,i=this.options,o=f.children(".frame"),u=t(n);if(r.exec(i.onFrameBeforeOpen,u[0])===!1)return!1;i.oneFrame===!0&&this._closeAll();u.addClass("active "+i.activeFrameClass);u.children(".heading").addClass(i.activeHeadingClass);u.children(".content").addClass(i.activeContentClass).slideDown(i.duration);r.callback(i.onFrameOpen,u[0])},_closeFrame:function(n){var f=this,e=this.element,i=this.options,u=t(n);r.exec(i.onFrameBeforeOpen,u[0])!==!1&&(u.removeClass("active "+i.activeFrameClass),u.children(".heading").removeClass(i.activeHeadingClass),u.children(".content").removeClass(i.activeContentClass).slideUp(i.duration),r.callback(i.onFrameClose,u[0]))},_closeAll:function(){var n=this,i=this.element,u=this.options,r=i.children(".frame");t.each(r,function(){n._closeFrame(this)})},_hideAll:function(){var r=this,n=this.element,u=this.options,i=n.children(".frame");t.each(i,function(){t(this).children(".content").hide(0)})},_openAll:function(){var n=this,i=this.element,u=this.options,r=i.children(".frame");t.each(r,function(){n._openFrame(this)})},changeAttribute:function(){},destroy:function(){this.element.off(i.events.click,".heading")}};i.plugin("accordion",ui);fi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onActivityCreate,[this.element]),this},options:{type:"ring",style:"light",size:64,radius:20,onActivityCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){function f(){for(n=0;n<5;n++)t("<div/>").addClass("circle").appendTo(i)}function e(){for(n=0;n<4;n++)t("<div/>").addClass("square").appendTo(i)}function o(){t("<div/>").addClass("cycle").appendTo(i)}function s(){for(n=0;n<5;n++)u=t("<div/>").addClass("wrap").appendTo(i),t("<div/>").addClass("circle").appendTo(u)}function h(){t('<svg class="circular"><circle class="path" cx="'+r.size/2+'" cy="'+r.size/2+'" r="'+r.radius+'" fill="none" stroke-width="2" stroke-miterlimit="10"/><\/svg>').appendTo(i)}var c=this,i=this.element,r=this.options,n,u;i.html("").addClass(r.style+"-style").addClass("activity-"+r.type);switch(r.type){case"metro":f();break;case"square":e();break;case"cycle":o();break;case"simple":h();break;default:s()}},changeAttribute:function(){},destroy:function(){var i=this,t=this.element,n=this.options;t.html("").removeClass(n.style+"-style").removeClass("activity-"+n.type)}};i.plugin("activity",fi);ei={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),this},options:{duration:100,onAppBarCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createStructure();this._createEvents();r.exec(t.onAppBarCreate,[n])},_createStructure:function(){var h=this,u=this.element,c=this.options,o=r.elementId("app-bar"),n,f,e;if(u.addClass("app-bar"),n=u.find(".hamburger"),n.length===0){for(n=t("<button>").attr("type","button").addClass("hamburger menu-down"),e=0;e<3;e++)t("<span>").addClass("line").appendTo(n);s.isLight(r.computedRgbToHex(r.getStyleOne(u,"background-color")))===!0&&n.addClass("dark")}u.prepend(n);f=u.find(".app-bar-menu");f.length===0?n.hide():r.addCssRule(i.sheet,".app-bar-menu li","list-style: none!important;");!!u.attr("id")==!1&&u.attr("id",o);n.css("display")==="block"?(f.hide().addClass("collapsed"),n.removeClass("hidden")):n.addClass("hidden")},_createEvents:function(){var f=this,r=this.element,e=this.options,n=r.find(".app-bar-menu"),u=r.find(".hamburger");r.on(i.events.click,".hamburger",function(){if(n.length!==0){var t=n.hasClass("collapsed");t?f.open():f.close()}});t(window).on(i.events.resize+"-"+r.attr("id"),function(){n.length!==0&&(u.css("display")!=="block"?(n.show(),u.addClass("hidden")):(u.removeClass("hidden"),u.hasClass("active")?n.show().removeClass("collapsed"):n.hide().addClass("collapsed")))})},close:function(){var u=this,n=this.element,i=this.options,t=n.find(".app-bar-menu"),r=n.find(".hamburger");t.slideUp(i.duration,function(){t.addClass("collapsed");r.removeClass("active")})},open:function(){var u=this,n=this.element,i=this.options,t=n.find(".app-bar-menu"),r=n.find(".hamburger");t.slideDown(i.duration,function(){t.removeClass("collapsed");r.addClass("active")})},changeAttribute:function(){},destroy:function(){var n=this.element;n.off(i.events.click,".hamburger");t(window).off(i.events.resize+"-"+n.attr("id"))}};i.plugin("appbar",ei);oi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.preloader=null,this.player=null,this.audio=i,this.stream=null,this.volume=null,this.volumeBackup=0,this.muted=!1,this._setOptionsFromDOM(),this._create(),this},options:{playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"<span class='default-icon-loop'><\/span>",stopIcon:"<span class='default-icon-stop'><\/span>",playIcon:"<span class='default-icon-play'><\/span>",pauseIcon:"<span class='default-icon-pause'><\/span>",muteIcon:"<span class='default-icon-mute'><\/span>",volumeLowIcon:"<span class='default-icon-low-volume'><\/span>",volumeMediumIcon:"<span class='default-icon-medium-volume'><\/span>",volumeHighIcon:"<span class='default-icon-high-volume'><\/span>",playlistIcon:"<span class='default-icon-playlist'><\/span>",nextIcon:"<span class='default-icon-next'><\/span>",prevIcon:"<span class='default-icon-prev'><\/span>",firstIcon:"<span class='default-icon-first'><\/span>",lastIcon:"<span class='default-icon-last'><\/span>",forwardIcon:"<span class='default-icon-forward'><\/span>",backwardIcon:"<span class='default-icon-backward'><\/span>",shuffleIcon:"<span class='default-icon-shuffle'><\/span>",randomIcon:"<span class='default-icon-random'><\/span>",onPlay:i.noop,onPause:i.noop,onStop:i.noop,onEnd:i.noop,onMetadata:i.noop,onTime:i.noop,onAudioCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,t=this.element,n=this.options,u=this.audio;this._createPlayer();this._createControls();this._createEvents();n.autoplay===!0&&this.play();r.exec(n.onAudioCreate,[t,this.player])},_createPlayer:function(){var o=this,n=this.element,r=this.options,f=this.audio,u=n.prev(),e=n.parent(),i=t("<div>").addClass("media-player audio-player "+n[0].className);u.length===0?e.prepend(i):i.insertAfter(u);n.appendTo(i);t.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){n.removeAttr(this)});n.attr("preload","auto");f.volume=r.volume;r.src!==null&&this._setSource(r.src);n[0].className="";this.player=i},_setSource:function(n){var i=this.element;i.find("source").remove();i.removeAttr("src");Array.isArray(n)?t.each(n,function(){var n=this;n.src!==undefined&&t("<source>").attr("src",n.src).attr("type",n.type!==undefined?n.type:"").appendTo(i)}):i.attr("src",n)},_createControls:function(){var u=this,o=this.element,n=this.options,i=this.elem,w=this.player,r=t("<div>").addClass("controls").addClass(n.clsControls).insertAfter(o),f=t("<div>").addClass("stream").appendTo(r),s=t("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(f),e=t("<div>").addClass("load-audio").appendTo(f),h=t("<div>").addClass("volume").appendTo(r),c=t("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(h),l=t("<div>").addClass("info-box").appendTo(r),a,v,y,p;n.showInfo!==!0&&l.hide();e.activity({type:"metro",style:"color"});e.hide(0);this.preloader=e;s.slider({clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){i.paused||i.pause()},onStop:function(n){i.seekable.length>0&&(i.currentTime=(u.duration*n/100).toFixed(0));i.paused&&i.currentTime>0&&i.play()}});this.stream=s;n.showStream!==!0&&f.hide();c.slider({clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:n.volume*100,onChangeValue:function(n){i.volume=n/100}});this.volume=c;n.showVolume!==!0&&h.hide();n.showLoop===!0&&(a=t("<button>").attr("type","button").addClass("button square loop").html(n.loopIcon).appendTo(r));n.showPlay===!0&&(v=t("<button>").attr("type","button").addClass("button square play").html(n.playIcon).appendTo(r));n.showStop===!0&&(y=t("<button>").attr("type","button").addClass("button square stop").html(n.stopIcon).appendTo(r));n.showMute===!0&&(p=t("<button>").attr("type","button").addClass("button square mute").html(n.muteIcon).appendTo(r));n.loop===!0&&(a.addClass("active"),o.attr("loop","loop"));this._setVolume();n.muted&&(u.volumeBackup=i.volume,u.volume.data("slider").val(0),i.volume=0);l.html("00:00 / 00:00")},_createEvents:function(){var n=this,t=this.element,e=this.options,f=this.elem,u=this.player;t.on("loadstart",function(){n.preloader.fadeIn()});t.on("loadedmetadata",function(){n.duration=f.duration.toFixed(0);n._setInfo(0,n.duration);r.exec(e.onMetadata,[f,u])});t.on("canplay",function(){n._setBuffer();n.preloader.fadeOut()});t.on("progress",function(){n._setBuffer()});t.on("timeupdate",function(){var t=Math.round(f.currentTime*100/n.duration);n._setInfo(f.currentTime,n.duration);n.stream.data("slider").val(t);r.exec(e.onTime,[f.currentTime,n.duration,f,u])});t.on("waiting",function(){n.preloader.fadeIn()});t.on("loadeddata",function(){});t.on("play",function(){u.find(".play").html(e.pauseIcon);r.exec(e.onPlay,[f,u])});t.on("pause",function(){u.find(".play").html(e.playIcon);r.exec(e.onPause,[f,u])});t.on("stop",function(){n.stream.data("slider").val(0);r.exec(e.onStop,[f,u])});t.on("ended",function(){n.stream.data("slider").val(0);r.exec(e.onEnd,[f,u])});t.on("volumechange",function(){n._setVolume()});u.on(i.events.click,".play",function(){f.paused?n.play():n.pause()});u.on(i.events.click,".stop",function(){n.stop()});u.on(i.events.click,".mute",function(){n._toggleMute()});u.on(i.events.click,".loop",function(){n._toggleLoop()})},_toggleLoop:function(){var n=this.player.find(".loop");n.length!==0&&(n.toggleClass("active"),n.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted;this.muted===!1?(this.audio.volume=this.volumeBackup,this.volume.data("slider").val(this.volumeBackup*100)):(this.volumeBackup=this.audio.volume,this.volume.data("slider").val(0),this.audio.volume=0)},_setInfo:function(n,t){this.player.find(".info-box").html(r.secondsToFormattedString(Math.round(n))+" / "+r.secondsToFormattedString(Math.round(t)))},_setBuffer:function(){var n=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;this.stream.data("slider").buff(n)},_setVolume:function(){var r=this.audio,u=this.player,t=this.options,i=u.find(".mute"),n=r.volume*100;n>1&&n<30?i.html(t.volumeLowIcon):n>=30&&n<60?i.html(t.volumeMediumIcon):n>=60&&n<=100?i.html(t.volumeHighIcon):i.html(t.muteIcon)},play:function(n){(n!==undefined&&this._setSource(n),this.element.attr("src")!==undefined||this.element.find("source").length!==0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause();this.audio.currentTime=0;this.stream.data("slider").val(0)},volume:function(n){if(n===undefined)return this.audio.volume;n>1&&(n/=100);this.audio.volume=n;this.volume.data("slider").val(n*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){var n=JSON.parse(this.element.attr("data-src"));this.play(n)},changeVolume:function(){var n=this.element.attr("data-volume");this.volume(n)},changeAttribute:function(n){switch(n){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume()}},destroy:function(){var n=this.element,t=this.player;n.off("loadstart");n.off("loadedmetadata");n.off("canplay");n.off("progress");n.off("timeupdate");n.off("waiting");n.off("loadeddata");n.off("play");n.off("pause");n.off("stop");n.off("ended");n.off("volumechange");t.off(i.events.click,".play");t.off(i.events.click,".stop");t.off(i.events.click,".mute");t.off(i.events.click,".loop");i.destroyPlugin(this.stream,"slider");i.destroyPlugin(this.volume,"slider");n.insertBefore(t);t.html("").remove()}};i.plugin("audio",oi);si={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.active=null,this._setOptionsFromDOM(),this._create(),this},options:{targets:"button",clsActive:"active",requiredButton:!1,mode:i.groupMode.ONE,onButtonClick:i.noop,onButtonsGroupCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createGroup();this._createEvents();r.exec(t.onButtonsGroupCreate,[n])},_createGroup:function(){var s=this,u=this.element,n=this.options,f,e,o=r.elementId("button-group");u.attr("id")===undefined&&u.attr("id",o);u.addClass("button-group");f=u.find(n.targets);e=u.find("."+n.clsActive);n.mode===i.groupMode.ONE&&e.length===0&&n.requiredButton===!0&&t(f[0]).addClass(n.clsActive);n.mode===i.groupMode.ONE&&e.length>1&&(f.removeClass(n.clsActive),t(f[0]).addClass(n.clsActive));u.find("."+n.clsActive).addClass("js-active")},_createEvents:function(){var f=this,u=this.element,n=this.options;u.on(i.events.click,n.targets,function(){var f=t(this);(r.exec(n.onButtonClick,[f],this),n.mode===i.groupMode.ONE&&f.hasClass(n.clsActive))||(n.mode===i.groupMode.ONE?(u.find(n.targets).removeClass(n.clsActive).removeClass("js-active"),f.addClass(n.clsActive).addClass("js-active")):f.toggleClass(n.clsActive).toggleClass("js-active"))})},changeAttribute:function(){},destroy:function(){var t=this.element,n=this.options;t.off(i.events.click,n.targets);t.find(n.targets).removeClass(n.clsActive).removeClass("js-active")}};i.plugin("buttongroup",si);hi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.today=new Date,this.today.setHours(0,0,0,0),this.show=new Date,this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()},this.preset=[],this.selected=[],this.exclude=[],this.special=[],this.min=null,this.max=null,this.locale=null,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,this._setOptionsFromDOM(),this._create(),this},options:{pickerMode:!1,show:null,locale:METRO_LOCALE,weekStart:METRO_WEEK_START,outside:!0,buttons:"cancel, today, clear, done",yearsBefore:100,yearsAfter:100,headerFormat:"%A, %b %e",showHeader:!0,showFooter:!0,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,multiSelect:!1,special:null,onCancel:i.noop,onToday:i.noop,onClear:i.noop,onDone:i.noop,onDayClick:i.noop,onWeekDayClick:i.noop,onMonthChange:i.noop,onYearChange:i.noop,onCalendarCreate:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var u=this,f=this.element,n=this.options;f.html("").addClass("calendar").addClass(n.clsCalendar);n.preset!==null&&(Array.isArray(n.preset)===!1&&(n.preset=n.preset.split(",").map(function(n){return n.trim()})),t.each(n.preset,function(){r.isDate(this)!==!1&&u.selected.push(new Date(this).getTime())}));n.exclude!==null&&(Array.isArray(n.exclude)===!1&&(n.exclude=n.exclude.split(",").map(function(n){return n.trim()})),t.each(n.exclude,function(){r.isDate(this)!==!1&&u.exclude.push(new Date(this).getTime())}));n.special!==null&&(Array.isArray(n.special)===!1&&(n.special=n.special.split(",").map(function(n){return n.trim()})),t.each(n.special,function(){r.isDate(this)!==!1&&u.special.push(new Date(this).getTime())}));n.buttons!==!1&&Array.isArray(n.buttons)===!1&&(n.buttons=n.buttons.split(",").map(function(n){return n.trim()}));n.minDate!==null&&r.isDate(n.minDate)&&(this.min=new Date(n.minDate),this.min.setHours(0,0,0,0));n.maxDate!==null&&r.isDate(n.maxDate)&&(this.max=new Date(n.maxDate),this.max.setHours(0,0,0,0));n.show!==null&&r.isDate(n.show)&&(this.show=new Date(n.show),this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()});this.locale=i.locales[n.locale]!==undefined?i.locales[n.locale]:i.locales["en-US"];this._build()},_build:function(){var n=this.element;this._drawCalendar();this._bindEvents();this.options.ripple===!0&&n.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor});r.exec(this.options.onCalendarCreate,[this.element])},_bindEvents:function(){var n=this,u=this.element,f=this.options;u.on(i.events.click,".prev-month, .next-month, .prev-year, .next-year",function(i){var e,o=t(this);o.hasClass("prev-month")&&(e=new Date(n.current.year,n.current.month-1,1),e.getFullYear()<n.minYear)||o.hasClass("next-month")&&(e=new Date(n.current.year,n.current.month+1,1),e.getFullYear()>n.maxYear)||o.hasClass("prev-year")&&(e=new Date(n.current.year-1,n.current.month,1),e.getFullYear()<n.minYear)||o.hasClass("next-year")&&(e=new Date(n.current.year+1,n.current.month,1),e.getFullYear()>n.maxYear)||(n.current={year:e.getFullYear(),month:e.getMonth(),day:e.getDate()},setTimeout(function(){n._drawContent();(o.hasClass("prev-month")||o.hasClass("next-month"))&&r.exec(f.onMonthChange,[n.current,u],u[0]);(o.hasClass("prev-year")||o.hasClass("next-year"))&&r.exec(f.onYearChange,[n.current,u],u[0])},f.ripple?300:0),i.preventDefault(),i.stopPropagation())});u.on(i.events.click,".button.today",function(t){n.today=new Date;n.current={year:n.today.getFullYear(),month:n.today.getMonth(),day:n.today.getDate()};n._drawHeader();n._drawContent();r.exec(f.onToday,[n.today,u]);t.preventDefault();t.stopPropagation()});u.on(i.events.click,".button.clear",function(t){n.selected=[];n._drawContent();r.exec(f.onClear,[u]);t.preventDefault();t.stopPropagation()});u.on(i.events.click,".button.cancel",function(t){n._drawContent();r.exec(f.onCancel,[u]);t.preventDefault();t.stopPropagation()});u.on(i.events.click,".button.done",function(t){n._drawContent();r.exec(f.onDone,[n.selected,u]);t.preventDefault();t.stopPropagation()});u.on(i.events.click,".week-days .day",function(i){if(f.weekDayClick!==!1&&f.multiSelect!==!1){var e=t(this),o=e.index(),s=f.outside===!0?u.find(".days-row .day:nth-child("+(o+1)+")"):u.find(".days-row .day:not(.outside):nth-child("+(o+1)+")");t.each(s,function(){var i=t(this),u=i.data("day");r.arrayDelete(n.selected,u);n.selected.push(u);i.addClass("selected").addClass(f.clsSelected)});r.exec(f.onWeekDayClick,[n.selected,e,u]);i.preventDefault();i.stopPropagation()}});u.on(i.events.click,".days-row .day",function(i){var o=t(this),s,e;if(e=o.data("day"),s=n.selected.indexOf(e),o.hasClass("outside")){e=new Date(e);n.current={year:e.getFullYear(),month:e.getMonth(),day:e.getDate()};n._drawContent();return}f.pickerMode===!0?(n.selected=[e],n.today=new Date(e),n.current.year=n.today.getFullYear(),n.current.month=n.today.getMonth(),n.current.day=n.today.getDate(),n._drawHeader(),n._drawContent()):s===-1?(f.multiSelect===!1&&(u.find(".days-row .day").removeClass("selected").removeClass(f.clsSelected),n.selected=[]),n.selected.push(e),o.addClass("selected").addClass(f.clsSelected)):(o.removeClass("selected").removeClass(f.clsSelected),r.arrayDelete(n.selected,e));r.exec(f.onDayClick,[n.selected,o,u]);i.preventDefault();i.stopPropagation()});u.on(i.events.click,".curr-month",function(t){var r,i=u.find(".months-list");i.find(".active").removeClass("active");i.scrollTop(0);u.find(".calendar-months").addClass("open");r=i.find(".js-month-"+n.current.month).addClass("active");setTimeout(function(){i.animate({scrollTop:r.position().top-(i.height()-r.height())/2},200)},300);t.preventDefault();t.stopPropagation()});u.on(i.events.click,".calendar-months li",function(i){n.current.month=t(this).index();n._drawContent();r.exec(f.onMonthChange,[n.current,u],u[0]);u.find(".calendar-months").removeClass("open");i.preventDefault();i.stopPropagation()});u.on(i.events.click,".curr-year",function(t){var r,i=u.find(".years-list");i.find(".active").removeClass("active");i.scrollTop(0);u.find(".calendar-years").addClass("open");r=i.find(".js-year-"+n.current.year).addClass("active");setTimeout(function(){i.animate({scrollTop:r.position().top-(i.height()-r.height())/2},200)},300);t.preventDefault();t.stopPropagation()});u.on(i.events.click,".calendar-years li",function(i){n.current.year=t(this).text();n._drawContent();r.exec(f.onYearChange,[n.current,u],u[0]);u.find(".calendar-years").removeClass("open");i.preventDefault();i.stopPropagation()});u.on(i.events.click,function(n){var t=u.find(".calendar-months"),i=u.find(".calendar-years");t.hasClass("open")&&t.removeClass("open");i.hasClass("open")&&i.removeClass("open");n.preventDefault();n.stopPropagation()})},_drawHeader:function(){var r=this.element,i=this.options,n=r.find(".calendar-header");n.length===0&&(n=t("<div>").addClass("calendar-header").addClass(i.clsCalendarHeader).appendTo(r));n.html("");t("<div>").addClass("header-year").html(this.today.getFullYear()).appendTo(n);t("<div>").addClass("header-day").html(this.today.format(i.headerFormat,i.locale)).appendTo(n);i.showHeader===!1&&n.hide()},_drawFooter:function(){var r=this.element,n=this.options,u=this.locale.buttons,i=r.find(".calendar-footer");n.buttons!==!1&&(i.length===0&&(i=t("<div>").addClass("calendar-footer").addClass(n.clsCalendarFooter).appendTo(r)),i.html(""),t.each(n.buttons,function(){var r=t("<button>").attr("type","button").addClass("button "+this+" "+n["cls"+this.capitalize()+"Button"]).html(u[this]).appendTo(i);(this==="cancel"||this==="done")&&r.addClass("js-dialog-close")}),n.showFooter===!1&&i.hide())},_drawMonths:function(){for(var i=this.element,r=this.options,u=t("<div>").addClass("calendar-months").addClass(r.clsCalendarMonths).appendTo(i),f=t("<ul>").addClass("months-list").appendTo(u),e=this.locale.calendar,n=0;n<12;n++)t("<li>").addClass("js-month-"+n).html(e.months[n]).appendTo(f)},_drawYears:function(){for(var i=this.element,r=this.options,u=t("<div>").addClass("calendar-years").addClass(r.clsCalendarYears).appendTo(i),f=t("<ul>").addClass("years-list").appendTo(u),n=this.minYear;n<=this.maxYear;n++)t("<li>").addClass("js-year-"+n).html(n).appendTo(f)},_drawContent:function(){var v=this.element,i=this.options,o=v.find(".calendar-content"),e,k=this.locale.calendar,f,l,n,u,y=0,r=new Date(this.current.year,this.current.month,1),s,g=new Date(this.current.year,this.current.month,0).getDate(),h,c,d,p,a,w,b;for(o.length===0&&(o=t("<div>").addClass("calendar-content").addClass(i.clsCalendarContent).appendTo(v)),o.html(""),e=t("<div>").addClass("calendar-toolbar").appendTo(o),t("<span>").addClass("prev-month").appendTo(e),t("<span>").addClass("curr-month").html(k.months[this.current.month]).appendTo(e),t("<span>").addClass("next-month").appendTo(e),t("<span>").addClass("prev-year").appendTo(e),t("<span>").addClass("curr-year").html(this.current.year).appendTo(e),t("<span>").addClass("next-year").appendTo(e),d=t("<div>").addClass("week-days").appendTo(o),f=0;f<7;f++)i.weekStart===0?l=f:(l=f+1,l===7&&(l=0)),t("<span>").addClass("day").html(k.days[l+7]).appendTo(d);for(p=t("<div>").addClass("days").appendTo(o),a=t("<div>").addClass("days-row").appendTo(p),s=i.weekStart===0?r.getDay():r.getDay()===0?6:r.getDay()-1,this.current.month-1<0?(c=11,h=this.current.year-1):(c=this.current.month-1,h=this.current.year),f=0;f<s;f++)w=g-s+f+1,n=t("<div>").addClass("day outside").appendTo(a),u=new Date(h,c,w),u.setHours(0,0,0,0),n.data("day",u.getTime()),i.outside===!0&&(n.html(w),this.special.length===0?(this.selected.indexOf(u.getTime())!==-1&&n.addClass("selected").addClass(i.clsSelected),this.exclude.indexOf(u.getTime())!==-1&&n.addClass("disabled excluded").addClass(i.clsExcluded),this.min!==null&&u.getTime()<this.min.getTime()&&n.addClass("disabled excluded").addClass(i.clsExcluded),this.max!==null&&u.getTime()>this.max.getTime()&&n.addClass("disabled excluded").addClass(i.clsExcluded)):this.special.indexOf(u.getTime())===-1&&n.addClass("disabled excluded").addClass(i.clsExcluded)),y++;for(r.setHours(0,0,0,0);r.getMonth()===this.current.month;)n=t("<div>").addClass("day").html(r.getDate()).appendTo(a),n.data("day",r.getTime()),this.today.getFullYear()===r.getFullYear()&&this.today.getMonth()===r.getMonth()&&this.today.getDate()===r.getDate()&&n.addClass("today").addClass(i.clsToday),this.special.length===0?(this.selected.indexOf(r.getTime())!==-1&&n.addClass("selected").addClass(i.clsSelected),this.exclude.indexOf(r.getTime())!==-1&&n.addClass("disabled excluded").addClass(i.clsExcluded),this.min!==null&&r.getTime()<this.min.getTime()&&n.addClass("disabled excluded").addClass(i.clsExcluded),this.max!==null&&r.getTime()>this.max.getTime()&&n.addClass("disabled excluded").addClass(i.clsExcluded)):this.special.indexOf(r.getTime())===-1&&n.addClass("disabled excluded").addClass(i.clsExcluded),y++,y%7==0&&(a=t("<div>").addClass("days-row").appendTo(p)),r.setDate(r.getDate()+1),r.setHours(0,0,0,0);if(s=i.weekStart===0?r.getDay():r.getDay()===0?6:r.getDay()-1,this.current.month+1>11?(c=0,h=this.current.year+1):(c=this.current.month+1,h=this.current.year),s>0)for(f=0;f<7-s;f++)n=t("<div>").addClass("day outside").appendTo(a),u=new Date(h,c,f+1),u.setHours(0,0,0,0),n.data("day",u.getTime()),i.outside===!0&&(n.html(f+1),this.special.length===0?(this.selected.indexOf(u.getTime())!==-1&&n.addClass("selected").addClass(i.clsSelected),this.exclude.indexOf(u.getTime())!==-1&&n.addClass("disabled excluded").addClass(i.clsExcluded),this.min!==null&&u.getTime()<this.min.getTime()&&n.addClass("disabled excluded").addClass(i.clsExcluded),this.max!==null&&u.getTime()>this.max.getTime()&&n.addClass("disabled excluded").addClass(i.clsExcluded)):this.special.indexOf(u.getTime())===-1&&n.addClass("disabled excluded").addClass(i.clsExcluded));b=v.find(".day:nth-child(1)").css("width");v.find(".days-row .day").css({height:b,lineHeight:b})},_drawCalendar:function(){this.element.html("");this._drawHeader();this._drawContent();this._drawFooter();this._drawMonths();this._drawYears()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},setExclude:function(n){var u=this,f=this.element,i=this.options;i.exclude=n!==undefined?n:f.attr("data-exclude");i.exclude!==null&&(Array.isArray(i.exclude)===!1&&(i.exclude=i.exclude.split(",").map(function(n){return n.trim()})),t.each(i.exclude,function(){r.isDate(this)!==!1&&u.exclude.push(new Date(this).getTime())}));this._drawContent()},setPreset:function(n){var u=this,f=this.element,i=this.options;i.preset=n!==undefined?n:f.attr("data-preset");i.preset!==null&&(u.selected=[],Array.isArray(i.preset)===!1&&(i.preset=i.preset.split(",").map(function(n){return n.trim()})),t.each(i.preset,function(){r.isDate(this)!==!1&&u.selected.push(new Date(this).getTime())}));this._drawContent()},setShow:function(n){var u=this,i=this.element,t=this.options;t.show=n!==null?n:i.attr("data-show");t.show!==null&&r.isDate(t.show)&&(this.show=new Date(t.show),this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()});this._drawContent()},setMinDate:function(n){var r=this,t=this.element,i=this.options;i.minDate=n!==null?n:t.attr("data-min-date");this._drawContent()},setMaxDate:function(n){var r=this,t=this.element,i=this.options;i.maxDate=n!==null?n:t.attr("data-max-date");this._drawContent()},setToday:function(n){r.isDate(n)!==!1&&(this.today=new Date(n),this.today.setHours(0,0,0,0),this._drawHeader(),this._drawContent())},i18n:function(n){var r=this,u=this.element,t=this.options;if(n===undefined)return t.locale;if(i.locales[n]===undefined)return!1;t.locale=n;this.locale=i.locales[t.locale];this._drawCalendar()},changeAttrLocale:function(){var t=this,n=this.element,i=this.options;this.i18n(n.attr("data-locale"))},changeAttribute:function(n){switch(n){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break;case"data-locale":this.changeAttrLocale()}},destroy:function(){var n=this.element,t=this.options;n.off(i.events.click,".prev-month, .next-month, .prev-year, .next-year");n.off(i.events.click,".button.today");n.off(i.events.click,".button.clear");n.off(i.events.click,".button.cancel");n.off(i.events.click,".button.done");n.off(i.events.click,".week-days .day");n.off(i.events.click,".days-row .day");n.off(i.events.click,".curr-month");n.off(i.events.click,".calendar-months li");n.off(i.events.click,".curr-year");n.off(i.events.click,".calendar-years li");n.off(i.events.click);t.ripple===!0&&i.destroyPlugin(n,"ripple");n.html("")}};t(document).on(i.events.click,function(){t(".calendar .calendar-years").each(function(){t(this).removeClass("open")});t(".calendar .calendar-months").each(function(){t(this).removeClass("open")})});i.plugin("calendar",hi);ci={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.value=null,this.value_date=null,this.calendar=null,this._setOptionsFromDOM(),this._create(),r.exec(this.options.onCalendarPickerCreate,[this.element]),this},dependencies:["calendar"],options:{locale:METRO_LOCALE,size:"100%",format:"%Y/%m/%d",headerFormat:"%A, %b %e",clearButton:!1,calendarButtonIcon:"<span class='default-icon-calendar'><\/span>",clearButtonIcon:"<span class='default-icon-cross'><\/span>",copyInlineStyles:!1,clsPicker:"",clsInput:"",yearsBefore:100,yearsAfter:100,weekStart:METRO_WEEK_START,outside:!0,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,special:null,showHeader:!0,showFooter:!0,onDayClick:i.noop,onCalendarPickerCreate:i.noop,onCalendarShow:i.noop,onCalendarHide:i.noop,onChange:i.noop,onMonthChange:i.noop,onYearChange:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var o=this,u=this.element,n=this.options,c=u.prev(),a=u.parent(),e=t("<div>").addClass("input "+u[0].className+" calendar-picker"),s=t("<div>").addClass("button-group"),l,h,f=t("<div>").addClass("drop-shadow");u.attr("type")===undefined&&u.attr("type","text");this.value=u.val();r.isDate(this.value)&&(this.value_date=new Date(this.value),this.value_date.setHours(0,0,0,0),u.val(this.value_date.format(n.format)));c.length===0?a.prepend(e):e.insertAfter(c);u.appendTo(e);s.appendTo(e);f.appendTo(e);f.calendar({pickerMode:!0,show:n.value,locale:n.locale,weekStart:n.weekStart,outside:n.outside,buttons:!1,headerFormat:n.headerFormat,clsCalendar:n.clsCalendar,clsCalendarHeader:n.clsCalendarHeader,clsCalendarContent:n.clsCalendarContent,clsCalendarFooter:n.clsCalendarFooter,clsCalendarMonths:n.clsCalendarMonths,clsCalendarYears:n.clsCalendarYears,clsToday:n.clsToday,clsSelected:n.clsSelected,clsExcluded:n.clsExcluded,ripple:n.ripple,rippleColor:n.rippleColor,exclude:n.exclude,minDate:n.minDate,maxDate:n.maxDate,yearsBefore:n.yearsBefore,yearsAfter:n.yearsAfter,special:n.special,showHeader:n.showHeader,showFooter:n.showFooter,onDayClick:function(t,i,e){var s=new Date(t[0]);o.value=s.format("%Y/%m/%d");o.value_date=s;u.val(s.format(n.format,n.locale));u.trigger("change");f.removeClass("open open-up");f.hide();r.exec(n.onChange,[o.value,o.value_date,u]);r.exec(n.onDayClick,[t,i,e])},onMonthChange:n.onMonthChange,onYearChange:n.onYearChange});f.hide();this.calendar=f;l=t("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(n.calendarButtonIcon);l.appendTo(s);e.on(i.events.click,"button, input",function(i){r.isDate(o.value)&&f.hasClass("open")===!1&&f.hasClass("open-up")===!1&&(f.css({visibility:"hidden",display:"block"}),f.data("calendar").setPreset(o.value),f.data("calendar").setShow(o.value),f.data("calendar").setToday(o.value),f.css({visibility:"visible",display:"none"}));f.hasClass("open")===!1&&f.hasClass("open-up")===!1?(t(".calendar-picker .calendar").removeClass("open open-up").hide(),f.addClass("open"),r.isOutsider(f)===!1&&f.addClass("open-up"),f.show(),r.exec(n.onCalendarShow,[u,f])):(f.removeClass("open open-up"),f.hide(),r.exec(n.onCalendarHide,[u,f]));i.preventDefault();i.stopPropagation()});if(n.clearButton===!0){h=t("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(n.clearButtonIcon);h.on(i.events.click,function(){u.val("").trigger("change")});h.appendTo(s)}u.attr("dir")==="rtl"&&e.addClass("rtl");String(n.size).indexOf("%")>-1?e.css({width:n.size}):e.css({width:parseInt(n.size)+"px"});u[0].className="";u.attr("readonly",!0);n.copyInlineStyles===!0&&t.each(r.getInlineStyles(u),function(n,t){e.css(n,t)});e.addClass(n.clsPicker);u.addClass(n.clsInput);u.on(i.events.blur,function(){e.removeClass("focused")});u.on(i.events.focus,function(){e.addClass("focused")});u.on(i.events.change,function(){r.exec(n.onChange,[o.value_date,o.value,u])})},val:function(n){var u=this,t=this.element,i=this.options;if(n===undefined)return this.value_date;r.isDate(n)===!0&&(this.value_date=new Date(n),this.value=this.value_date.format(i.format),t.val(this.value_date.format(i.format)),t.trigger("change"))},changeValue:function(){var t=this,n=this.element,i=this.options;this.val(n.attr("value"))},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},i18n:function(n){var f=this,e=this.element,u=this.options,r=!1,t=this.calendar;if(n===undefined)return u.locale;if(i.locales[n]===undefined)return!1;r=t.is(":hidden");r&&t.css({visibility:"hidden",display:"block"});t.data("calendar").i18n(n);r&&t.css({visibility:"visible",display:"none"})},changeAttrLocale:function(){var t=this,n=this.element,i=this.options;this.i18n(n.attr("data-locale"))},changeAttribute:function(n){switch(n){case"value":this.changeValue();break;case"disabled":this.toggleState();break;case"data-locale":this.changeAttrLocale()}}};i.plugin("calendarpicker",ci);t(document).on(i.events.click,function(){t(".calendar-picker .calendar").removeClass("open open-up").hide()});li={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.height=0,this.width=0,this.slides=[],this.current=null,this.currentIndex=null,this.dir=this.options.direction,this.interval=null,this.isAnimate=!1,this._setOptionsFromDOM(),this._create(),this},options:{autoStart:!1,width:"100%",height:"16/9",effect:"slide",effectFunc:"linear",direction:"left",duration:METRO_ANIMATION_DURATION,period:5e3,stopOnMouse:!0,controls:!0,bullets:!0,bulletStyle:"square",controlsOnMouse:!1,controlsOutside:!1,bulletsPosition:"default",controlPrev:"&#x23F4",controlNext:"&#x23F5",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:i.noop,onStart:i.noop,onPlay:i.noop,onSlideClick:i.noop,onBulletClick:i.noop,onThumbClick:i.noop,onMouseEnter:i.noop,onMouseLeave:i.noop,onNextClick:i.noop,onPrevClick:i.noop,onCarouselCreate:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var n=this.element,i=this.options,u=n.find(".slide"),f=n.find(".slides"),e=r.elementId("carousel");if(n.attr("id")===undefined&&n.attr("id",e),n.addClass("carousel").addClass(i.clsCarousel),i.controlsOutside===!0&&n.addClass("controls-outside"),f.length===0&&(f=t("<div>").addClass("slides").appendTo(n),u.appendTo(f)),u.addClass(i.clsSlides),u.length===0){r.exec(this.options.onCarouselCreate,[this.element]);return}this._createSlides();this._createControls();this._createBullets();this._createEvents();this._resize();i.controlsOnMouse===!0&&(n.find("[class*=carousel-switch]").hide(),n.find(".carousel-bullets").hide());i.autoStart===!0&&this._start();r.exec(this.options.onCarouselCreate,[this.element])},_start:function(){var u=this,f=this.element,n=this.options,t=n.period,i=this.slides[this.currentIndex];(i.data("period")!==undefined&&(t=i.data("period")),this.slides.length<=1)||(this.interval=setTimeout(function(){var t=n.direction==="left"?"next":"prior";u._slideTo(t,!0)},t),r.exec(n.onStart,[f]))},_stop:function(){clearInterval(this.interval);this.interval=!1},_resize:function(){var o=this,u=this.element,n=this.options,f=u.outerWidth(),i,e=[];["16/9","21/9","4/3"].indexOf(n.height)>-1?i=r.aspectRatioH(f,n.height):String(n.height).indexOf("@")>-1?(e=r.strToArray(n.height.substr(1),"|"),t.each(e,function(){var n=r.strToArray(this,",");window.matchMedia(n[0]).matches&&(i=["16/9","21/9","4/3"].indexOf(n[1])>-1?r.aspectRatioH(f,n[1]):parseInt(n[1]))})):i=parseInt(n.height);u.css({height:i})},_createSlides:function(){var i=this,r=this.element,n=this.options,u=r.find(".slide");t.each(u,function(r){var u=t(this);if(u.data("cover")!==undefined&&u.css({backgroundImage:"url("+u.data("cover")+")",backgroundSize:"cover",backgroundRepeat:"no-repeat"}),r!==0)switch(n.effect){case"switch":case"slide":u.css("left","100%");break;case"slide-v":u.css("top","100%");break;case"fade":u.css("opacity","0")}u.addClass(n.clsSlide);i.slides.push(u)});this.currentIndex=0;this.current=this.slides[this.currentIndex]},_createControls:function(){var u=this.element,n=this.options,i,r;n.controls!==!1&&(i=t("<span/>").addClass("carousel-switch-next").addClass(n.clsControls).addClass(n.clsControlNext).html(">"),r=t("<span/>").addClass("carousel-switch-prev").addClass(n.clsControls).addClass(n.clsControlPrev).html("<"),n.controlNext&&i.html(n.controlNext),n.controlPrev&&r.html(n.controlPrev),i.appendTo(u),r.appendTo(u))},_createBullets:function(){var f=this.element,n=this.options,i,r,u;if(n.bullets!==!1){for(i=t("<div>").addClass("carousel-bullets").addClass("bullet-style-"+n.bulletStyle).addClass(n.clsBullets),n.bulletsPosition==="default"||n.bulletsPosition==="center"?i.addClass("flex-justify-center"):n.bulletsPosition==="left"?i.addClass("flex-justify-start"):i.addClass("flex-justify-end"),r=0;r<this.slides.length;r++)u=t("<span>").addClass("carousel-bullet").addClass(n.clsBullet).data("slide",r),r===0&&u.addClass("bullet-on").addClass(n.clsBulletOn),u.appendTo(i);i.appendTo(f)}},_createEvents:function(){var f=this,n=this.element,u=this.options;n.on(i.events.click,".carousel-bullet",function(i){var e=t(this);f.isAnimate===!1&&(f._slideToSlide(e.data("slide")),r.exec(u.onBulletClick,[e,n,i]))});n.on(i.events.click,".carousel-switch-next",function(t){f.isAnimate===!1&&(f._slideTo("next",!1),r.exec(u.onNextClick,[n,t]))});n.on(i.events.click,".carousel-switch-prev",function(t){f.isAnimate===!1&&(f._slideTo("prev",!1),r.exec(u.onPrevClick,[n,t]))});if(u.stopOnMouse===!0&&u.autoStart===!0){n.on(i.events.enter,function(t){u.controlsOnMouse===!0&&(n.find("[class*=carousel-switch]").fadeIn(),n.find(".carousel-bullets").fadeIn());f._stop();r.exec(u.onMouseEnter,[n,t])});n.on(i.events.leave,function(t){u.controlsOnMouse===!0&&(n.find("[class*=carousel-switch]").fadeOut(),n.find(".carousel-bullets").fadeOut());f._start();r.exec(u.onMouseLeave,[n,t])})}if(u.controlsOnMouse===!0){n.on(i.events.enter,function(){n.find("[class*=carousel-switch]").fadeIn();n.find(".carousel-bullets").fadeIn()});n.on(i.events.leave,function(){n.find("[class*=carousel-switch]").fadeOut();n.find(".carousel-bullets").fadeOut()})}n.on(i.events.click,".slide",function(i){var f=t(this);r.exec(u.onSlideClick,[f,n,i])});t(window).on(i.events.resize+"-"+n.attr("id"),function(){f._resize()})},_slideToSlide:function(n){var i=this.element,t=this.options,r,u,f;this.slides[n]!==undefined&&this.currentIndex!==n&&(f=n>this.currentIndex?"next":"prev",r=this.slides[this.currentIndex],u=this.slides[n],this.currentIndex=n,this._effect(r,u,t.effect,f),i.find(".carousel-bullet").removeClass("bullet-on").removeClass(t.clsBulletOn),i.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(t.clsBulletOn))},_slideTo:function(n,t){var e=this,r=this.element,i=this.options,u,f;n===undefined&&(n="next");u=this.slides[this.currentIndex];n==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1));f=this.slides[this.currentIndex];this._effect(u,f,i.effect,n,t);r.find(".carousel-bullet").removeClass("bullet-on").removeClass(i.clsBulletOn);r.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(i.clsBulletOn)},_effect:function(n,t,i,r,u){var c=this,a=this.element,e=this.options,f=e.duration,o,s=e.effectFunc,l=e.period;t.data("duration")!==undefined&&(f=t.data("duration"));t.data("effectFunc")!==undefined&&(s=t.data("effectFunc"));i==="switch"&&(f=0);n.stop(!0,!0);t.stop(!0,!0);this.isAnimate=!0;setTimeout(function(){c.isAnimate=!1},f);i==="slide"&&(o=r==="next"?"slideLeft":"slideRight");i==="slide-v"&&(o=r==="next"?"slideUp":"slideDown");switch(i){case"slide":h[o](n,t,f,s);break;case"slide-v":h[o](n,t,f,s);break;case"fade":h.fade(n,t,f,s);break;default:h["switch"](n,t)}u===!0&&(t.data("period")!==undefined&&(l=t.data("period")),this.interval=setTimeout(function(){var n=e.direction==="left"?"next":"prior";c._slideTo(n,!0)},l))},toSlide:function(n){this._slideToSlide(n)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval);r.exec(this.options.onStop,[this.element])},play:function(){this._start();r.exec(this.options.onPlay,[this.element])},changeAttribute:function(){},destroy:function(){var u=this,n=this.element,r=this.options;n.off(i.events.click,".carousel-bullet");n.off(i.events.click,".carousel-switch-next");n.off(i.events.click,".carousel-switch-prev");r.stopOnMouse===!0&&r.autoStart===!0&&(n.off(i.events.enter),n.off(i.events.leave));r.controlsOnMouse===!0&&(n.off(i.events.enter),n.off(i.events.leave));n.off(i.events.click,".slide");t(window).off(i.events.resize+"-"+n.attr("id"));n.removeClass("carousel").removeClass(r.clsCarousel);r.controlsOutside===!0&&n.removeClass("controls-outside")}};i.plugin("carousel",li);ai={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.origin={background:""},this._setOptionsFromDOM(),this._create(),this},options:{position:"right",opacity:1,clsCharms:"",onCharmCreate:i.noop,onOpen:i.noop,onClose:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var n=this.element,t=this.options;this._createStructure();this._createEvents();r.exec(t.onCharmCreate,[n])},_createStructure:function(){var n=this.element,t=this.options;n.addClass("charms").addClass(t.position+"-side").addClass(t.clsCharms);this.origin.background=n.css("background-color");n.css({backgroundColor:r.computedRgbToRgba(r.getStyleOne(n,"background-color"),t.opacity)})},_createEvents:function(){var n=this.element,t=this.options;n.on(i.events.click,function(){})},open:function(){var n=this.element,t=this.options;n.addClass("open");r.exec(t.onOpen,[n])},close:function(){var n=this.element,t=this.options;n.removeClass("open");r.exec(t.onClose,[n])},toggle:function(){var n=this.element,t=this.options;n.toggleClass("open");n.hasClass("open")===!0?r.exec(t.onOpen,[n]):r.exec(t.onClose,[n])},opacity:function(n){var i=this.element,u=this.options,t;if(n===undefined)return u.opacity;(t=Math.abs(parseFloat(n)),t<0||t>1)||(u.opacity=t,i.css({backgroundColor:r.computedRgbToRgba(r.getStyleOne(i,"background-color"),t)}))},changeOpacity:function(){var n=this.element;this.opacity(n.attr("data-opacity"))},changeAttribute:function(n){switch(n){case"data-opacity":this.changeOpacity()}},destroy:function(){var n=this.element,t=this.options;n.off(i.events.click);n.removeClass("charms").removeClass(t.position+"-side").removeClass(t.clsCharms);n.css("background-color",this.origin.background)}};i.plugin("charms",ai);i.charms={check:function(n){return r.isMetroObject(n,"charms")===!1?(console.log("Element is not a charms component"),!1):!0},isOpen:function(n){if(this.check(n)!==!1){var i=t(n).data("charms");return i.hasClass("open")}},open:function(n){if(this.check(n)!==!1){var i=t(n).data("charms");i.open()}},close:function(n){if(this.check(n)!==!1){var i=t(n).data("charms");i.close()}},toggle:function(n){if(this.check(n)!==!1){var i=t(n).data("charms");i.toggle()}},closeAll:function(){t("[data-role*=charms]").each(function(){t(this).data("charms").close()})},opacity:function(n,i){if(this.check(n)!==!1){var r=t(n).data("charms");r.opacity(i)}}};vi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.origin={className:""},this._setOptionsFromDOM(),this._create(),r.exec(this.options.onCheckboxCreate,[this.element]),this},options:{caption:"",indeterminate:!1,captionPosition:"right",disabled:!1,clsElement:"",clsCheck:"",clsCaption:"",onCheckboxCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var h=this,n=this.element,u=this.options,f=n.prev(),s=n.parent(),i=t("<label>").addClass("checkbox "+n[0].className),e=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(u.caption);n.attr("id")===undefined&&n.attr("id",r.elementId("checkbox"));i.attr("for",n.attr("id"));n.attr("type","checkbox");n.appendTo(i);f.length===0?s.prepend(i):i.insertAfter(f);e.appendTo(i);o.appendTo(i);u.captionPosition==="left"&&i.addClass("caption-left");this.origin.className=n[0].className;n[0].className="";i.addClass(u.clsElement);o.addClass(u.clsCaption);e.addClass(u.clsCheck);u.indeterminate&&(n[0].indeterminate=!0);u.disabled===!0&&n.is(":disabled")?this.disable():this.enable()},indeterminate:function(){this.element[0].indeterminate=!0},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},toggleIndeterminate:function(){this.element[0].indeterminate=JSON.parse(this.element.attr("data-indeterminate"))===!0},changeAttribute:function(n){switch(n){case"disabled":this.toggleState();break;case"data-indeterminate":this.toggleIndeterminate()}},destroy:function(){var i=this,n=this.element,r=this.options,t=n.parent();n[0].className=this.origin.className;n.insertBefore(t);t.remove()}};i.plugin("checkbox",vi);yi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._clockInterval=null,this._setOptionsFromDOM(),this._create(),r.exec(this.options.onClockCreate,[this.element]),this},options:{showTime:!0,showDate:!0,timeFormat:"24",dateFormat:"american",divider:"&nbsp;&nbsp;",onClockCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var n=this;this._tick();this._clockInterval=setInterval(function(){n._tick()},500)},_addLeadingZero:function(n){return n<10&&(n="0"+n),n},_tick:function(){var l=this,c=this.element,r=this.options,i=new Date,a=i.getTime(),n="",t=i.getHours(),e=i.getMinutes(),o=i.getSeconds(),u=i.getDate(),f=i.getMonth()+1,s=i.getFullYear(),h="";r.timeFormat==="12"&&(h=" AM",t>11&&(h=" PM"),t>12&&(t=t-12),t===0&&(t=12));t=this._addLeadingZero(t);e=this._addLeadingZero(e);o=this._addLeadingZero(o);f=this._addLeadingZero(f);u=this._addLeadingZero(u);r.showDate&&(r.dateFormat==="american"?(n+="<span class='date-month'>"+f+"<\/span>",n+="<span class='date-divider'>-<\/span>",n+="<span class='date-day'>"+u+"<\/span>",n+="<span class='date-divider'>-<\/span>",n+="<span class='date-year'>"+s+"<\/span>"):(n+="<span class='date-day'>"+u+"<\/span>",n+="<span class='date-divider'>-<\/span>",n+="<span class='date-month'>"+f+"<\/span>",n+="<span class='date-divider'>-<\/span>",n+="<span class='date-year'>"+s+"<\/span>"),n+=r.divider);r.showTime&&(n+="<span class='clock-hour'>"+t+"<\/span>",n+="<span class='clock-divider'>:<\/span>",n+="<span class='clock-minute'>"+e+"<\/span>",n+="<span class='clock-divider'>:<\/span>",n+="<span class='clock-second'>"+o+"<\/span>");c.html(n)},changeAttribute:function(){},destroy:function(){clearInterval(this._clockInterval);this._clockInterval=null;this.element.html("")}};i.plugin("clock",yi);pi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.toggle=null,this._setOptionsFromDOM(),this._create(),r.exec(this.options.onCollapseCreate,[this.element]),this},options:{collapsed:!1,toggleElement:!1,duration:METRO_ANIMATION_DURATION,onExpand:i.noop,onCollapse:i.noop,onCollapseCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var f=this,n=this.element,r=this.options,u;u=r.toggleElement!==!1?t(r.toggleElement):n.siblings(".collapse-toggle").length>0?n.siblings(".collapse-toggle"):n.siblings("a:nth-child(1)");(r.collapsed===!0||n.attr("collapsed")===!0)&&n.hide(0);u.on(i.events.click,function(t){n.css("display")!=="block"||n.hasClass("keep-open")?f._open(n):f._close(n);t.preventDefault();t.stopPropagation()});this.toggle=u},_close:function(n){r.isJQueryObject(n)===!1&&(n=t(n));var u=n.data("collapse"),i=u.options;this.toggle.removeClass("active-toggle");n.slideUp(i.duration,function(){n.trigger("onCollapse",null,n);n.data("collapsed",!0);n.addClass("collapsed");r.exec(i.onCollapse,[n])})},_open:function(n){r.isJQueryObject(n)===!1&&(n=t(n));var u=n.data("collapse"),i=u.options;this.toggle.addClass("active-toggle");n.slideDown(i.duration,function(){n.trigger("onExpand",null,n);n.data("collapsed",!1);n.removeClass("collapsed");r.exec(i.onExpand,[n])})},collapse:function(){this._close(this.element)},expand:function(){this._open(this.element)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){var n=this.element;n.attr("collapsed")===!0||n.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(n){switch(n){case"collapsed":case"data-collapsed":this.toggleState()}},destroy:function(){this.toggle.off(i.events.click);this.element.show()}};i.plugin("collapse",pi);wi={init:function(n,i){var r=this;return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.timepoint=(new Date).getTime(),this.breakpoint=null,this.blinkInterval=null,this.tickInterval=null,this.zeroDaysFired=!1,this.zeroHoursFired=!1,this.zeroMinutesFired=!1,this.zeroSecondsFired=!1,this.locale=null,this._setOptionsFromDOM(),this._create(),this},options:{locale:METRO_LOCALE,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,clsCountdown:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onCountdownCreate:i.noop,onAlarm:i.noop,onTick:i.noop,onZero:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var n=this.options;this.locale=i.locales[n.locale]!==undefined?i.locales[n.locale]:i.locales["en-US"];this._build()},_build:function(){var i=this,f=this.element,n=this.options,o=864e5,s=36e5,h=6e4,u,e,c;f.addClass("countdown").addClass(n.clsCountdown);n.date!==null&&r.isDate(n.date)!==!1&&(this.timepoint=new Date(n.date).getTime());this.breakpoint=this.timepoint;parseInt(n.days)>0&&(this.breakpoint+=parseInt(n.days)*o);parseInt(n.hours)>0&&(this.breakpoint+=parseInt(n.hours)*s);parseInt(n.minutes)>0&&(this.breakpoint+=parseInt(n.minutes)*h);parseInt(n.seconds)>0&&(this.breakpoint+=parseInt(n.seconds)*1e3);u=Math.round((i.breakpoint-i.timepoint)/o);e=Math.round((i.breakpoint-i.timepoint)/s);c=Math.round((i.breakpoint-i.timepoint)/h);t.each(["days","hours","minutes","seconds"],function(){var r,o;if((this!=="days"||u!==0)&&(this!=="hours"||u!==0||e!==0)&&(this!=="minutes"||u!==0||e!==0||c!==0)&&(this==="seconds",r=t("<div>").addClass("part "+this).attr("data-label",i.locale.calendar.time[this]).appendTo(f),this==="days"&&r.addClass(n.clsDays),this==="hours"&&r.addClass(n.clsHours),this==="minutes"&&r.addClass(n.clsMinutes),this==="seconds"&&r.addClass(n.clsSeconds),t("<div>").addClass("digit").appendTo(r),t("<div>").addClass("digit").appendTo(r),this==="days"&&u>=100))for(o=0;o<String(u/100).length;o++)t("<div>").addClass("digit").appendTo(r)});f.find(".digit").html("0");r.exec(this.options.onCountdownCreate,[this.element]);this.options.start===!0&&this.start()},blink:function(){this.element.toggleClass("blink")},tick:function(){var a=this,t=this.element,n=this.options,s=86400,h=3600,c=60,i,l=(new Date).getTime(),u,f,e,o;if(i=Math.floor((this.breakpoint-l)/1e3),i<=0){this.stop();n.clsZero!==""&&t.find(".part").removeClass(n.clsZero);t.addClass(n.clsAlarm);r.exec(n.onAlarm,[l,t]);return}u=Math.floor(i/s);i-=u*s;this.draw("days",u);u===0&&(n.clsDays!==""&&t.find(".days").removeClass(n.clsDays),this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,t.find(".days").addClass(n.clsZero),r.exec(n.onZero,["days",t])));f=Math.floor(i/h);i-=f*h;this.draw("hours",f);u===0&&f===0&&(n.clsHours!==""&&t.find(".hours").removeClass(n.clsHours),this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,t.find(".hours").addClass(n.clsZero),r.exec(n.onZero,["hours",t])));e=Math.floor(i/c);i-=e*c;this.draw("minutes",e);u===0&&f===0&&e===0&&(n.clsMinutes!==""&&t.find(".minutes").removeClass(n.clsMinutes),this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,t.find(".minutes").addClass(n.clsZero),r.exec(n.onZero,["minutes",t])));o=Math.floor(i/1);this.draw("seconds",o);u===0&&f===0&&e===0&&o===0&&(n.clsSeconds!==""&&t.find(".seconds").removeClass(n.clsSeconds),this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,t.find(".seconds").addClass(n.clsZero),r.exec(n.onZero,["seconds",t])));r.exec(n.onTick,[{days:u,hours:f,minutes:e,seconds:o},t])},draw:function(n,t){for(var s=this,r=this.element,h=this.options,u,e=String(t).length,o=r.find("."+n+" .digit").html("0"),f=o.length,i=0;i<e;i++)u=Math.floor(t/Math.pow(10,i))%10,r.find("."+n+" .digit:eq("+(f-1)+")").html(u),f--},start:function(){var n=this;this.element.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!1),this.tick(),this.blinkInterval=setInterval(function(){n.blink()},500),this.tickInterval=setInterval(function(){n.tick()},1e3))},stop:function(){var t=this,n=this.element,i=this.options;n.data("paused",!0);n.find(".digit").html("0");clearInterval(this.blinkInterval);clearInterval(this.tickInterval)},pause:function(){this.element.data("paused",!0);clearInterval(this.blinkInterval);clearInterval(this.tickInterval)},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getTimepoint:function(n){return n===!0?new Date(this.timepoint):this.timepoint},getBreakpoint:function(n){return n===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){var t=(new Date).getTime(),n=Math.floor(this.breakpoint-t);return{days:Math.round(n/864e5),hours:Math.round(n/36e5),minutes:Math.round(n/6e4),seconds:Math.round(n/1e3)}},i18n:function(n){var u=this,f=this.element,r=this.options;if(n===undefined)return r.locale;if(i.locales[n]===undefined)return!1;r.locale=n;this.locale=i.locales[r.locale];t.each(["days","hours","minutes","seconds"],function(){var n=".part."+this,t=f.find(n);t.attr("data-label",u.locale.calendar.time[this])})},changeAttrLocale:function(){var n=this.element,t=n.attr("data-locale");this.i18n(t)},changeAttribute:function(n){switch(n){case"data-pause":this.togglePlay();break;case"data-locale":this.changeAttrLocale()}},destroy:function(){clearInterval(this.blinkInterval);clearInterval(this.tickInterval);this.element.html("");this.element.removeClass("countdown").removeClass(this.options.clsCountdown)}};i.plugin("countdown",wi);bi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.id=null,this.rules=null,this.interval=!1,this.ruleInterval=!1,this.running=!1,this.intervals=[],this._setOptionsFromDOM(),this._create(),this},default_rules:[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],options:{rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:i.noop,onTick:i.noop,onCubeCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,t=this.element,n=this.options;n.rules===null?this.rules=this.default_rules:this._parseRules(n.rules);this._createCube();this._createEvents();r.exec(n.onCubeCreate,[t])},_parseRules:function(n){if(n===undefined||n===null)return!1;if(r.isObject(n))return this.rules=r.isObject(n),!0;try{return this.rules=JSON.parse(n),!0}catch(t){return console.log("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){var s=this,i=this.element,n=this.options,e=r.elementId("cube"),o=Math.pow(n.cells,2),u,f;i.addClass("cube").addClass(n.clsCube);i.attr("id")===undefined&&i.attr("id",e);this.id=i.attr("id");this._createCssForFlashColor();this._createCssForCellSize();t.each(["left","right","top"],function(){var u,f,r;for(u=t("<div>").addClass("side "+this+"-side").addClass(n.clsSide).appendTo(i),this==="left"&&u.addClass(n.clsSideLeft),this==="right"&&u.addClass(n.clsSideRight),this==="top"&&u.addClass(n.clsSideTop),r=0;r<o;r++)f=t("<div>").addClass("cube-cell").addClass("cell-id-"+(r+1)).addClass(n.clsCell),f.data("id",r+1).data("side",this),f.appendTo(u),n.numbers===!0&&f.html(r+1)});u=i.find(".cube-cell");n.color!==null&&(r.isColor(n.color)?u.css({backgroundColor:n.color,borderColor:n.color}):u.addClass(n.color));f=["x","y","z"];t.each(f,function(){var r=this,u=t("<div>").addClass("axis "+n.axisStyle).addClass("axis-"+r).addClass(n.clsAxis);r==="x"&&u.addClass(n.clsAxisX);r==="y"&&u.addClass(n.clsAxisY);r==="z"&&u.addClass(n.clsAxisZ);u.appendTo(i)});n.showAxis===!1&&i.find(".axis").hide();this._run()},_run:function(){var u=this,n=this.element,t=this.options,f=0;clearInterval(this.interval);n.find(".cube-cell").removeClass("light");t.custom!==i.noop?r.exec(t.custom,[n]):(n.find(".cube-cell").removeClass("light"),u._start(),f=r.isObject(this.rules)?r.objectLength(this.rules):0,this.interval=setInterval(function(){u._start()},f*t.flashInterval))},_createCssForCellSize:function(){var o=this,u=this.element,n=this.options,e=i.sheet,f,t;(n.margin!==8||n.cells!==4)&&(f=parseInt(r.getStyleOne(u,"width")),t=Math.ceil((f/2-n.margin*n.cells*2)/n.cells),r.addCssRule(e,"#"+u.attr("id")+" .side .cube-cell","width: "+t+"px!important; height: "+t+"px!important; margin: "+n.margin+"px!important;"))},_createCssForFlashColor:function(){var c=this,t=this.element,n=this.options,f=i.sheet,e,o,s=[],h=[],u;if(n.flashColor!==null){for(e="0 0 10px "+r.hexColorToRgbA(n.flashColor,1),o="0 0 10px "+r.hexColorToRgbA(n.flashColor,n.attenuation),u=0;u<3;u++)s.push(e),h.push(o);r.addCssRule(f,"@keyframes pulsar-cell-"+t.attr("id"),"0%, 100% { box-shadow: "+s.join(",")+"} 50% { box-shadow: "+h.join(",")+" }");r.addCssRule(f,"#"+t.attr("id")+" .side .cube-cell.light","animation: pulsar-cell-"+t.attr("id")+" 2.5s 0s ease-out infinite; background-color: "+n.flashColor+"!important; border-color: "+n.flashColor+"!important;")}},_createEvents:function(){var n=this,r=this.element,u=this.options;t(window).on(i.events.blur+"-"+r.attr("id"),function(){u.stopOnBlur===!0&&n.running===!0&&n._stop()});t(window).on(i.events.focus+"-"+r.attr("id"),function(){u.stopOnBlur===!0&&n.running===!1&&n._start()});r.on(i.events.click,".cube-cell",function(){if(u.cellClick===!0){var n=t(this);n.toggleClass("light")}})},_start:function(){var n=this,i=this.element,r=this.options;i.find(".cube-cell").removeClass("light");this.running=!0;t.each(this.rules,function(t,i){n._execRule(t,i)})},_stop:function(){this.running=!1;clearInterval(this.interval);t.each(this.intervals,function(){clearInterval(this)})},_tick:function(n,t){var f=this,e=this.element,u=this.options,i;t===undefined&&(t=u.flashInterval*n);i=setTimeout(function(){r.exec(u.onTick,[n],e[0]);clearInterval(i);r.arrayDelete(f.intervals,i)},t);this.intervals.push(i)},_toggle:function(n,t,i,u){var e=this,f;u===undefined&&(u=this.options.flashInterval*i);f=setTimeout(function(){n[t==="on"?"addClass":"removeClass"]("light");clearInterval(f);r.arrayDelete(e.intervals,f)},u);this.intervals.push(f)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(n,t){var e=this,o=this.element,f=this.options,u=this.rules,i;if(u!==null&&u!==undefined&&u[n]!==undefined){for(clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),o.find(".cube-cell").removeClass("light"),i=0;i<=n;i++)this._execRule(i,u[i],t);r.isInt(f.autoRestart)&&f.autoRestart>0&&(this.ruleInterval=setTimeout(function(){e._run()},f.autoRestart))}},_execRule:function(n,i,r){var u=this,f=this.element,e=this.options;this._tick(n,r);t.each(["left","right","top"],function(){var o="."+this+"-side",e=this,s=i.on!==undefined&&i.on[e]!==undefined?i.on[e]:!1,h=i.off!==undefined&&i.off[e]!==undefined?i.off[e]:!1;s!==!1&&t.each(s,function(){var t=this,i=f.find(o+" .cell-id-"+t);u._toggle(i,"on",n,r)});h!==!1&&t.each(h,function(){var t=this,i=f.find(o+" .cell-id-"+t);u._toggle(i,"off",n,r)})})},rule:function(n){if(n===undefined)return this.rules;this._parseRules(n)===!0&&(this.options.rules=n,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(n){var t=n===!0?"show":"hide";this.element.find(".axis")[t]()},changeRules:function(){var r=this,n=this.element,i=this.options,t=n.attr("data-rules");this._parseRules(t)===!0&&(this.stop(),n.find(".cube-cell").removeClass("light"),i.rules=t,this._run())},changeAxisVisibility:function(){var r=this,n=this.element,u=this.options,t=JSON.parse(n.attr("data-show-axis"))===!0,i=t?"show":"hide";n.find(".axis")[i]()},changeAxisStyle:function(){var i=this,n=this.element,r=this.options,t=n.attr("data-axis-style");n.find(".axis").removeClass("arrow line no-style").addClass(t)},changeAttribute:function(n){switch(n){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle()}},destroy:function(){var u=this,n=this.element,r=this.options;clearInterval(this.interval);this.interval=null;t(window).off(i.events.blur+"-"+n.attr("id"));t(window).off(i.events.focus+"-"+n.attr("id"));n.off(i.events.click,".cube-cell");n.html("");n.removeClass("cube").removeClass(r.clsCube)}};i.plugin("cube",bi);ki={init:function(n,r){return this.options=t.extend({},this.options,n),this.elem=r,this.element=t(r),this.picker=null,this.isOpen=!1,this.value=new Date,this.locale=i.locales[METRO_LOCALE].calendar,this._setOptionsFromDOM(),this._create(),this},options:{format:"%Y-%m-%d",locale:METRO_LOCALE,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,scrollSpeed:5,copyInlineStyles:!0,clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",okButtonIcon:"<span class='default-icon-check'><\/span>",cancelButtonIcon:"<span class='default-icon-cross'><\/span>",onSet:i.noop,onOpen:i.noop,onClose:i.noop,onScroll:i.noop,onDatePickerCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var u=this,t=this.element,n=this.options;n.distance<1&&(n.distance=1);n.value!==null&&r.isDate(n.value)&&(this.value=new Date(n.value));i.locales[n.locale]===undefined&&(n.locale=METRO_LOCALE);this.locale=i.locales[n.locale].calendar;n.minYear===null&&(n.minYear=(new Date).getFullYear()-100);n.maxYear===null&&(n.maxYear=(new Date).getFullYear()+100);this._createStructure();this._createEvents();this._set();r.exec(n.onDatePickerCreate,[t])},_createStructure:function(){var b=this,u=this.element,i=this.options,f,e,o,s,n,l,c,a,h,v,y=u.prev(),p=u.parent(),w=r.elementId("date-picker");if(f=t("<div>").attr("id",w).addClass("wheel-picker date-picker "+u[0].className).addClass(i.clsPicker),y.length===0?p.prepend(f):f.insertAfter(y),u.appendTo(f),c=t("<div>").addClass("date-wrapper").appendTo(f),i.month===!0&&(e=t("<div>").addClass("month").addClass(i.clsPart).addClass(i.clsMonth).appendTo(c)),i.day===!0&&(o=t("<div>").addClass("day").addClass(i.clsPart).addClass(i.clsDay).appendTo(c)),i.year===!0&&(s=t("<div>").addClass("year").addClass(i.clsPart).addClass(i.clsYear).appendTo(c)),a=t("<div>").addClass("select-wrapper").appendTo(f),h=t("<div>").addClass("select-block").appendTo(a),i.month===!0){for(e=t("<ul>").addClass("sel-month").appendTo(h),n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(e);for(n=0;n<12;n++)t("<li>").addClass("js-month-"+n+" js-month-real-"+this.locale.months[n].toLowerCase()).html(this.locale.months[n]).data("value",n).appendTo(e);for(n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(e)}if(i.day===!0){for(o=t("<ul>").addClass("sel-day").appendTo(h),n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(o);for(n=0;n<31;n++)t("<li>").addClass("js-day-"+n+" js-day-real-"+(n+1)).html(n+1).data("value",n+1).appendTo(o);for(n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(o)}if(i.year===!0){for(s=t("<ul>").addClass("sel-year").appendTo(h),n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s);for(n=i.minYear,l=0;n<=i.maxYear;n++,l++)t("<li>").addClass("js-year-"+l+" js-year-real-"+n).html(n).data("value",n).appendTo(s);for(n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s)}if(h.height((i.distance*2+1)*40),v=t("<div>").addClass("action-block").appendTo(a),t("<button>").attr("type","button").addClass("button action-ok").html(i.okButtonIcon).appendTo(v),t("<button>").attr("type","button").addClass("button action-cancel").html(i.cancelButtonIcon).appendTo(v),u[0].className="",i.copyInlineStyles===!0)for(n=0;n<u[0].style.length;n++)f.css(u[0].style[n],u.css(u[0].style[n]));this.picker=f},_createEvents:function(){var n=this,e=this.element,f=this.options,u=this.picker;u.on(i.events.start,".select-block ul",function(n){if(!n.changedTouches){var e=this,u=r.pageXY(n).y;t(document).on(i.events.move+"-picker",function(n){e.scrollTop-=f.scrollSpeed*(u>r.pageXY(n).y?-1:1);u=r.pageXY(n).y});t(document).on(i.events.stop+"-picker",function(){t(document).off(i.events.move+"-picker");t(document).off(i.events.stop+"-picker")})}});u.on(i.events.click,function(t){n.isOpen===!1&&n.open();t.stopPropagation()});u.on(i.events.click,".action-ok",function(t){var i,r,f,e=u.find(".sel-month li.active"),o=u.find(".sel-day li.active"),s=u.find(".sel-year li.active");i=e.length===0?n.value.getMonth():e.data("value");r=o.length===0?n.value.getDate():o.data("value");f=s.length===0?n.value.getFullYear():s.data("value");n.value=new Date(f,i,r);n._correct();n._set();n.close();t.stopPropagation()});u.on(i.events.click,".action-cancel",function(t){n.close();t.stopPropagation()});this._addScrollEvents()},_addScrollEvents:function(){var n=this.picker,u=this.options;t.each(["month","day","year"],function(){var f=this,t=n.find(".sel-"+f);if(t.length!==0){t.on(i.events.scrollStart,function(){t.find(".active").removeClass("active")});t.on(i.events.scrollStop,{latency:50},function(){var e=Math.round(Math.ceil(t.scrollTop())/40),i=t.find(".js-"+f+"-"+e),o=i.position().top-u.distance*40+t.scrollTop()-1;t.animate({scrollTop:o},100,function(){i.addClass("active");r.exec(u.onScroll,[i,t,n])})})}})},_removeScrollEvents:function(){var n=this.picker;t.each(["month","day","year"],function(){n.find(".sel-"+this).off("scrollstart scrollstop")})},_correct:function(){var n=this.value.getMonth(),t=this.value.getDate(),i=this.value.getFullYear();this.value=new Date(i,n,t)},_set:function(){var o=this,i=this.element,n=this.options,t=this.picker,u=this.locale.months[this.value.getMonth()],f=this.value.getDate(),e=this.value.getFullYear();n.month===!0&&t.find(".month").html(u);n.day===!0&&t.find(".day").html(f);n.year===!0&&t.find(".year").html(e);i.val(this.value.format(n.format,n.locale)).trigger("change");r.exec(n.onSet,[this.value,i.val(),i,t])},open:function(){var c=this,e=this.element,n=this.options,t=this.picker,o=this.value.getMonth(),s=this.value.getDate()-1,h=this.value.getFullYear(),i,u,f;t.find(".select-wrapper").show();t.find("li").removeClass("active");n.month===!0&&(i=t.find(".sel-month"),i.scrollTop(0).animate({scrollTop:i.find("li.js-month-"+o).addClass("active").position().top-40*n.distance},100));n.day===!0&&(u=t.find(".sel-day"),u.scrollTop(0).animate({scrollTop:u.find("li.js-day-"+s).addClass("active").position().top-40*n.distance},100));n.year===!0&&(f=t.find(".sel-year"),f.scrollTop(0).animate({scrollTop:f.find("li.js-year-real-"+h).addClass("active").position().top-40*n.distance},100));this.isOpen=!0;r.exec(n.onOpen,[this.value,e,t])},close:function(){var n=this.picker,t=this.options,i=this.element;n.find(".select-wrapper").hide();this.isOpen=!1;r.exec(t.onClose,[this.value,i,n])},val:function(n){if(n===undefined)return element.val();if(r.isDate(n)===!1)return!1;this.value=new Date(n);this._set()},date:function(n){if(n===undefined)return this.value;try{this.value=new Date(n.format("%Y-%m-%d"));this._set()}catch(t){return!1}},changeValueAttribute:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(n){switch(n){case"data-value":this.changeValueAttribute()}},destroy:function(){var u=this,t=this.element,f=this.options,n=this.picker,r=t.parent();this._removeScrollEvents();n.off(i.events.start,".select-block ul");n.off(i.events.click);n.off(i.events.click,".action-ok");n.off(i.events.click,".action-cancel");t.insertBefore(r);r.remove()}};i.plugin("datepicker",ki);t(document).on(i.events.click,function(){t.each(t(".date-picker"),function(){t(this).find("input").data("datepicker").close()})});di={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.interval=null,this.overlay=null,this._setOptionsFromDOM(),this._create(),this},options:{locale:METRO_LOCALE,title:"",content:"",actions:{},actionsAlign:"right",defaultAction:!0,overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"480",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",autoHide:0,removeOnClose:!1,show:!1,onShow:i.noop,onHide:i.noop,onOpen:i.noop,onClose:i.noop,onDialogCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var n=this.options;this.locale=i.locales[n.locale]!==undefined?i.locales[n.locale]:i.locales["en-US"];this._build()},_build:function(){var s=this,u=this.element,n=this.options,h=t("body"),o,f,e;if(u.addClass("dialog"),u.attr("id")===undefined&&u.attr("id",r.elementId("dialog")),n.title!==""&&this.setTitle(n.title),n.content!==""&&this.setContent(n.content),(n.defaultAction===!0||n.actions!==!1&&typeof n.actions=="object"&&r.objectLength(n.actions)>0)&&(f=u.find(".dialog-actions"),f.length===0&&(f=t("<div>").addClass("dialog-actions").addClass("text-"+n.actionsAlign).appendTo(u)),n.defaultAction===!0&&r.objectLength(n.actions)===0&&u.find(".dialog-actions > *").length===0&&(e=t("<button>").addClass("button js-dialog-close").addClass(n.clsDefaultAction).html(this.locale.buttons.ok),e.appendTo(f)),t.each(n.actions,function(){var n=this;if(e=t("<button>").addClass("button").addClass(n.cls).html(n.caption),n.onclick!==undefined)e.on(i.events.click,function(){r.exec(n.onclick,[u])});e.appendTo(f)})),n.overlay===!0&&(o=this._overlay(),this.overlay=o),n.closeAction===!0)u.on(i.events.click,".js-dialog-close",function(){s.close()});u.css({width:n.width,height:n.height,visibility:"hidden",top:"100%",left:(t(window).width()-u.outerWidth())/2});u.addClass(n.clsDialog);u.find(".dialog-title").addClass(n.clsTitle);u.find(".dialog-content").addClass(n.clsContent);u.find(".dialog-actions").addClass(n.clsAction);u.appendTo(h);n.show&&this.open();r.exec(this.options.onDialogCreate,[this.element])},_overlay:function(){var u=this,f=this.element,i=this.options,n=t("<div>");return n.addClass("overlay"),i.overlayColor==="transparent"?n.addClass("transparent"):n.css({background:r.hex2rgba(i.overlayColor,i.overlayAlpha)}),n},hide:function(n){var t=this.element,u=this.options,f=0;u.onHide!==i.noop&&(f=300,r.exec(u.onHide,[t]));setTimeout(function(){t.css({visibility:"hidden",top:"100%"});r.callback(n)},f)},show:function(n){var t=this.element,i=this.options;this.setPosition();t.css({visibility:"visible"});r.callback(n);r.exec(i.onShow,[t])},setPosition:function(){var n=this.element;n.css({top:(t(window).height()-n.outerHeight())/2,left:(t(window).width()-n.outerWidth())/2})},setContent:function(n){var f=this,u=this.element,e=this.options,i=u.find(".dialog-content");i.length===0&&(i=t("<div>").addClass("dialog-content"),i.appendTo(u));!r.isJQueryObject(n)&&r.isFunc(n)&&(n=r.exec(n));r.isJQueryObject(n)?n.appendTo(i):i.html(n)},setTitle:function(n){var u=this,r=this.element,f=this.options,i=r.find(".dialog-title");i.length===0&&(i=t("<div>").addClass("dialog-title"),i.appendTo(r));i.html(n)},close:function(){var u=this,n=this.element,i=this.options;t("body").find(".overlay").remove();this.hide(function(){n.data("open",!1);r.exec(i.onClose,[n]);i.removeOnClose===!0&&n.remove()})},open:function(){var u=this,f=this.element,n=this.options;if(n.overlay===!0&&(this.overlay.appendTo(t("body")),n.overlayClickClose===!0))this.overlay.on(i.events.click,function(){u.close()});this.show(function(){r.exec(n.onOpen,[f]);f.data("open",!0);parseInt(n.autoHide)>0&&setTimeout(function(){u.close()},parseInt(n.autoHide))})},toggle:function(){var n=this.element;n.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(){}};i.plugin("dialog",di);i.dialog={isDialog:function(n){return r.isMetroObject(n,"dialog")},open:function(n,i,r){if(!this.isDialog(n))return!1;var u=t(n).data("dialog");r!==undefined&&u.setTitle(r);i!==undefined&&u.setContent(i);u.open()},close:function(n){if(!this.isDialog(n))return!1;var i=t(n).data("dialog");i.close()},toggle:function(n){if(!this.isDialog(n))return!1;var i=t(n).data("dialog");i.toggle()},isOpen:function(n){if(!this.isDialog(n))return!1;var i=t(n).data("dialog");return i.isOpen()},remove:function(n){if(!this.isDialog(n))return!1;var i=t(n).data("dialog");i.options.removeOnClose=!0;i.close()},create:function(n){var i,r;return i=t("<div>").appendTo(t("body")),r=t.extend({},{show:!0,closeAction:!0,removeOnClose:!0},n!==undefined?n:{}),i.dialog(r)}};gi={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.value=0,this.animation_change_interval=null,this._setOptionsFromDOM(),this._create(),r.exec(this.options.onDonutCreate,[this.element]),this},options:{size:100,radius:50,hole:.8,value:0,background:"#ffffff",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:24,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:i.noop,onDonutCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var s=this,r=this.element,n=this.options,t="",i=n.radius*(1-(1-n.hole)/2),u=n.radius*(1-n.hole),f=2*Math.PI*i,h=n.value*f/n.total+" "+f,e="rotate(-90 "+n.radius+","+n.radius+")",o=i*n.hole*.6;r.addClass("donut");r.css({width:n.size,height:n.size,background:n.background});t+="<svg>";t+="   <circle class='donut-back' r='"+i+"px' cx='"+n.radius+"px' cy='"+n.radius+"px' transform='"+e+"' fill='none' stroke='"+n.stroke+"' stroke-width='"+u+"'/>";t+="   <circle class='donut-fill' r='"+i+"px' cx='"+n.radius+"px' cy='"+n.radius+"px' transform='"+e+"' fill='none' stroke='"+n.fill+"' stroke-width='"+u+"'/>";n.showText===!0&&(t+="   <text   class='donut-title' x='"+n.radius+"px' y='"+n.radius+"px' dy='"+o/3+"px' text-anchor='middle' fill='"+(n.color!==""?n.color:n.fill)+"' font-size='"+o+"px'>0"+n.cap+"<\/text>");t+="<\/svg>";r.html(t);this.val(n.value)},_setValue:function(n){var c=this,i=this.element,t=this.options,f=i.find(".donut-fill"),e=i.find(".donut-title"),o=t.radius*(1-(1-t.hole)/2),u=2*Math.PI*o,s=(t.showValue?n:r.percent(t.total,n,!0))+t.cap,h=n*u/t.total+" "+u;f.attr("stroke-dasharray",h);e.html(s)},val:function(n){var t=this,e=this.element,u=this.options,f,i;if(n===undefined)return this.value;if(parseInt(n)<0||parseInt(n)>u.total)return!1;u.animate>0&&!document.hidden?(f=n>t.value,i=t.value+(f?-1:1),clearInterval(t.animation_change_interval),this.animation_change_interval=setInterval(function(){f?(t._setValue(++i),i>=n&&clearInterval(t.animation_change_interval)):(t._setValue(--i),i<=n&&clearInterval(t.animation_change_interval))},u.animate)):(clearInterval(t.animation_change_interval),this._setValue(n));this.value=n;r.exec(u.onChange,[this.value,e])},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(n){switch(n){case"data-value":this.changeValue()}},destroy:function(){this.element.removeClass("donut").html("")}};i.plugin("donut",gi);nr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.drag=!1,this.move=!1,this.backup={cursor:"default",zIndex:"0"},this._setOptionsFromDOM(),this._create(),r.exec(this.options.onDraggableCreate,[this.element]),this},options:{dragElement:"self",dragArea:"parent",onCanDrag:i.noop_true,onDragStart:i.noop,onDragStop:i.noop,onDragMove:i.noop,onDraggableCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var f=this,n=this.element,u=this.options,e,s,o,h=u.dragElement!=="self"?n.find(u.dragElement):n;h[0].ondragstart=function(){return!1};h.on(i.events.start,function(h){if(n.data("canDrag")!==!1&&r.exec(u.onCanDrag,[n])===!0&&(p!==!1||h.which===1)){f.drag=!0;f.backup.cursor=n.css("cursor");f.backup.zIndex=n.css("z-index");n.addClass("draggable");(u.dragArea==="document"||u.dragArea==="window")&&(u.dragArea="body");e=u.dragArea==="parent"?n.parent():t(u.dragArea);s={left:e.offset().left,top:e.offset().top};o=r.pageXY(h);var c=n.outerHeight(),l=n.outerWidth(),a=n.offset().top+c-r.pageXY(h).y,v=n.offset().left+l-r.pageXY(h).x;r.exec(u.onDragStart,[o,n]);t(document).on(i.events.move,function(t){var y,p;if(f.drag!==!1){f.move=!0;y=r.pageXY(t).x-s.left;p=r.pageXY(t).y-s.top;var i=p>0?p+a-c:0,h=y>0?y+v-l:0,w=e.innerHeight()+e.scrollTop()-n.outerHeight(),b=e.innerWidth()+e.scrollLeft()-n.outerWidth();i>=0&&i<=w&&(o.y=i,n.offset({top:i+s.top}));h>=0&&h<=b&&(o.x=h,n.offset({left:h+s.left}));r.exec(u.onDragMove,[o,n]);t.preventDefault()}})}});h.on(i.events.stop,function(e){n.css({cursor:f.backup.cursor,zIndex:f.backup.zIndex}).removeClass("draggable");f.drag=!1;f.move=!1;o=r.pageXY(e);t(document).off(i.events.move);r.exec(u.onDragStop,[o,n])})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:function(){}};i.plugin("draggable",nr);tr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._toggle=null,this.displayOrigin=null,this._setOptionsFromDOM(),this._create(),r.exec(this.options.onDropdownCreate,[this.element]),this},options:{effect:"slide",toggleElement:null,noClose:!1,duration:100,onDrop:i.noop,onUp:i.noop,onDropdownCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var r=this,n=this.element,u=this.options,f,e=n.parent();f=u.toggleElement!==null?t(u.toggleElement):n.siblings(".dropdown-toggle").length>0?n.siblings(".dropdown-toggle"):n.prev();this.displayOrigin=n.css("display");this.element.css("display","none");f.on(i.events.click,function(i){var u,f;e.siblings(e[0].tagName).removeClass("active-container");t(".active-container").removeClass("active-container");n.css("display")==="none"||n.hasClass("keep-open")?(t("[data-role=dropdown]").each(function(i,u){n.parents("[data-role=dropdown]").is(u)||t(u).hasClass("keep-open")||t(u).css("display")==="none"||r._close(u)}),n.hasClass("horizontal")&&(n.css({visibility:"hidden",display:"block"}),u=0,t.each(n.children("li"),function(){u+=t(this).outerWidth(!0)}),n.css({visibility:"visible",display:"none"}),f=u,n.css("width",f)),r._open(n),e.addClass("active-container")):r._close(n);i.preventDefault();i.stopPropagation()});if(this._toggle=f,u.noClose===!0)n.addClass("keep-open").on(i.events.click,function(n){n.stopPropagation()});t(n).find("li.disabled a").on(i.events.click,function(n){n.preventDefault()})},_close:function(n){r.isJQueryObject(n)===!1&&(n=t(n));var i=n.data("dropdown"),f=i._toggle,u=i.options,e=u.effect==="slide"?"slideUp":"fadeOut";f.removeClass("active-toggle").removeClass("active-control");i.element.parent().removeClass("active-container");n[e](u.duration,function(){n.trigger("onClose",null,n)});r.exec(u.onUp,[n])},_open:function(n){r.isJQueryObject(n)===!1&&(n=t(n));var u=n.data("dropdown"),f=u._toggle,i=u.options,e=i.effect==="slide"?"slideDown":"fadeIn";f.addClass("active-toggle").addClass("active-control");n[e](i.duration,function(){n.trigger("onOpen",null,n)});r.exec(i.onDrop,[n])},close:function(){this._close(this.element)},open:function(){this._open(this.element)},changeAttribute:function(){},destroy:function(){this._toggle.off(i.events.click)}};t(document).on(i.events.click,function(){t("[data-role*=dropdown]").each(function(){var n=t(this),i;n.css("display")==="block"&&n.hasClass("keep-open")===!1&&(i=n.data("dropdown"),i.close())})});i.plugin("dropdown",tr);ir={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onFileCreate,[this.element]),this},options:{copyInlineStyles:!0,prepend:"",caption:"Choose file",disabled:!1,onSelect:i.noop,onFileCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){this._createStructure();this._createEvents()},_createStructure:function(){var a=this,n=this.element,i=this.options,e=n.prev(),c=n.parent(),u=t("<div>").addClass("file "+n[0].className),l=t("<span>").addClass("caption"),o,s,f,h;if(e.length===0?c.prepend(u):u.insertAfter(e),n.appendTo(u),l.insertBefore(n),o=t("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(i.caption),o.appendTo(u),n.attr("dir")==="rtl"&&u.addClass("rtl"),n[0].className="",i.prepend!==""&&(s=r.isTag(i.prepend)?t(i.prepend):t("<span>"+i.prepend+"<\/span>"),s.addClass("prepend").addClass(i.clsPrepend).appendTo(u)),i.copyInlineStyles===!0)for(f=0,h=n[0].style.length;f<h;f++)u.css(n[0].style[f],n.css(n[0].style[f]));i.disabled===!0||n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var n=this.element,e=this.options,u=n.parent(),f=u.find(".caption");u.on(i.events.click,"button, .caption",function(){n.trigger("click")});n.on(i.events.change,function(){var i=t(this).val();i!==""&&(i=i.replace(/.+[\\\/]/,""),f.html(i),f.attr("title",i),r.exec(e.onSelect,[i,n],n[0]))})},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(n){switch(n){case"disabled":this.toggleState();break;case"dir":this.toggleDir()}},destroy:function(){var n=this.element,t=n.parent();n.off(i.events.change);t.off(i.events.click,"button, .caption");n.insertBefore(t);t.remove()}};i.plugin("file",ir);rr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onGravatarCreate,[this.element]),this},options:{email:"",size:80,"default":"404",onGravatarCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,r=this.options,u=n[0].tagName==="IMG"?n:t("<img>").appendTo(n);this.get()},getImage:function(n,i,r,u){var f=t("<img>");return f.attr("src",this.getImageSrc(n,i)),u===!0?f:f[0]},getImageSrc:function(n,t,i){return n===undefined||n.trim()===""?"":(t=t||80,i=r.encodeURI(i)||"404","//www.gravatar.com/avatar/"+r.md5(n.toLowerCase().trim())+"?size="+t+"&d="+i)},get:function(){var r=this,n=this.element,t=this.options,i=n[0].tagName==="IMG"?n:n.find("img");if(i.length!==0)return i.attr("src",this.getImageSrc(t.email,t.size,t.default)),this},resize:function(n){this.options.size=n!==undefined?n:this.element.attr("data-size");console.log(this.options.size);this.get()},email:function(n){this.options.email=n!==undefined?n:this.element.attr("data-email");this.get()},changeAttribute:function(n){console.log(n);switch(n){case"data-size":this.resize();break;case"data-email":this.email()}},destroy:function(){var n=this.element;n[0].tagName.toLowerCase()!=="img"&&n.html("")}};i.plugin("gravatar",rr);ur={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.hint=null,this.hint_size={width:0,height:0},this._setOptionsFromDOM(),this._create(),r.exec(this.options.onHintCreate,[this.element]),this},options:{hintHide:5e3,clsHint:"",hintText:"",hintPosition:i.position.TOP,hintOffset:4,onHintCreate:i.noop,onHintShow:i.noop,onHintHide:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var n=this,r=this.element,u=this.options;r.on(i.events.enter+"-hint",function(){n.createHint();u.hintHide>0&&setTimeout(function(){n.removeHint()},u.hintHide)});r.on(i.events.leave+"-hint",function(){n.removeHint()});t(window).on(i.events.scroll+"-hint",function(){n.hint!==null&&n.setPosition()})},createHint:function(){var o=this,e=this.elem,n=this.element,u=this.options,i=t("<div>").addClass("hint").addClass(u.clsHint).html(u.hintText),f;this.hint=i;this.hint_size=r.hiddenElementSize(i);t(".hint").remove();(e.tagName==="TD"||e.tagName==="TH")&&(f=t("<div/>").css("display","inline-block").html(n.html()),n.html(f),n=f);this.setPosition();i.appendTo(t("body"));r.exec(u.onHintShow,[i,n])},setPosition:function(){var r=this.hint,f=this.hint_size,u=this.options,n=this.element;u.hintPosition===i.position.BOTTOM?(r.addClass("bottom"),r.css({top:n.offset().top-t(window).scrollTop()+n.outerHeight()+u.hintOffset,left:n.offset().left+n.outerWidth()/2-f.width/2-t(window).scrollLeft()})):u.hintPosition===i.position.RIGHT?(r.addClass("right"),r.css({top:n.offset().top+n.outerHeight()/2-f.height/2-t(window).scrollTop(),left:n.offset().left+n.outerWidth()-t(window).scrollLeft()+u.hintOffset})):u.hintPosition===i.position.LEFT?(r.addClass("left"),r.css({top:n.offset().top+n.outerHeight()/2-f.height/2-t(window).scrollTop(),left:n.offset().left-f.width-t(window).scrollLeft()-u.hintOffset})):(r.addClass("top"),r.css({top:n.offset().top-t(window).scrollTop()-f.height-u.hintOffset,left:n.offset().left+n.outerWidth()/2-f.width/2-t(window).scrollLeft()}))},removeHint:function(){var u=this,n=this.hint,f=this.element,t=this.options,e=t.onHintHide===i.noop?0:300;n!==null&&(r.exec(t.onHintHide,[n,f]),setTimeout(function(){n.hide(0,function(){n.remove();u.hint=null})},e))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(n){switch(n){case"data-hint-text":this.changeText()}},destroy:function(){var r=this,u=this.elem,n=this.element,f=this.options;this.removeHint();n.off(i.events.enter+"-hint");n.off(i.events.leave+"-hint");t(window).off(i.events.scroll+"-hint")}};i.plugin("hint",ur);fr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onInputCreate,[this.element]),this},options:{clsElement:"",clsInput:"",clsPrepend:"",clsClearButton:"",clsRevealButton:"",size:"default",prepend:"",copyInlineStyles:!0,clearButton:!0,revealButton:!0,clearButtonIcon:"<span class='default-icon-cross'><\/span>",revealButtonIcon:"<span class='default-icon-eye'><\/span>",customButtons:[],disabled:!1,onInputCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var y=this,u=this.element,n=this.options,c=u.prev(),v=u.parent(),f=t("<div>").addClass("input "+u[0].className),o=t("<div>").addClass("button-group"),s,h,l,e,a;if(u.attr("type")===undefined&&u.attr("type","text"),c.length===0?v.prepend(f):f.insertAfter(c),u.appendTo(f),o.appendTo(f),n.clearButton!==!1){s=t("<button>").addClass("button input-clear-button").addClass(n.clsClearButton).attr("tabindex",-1).attr("type","button").html(n.clearButtonIcon);s.on(i.events.click,function(){u.val("").trigger("change").trigger("keyup").focus()});s.appendTo(o)}if(u.attr("type")==="password"&&n.revealButton!==!1){h=t("<button>").addClass("button input-reveal-button").addClass(n.clsRevealButton).attr("tabindex",-1).attr("type","button").html(n.revealButtonIcon);h.on(i.events.start,function(){u.attr("type","text")}).on(i.events.stop,function(){u.attr("type","password").focus()});h.appendTo(o)}if(n.prepend!==""&&(l=r.isTag(n.prepend)?t(n.prepend):t("<span>"+n.prepend+"<\/span>"),l.addClass("prepend").addClass(n.clsPrepend).appendTo(f)),typeof n.customButtons=="string"&&(n.customButtons=r.isObject(n.customButtons)),typeof n.customButtons=="object"&&r.objectLength(n.customButtons)>0&&t.each(n.customButtons,function(){var n=this,f=t("<button>").addClass("button input-custom-button").addClass(n.cls).attr("tabindex",-1).attr("type","button").html(n.html);f.on(i.events.click,function(){r.exec(n.onclick,[u.val(),f],u[0])});f.appendTo(o)}),u.attr("dir")==="rtl"&&f.addClass("rtl").attr("dir","rtl"),u[0].className="",n.copyInlineStyles===!0)for(e=0,a=u[0].style.length;e<a;e++)f.css(u[0].style[e],u.css(u[0].style[e]));f.addClass(n.clsElement);u.addClass(n.clsInput);n.size!=="default"&&f.css({width:n.size});u.on(i.events.blur,function(){f.removeClass("focused")});u.on(i.events.focus,function(){f.addClass("focused")});n.disabled===!0||u.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},changeAttribute:function(n){switch(n){case"disabled":this.toggleState()}},destroy:function(){var e=this,t=this.element,o=this.options,n=t.parent(),r=n.find(".input-clear-button"),u=n.find(".input-reveal-button"),f=n.find(".input-custom-button");r.length>0&&r.off(i.events.click);u.length>0&&(u.off(i.events.start),u.off(i.events.stop));f.length>0&&r.off(i.events.click);t.off(i.events.blur);t.off(i.events.focus);t.insertBefore(n);n.remove()}};i.plugin("input",fr);er={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.value="",this.positions=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],this.keypad=null,this._setOptionsFromDOM(),this.keys=r.strToArray(this.options.keys,","),this.keys_to_work=this.keys,this._create(),this},options:{keySize:32,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",copyInlineStyles:!1,target:null,length:0,shuffle:!1,shuffleCount:3,position:i.position.BOTTOM_LEFT,dynamicPosition:!1,serviceButtons:!0,showValue:!0,open:!1,sizeAsKeys:!1,clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",onChange:i.noop,onClear:i.noop,onBackspace:i.noop,onShuffle:i.noop,onKey:i.noop,onKeypadCreate:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){this._createKeypad();this.options.shuffle===!0&&this.shuffle();this._createKeys();this._createEvents();r.exec(this.options.onKeypadCreate,[this.element])},_createKeypad:function(){var n=this.element,u=this.options,s=n.prev(),e=n.parent(),r,o,f,h;if(r=e.hasClass("input")?e:t("<div>").addClass("input").addClass(n[0].className),r.addClass("keypad"),(r.css("position")==="static"||r.css("position")==="")&&r.css({position:"relative"}),n.attr("type")===undefined&&n.attr("type","text"),s.length===0?e.prepend(r):r.insertAfter(s),n.attr("readonly",!0),n.appendTo(r),o=t("<div>").addClass("keys").addClass(u.clsKeys),o.appendTo(r),this._setKeysPosition(),u.open===!0&&o.addClass("open keep-open"),n[0].className="",u.copyInlineStyles===!0)for(f=0,h=n[0].style.length;f<h;f++)r.css(n[0].style[f],n.css(n[0].style[f]));n.addClass(u.clsInput);r.addClass(u.clsKeypad);n.on(i.events.blur,function(){r.removeClass("focused")});n.on(i.events.focus,function(){r.addClass("focused")});u.disabled===!0||n.is(":disabled")?this.disable():this.enable();this.keypad=r},_setKeysPosition:function(){var n=this.element,t=this.options,i=n.parent(),r=i.find(".keys");r.removeClass(this.positions.join(" ")).addClass(t.position)},_createKeys:function(){var o=this.element,n=this.options,u=o.parent(),f=Math.round(Math.sqrt(this.keys.length+2)),s=n.keySize,h=f*s+f*4,i,r=u.find(".keys"),e;r.html("");t.each(this.keys_to_work,function(){i=t("<span>").addClass("key").addClass(n.clsKey).html(this);i.data("key",this);i.css({width:n.keySize,height:n.keySize,lineHeight:n.keySize-4+"px"}).appendTo(r)});n.serviceButtons===!0&&(e=["&larr;","&times;"],t.each(e,function(){i=t("<span>").addClass("key service-key").addClass(n.clsKey).addClass(n.clsServiceKey).html(this);this==="&larr;"&&i.addClass(n.clsBackspace);this==="&times;"&&i.addClass(n.clsClear);i.data("key",this);i.css({width:n.keySize,height:n.keySize,lineHeight:n.keySize-4+"px"}).appendTo(r)}));r.width(h);n.sizeAsKeys===!0&&["top-left","top","top-right","bottom-left","bottom","bottom-right"].indexOf(n.position)!==-1&&u.outerWidth(r.outerWidth())},_createEvents:function(){var n=this,f=this.element,u=this.options,e=f.parent(),o=e.find(".keys");e.on(i.events.click,".keys",function(n){n.preventDefault();n.stopPropagation()});e.on(i.events.click,function(n){u.open!==!0&&(o.hasClass("open")===!0?o.removeClass("open"):o.addClass("open"),n.preventDefault(),n.stopPropagation())});e.on(i.events.click,".key",function(i){var e=t(this);if(e.data("key")!=="&larr;"&&e.data("key")!=="&times;"){if(u.length>0&&String(n.value).length===u.length)return!1;n.value=n.value+""+e.data("key");u.shuffle===!0&&(n.shuffle(),n._createKeys());u.dynamicPosition===!0&&(u.position=n.positions[r.random(0,n.positions.length-1)],n._setKeysPosition());r.exec(u.onKey,[e.data("key"),n.value,f])}else e.data("key")==="&times;"&&(n.value="",r.exec(u.onClear,[f])),e.data("key")==="&larr;"&&(n.value=n.value.substring(0,n.value.length-1),r.exec(u.onBackspace,[n.value,f]));u.showValue===!0&&(f[0].tagName==="INPUT"?f.val(n.value):f.text(n.value));f.trigger("change");r.exec(u.onChange,[n.value,f]);i.preventDefault();i.stopPropagation()});if(u.target!==null)f.on(i.events.change,function(){var i=t(u.target);i.length!==0&&(i[0].tagName==="INPUT"?i.val(n.value):i.text(n.value))})},shuffle:function(){for(var n=0;n<this.options.shuffleCount;n++)this.keys_to_work=this.keys_to_work.shuffle();r.exec(this.options.onShuffle,[this.keys_to_work,this.keys,this.element])},shuffleKeys:function(n){n===undefined&&(n=this.options.shuffleCount);for(var t=0;t<n;t++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(n){if(n!==undefined)this.value=n,this.element[0].tagName==="INPUT"?this.element.val(n):this.element.text(n);else return this.value},open:function(){var n=this.element,t=n.parent(),i=t.find(".keys");i.addClass("open")},close:function(){var n=this.element,t=n.parent(),i=t.find(".keys");i.removeClass("open")},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},setPosition:function(n){var t=n!==undefined?n:this.element.attr("data-position");this.positions.indexOf(t)!==-1&&(this.options.position=t,this._setKeysPosition())},changeAttribute:function(n){switch(n){case"disabled":this.toggleState();break;case"data-position":this.setPosition()}},destroy:function(){var t=this.element,n=this.keypad;n.off(i.events.click,".keys");n.off(i.events.click);n.off(i.events.click,".key");t.off(i.events.change);t.insertBefore(n);n.remove()}};i.plugin("keypad",er);t(document).on(i.events.click,function(){var n=t(".keypad .keys");t.each(n,function(){t(this).hasClass("keep-open")||t(this).removeClass("open")})});or={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),this},options:{selectable:!1,effect:"slide",duration:100,view:i.listView.LIST,selectCurrent:!0,structure:{},onNodeInsert:i.noop,onNodeDelete:i.noop,onNodeClean:i.noop,onCollapseNode:i.noop,onExpandNode:i.noop,onGroupNodeClick:i.noop,onNodeClick:i.noop,onListviewCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createView();this._createEvents();r.exec(t.onListviewCreate,[n])},_createIcon:function(n){var i,u;return u=r.isTag(n)?t(n):t("<img>").attr("src",n),i=t("<span>").addClass("icon"),i.html(u),i},_createCaption:function(n){return t("<div>").addClass("caption").html(n)},_createContent:function(n){return t("<div>").addClass("content").html(n)},_createToggle:function(){return t("<span>").addClass("node-toggle")},_createNode:function(n){var f=this,o=this.element,e=this.options,i,u;return i=t("<li>"),(n.caption!==undefined||n.content!==undefined)&&(u=t("<div>").addClass("data"),i.prepend(u),n.caption!==undefined&&u.append(f._createCaption(n.caption)),n.content!==undefined&&u.append(f._createContent(n.content))),n.icon!==undefined&&i.prepend(this._createIcon(n.icon)),r.objectLength(e.structure>0)&&t.each(e.structure,function(r,u){n[r]!==undefined&&t("<div>").addClass("node-data item-data-"+r).addClass(n[u]).html(n[r]).appendTo(i)}),i},_createView:function(){var n=this,i=this.element,u=this.options,f=i.find("li"),e=r.objectLength(u.structure);i.addClass("listview");i.find("ul").addClass("listview");t.each(f,function(){var i=t(this),r,f;(i.data("caption")!==undefined||i.data("content")!==undefined)&&(r=t("<div>").addClass("data"),i.prepend(r),i.data("caption")!==undefined&&r.append(n._createCaption(i.data("caption"))),i.data("content")!==undefined&&r.append(n._createContent(i.data("content"))));i.data("icon")!==undefined&&i.prepend(n._createIcon(i.data("icon")));i.children("ul").length>0?(i.addClass("node-group"),i.append(n._createToggle()),i.data("collapsed")!==!0&&i.addClass("expanded")):i.addClass("node");i.hasClass("node")&&(f=t("<input data-role='checkbox'>"),f.data("node",i),i.prepend(f));e>0&&t.each(u.structure,function(n){i.data(n)!==undefined&&t("<div>").addClass("node-data item-data-"+n).addClass(i.data(n)).html(i.data(n)).appendTo(i)})});this.toggleSelectable();this.view(u.view)},_createEvents:function(){var f=this,n=this.element,u=this.options;n.on(i.events.click,".node",function(){var i=t(this);n.find(".node").removeClass("current");i.toggleClass("current");u.selectCurrent===!0&&(n.find(".node").removeClass("current-select"),i.toggleClass("current-select"));r.exec(u.onNodeClick,[i,n])});n.on(i.events.click,".node-toggle",function(){var n=t(this).closest("li");f.toggleNode(n)});n.on(i.events.click,".node-group > .data > .caption",function(){var i=t(this).closest("li");n.find(".node-group").removeClass("current-group");i.addClass("current-group");r.exec(u.onGroupNodeClick,[i,n])});n.on(i.events.dblclick,".node-group > .data > .caption",function(){var n=t(this).closest("li");f.toggleNode(n)})},view:function(n){var r=this.element,u=this.options;if(n===undefined)return u.view;u.view=n;t.each(i.listView,function(n,t){r.removeClass("view-"+t);r.find("ul").removeClass("view-"+t)});r.addClass("view-"+u.view);r.find("ul").addClass("view-"+u.view)},toggleNode:function(n){var u=this.element,t=this.options,i;n.hasClass("node-group")&&(n.toggleClass("expanded"),t.effect==="slide"?(i=n.hasClass("expanded")!==!0?"slideUp":"slideDown",r.exec(t.onCollapseNode,[n,u])):(i=n.hasClass("expanded")!==!0?"fadeOut":"fadeIn",r.exec(t.onExpandNode,[n,u])),n.children("ul")[i](t.duration))},toggleSelectable:function(){var r=this,n=this.element,i=this.options,t=i.selectable===!0?"addClass":"removeClass";n[t]("selectable");n.find("ul")[t]("selectable")},add:function(n,i){var c=this,o=this.element,s=this.options,f,u,h,e;if(n===null)f=o;else{if(!n.hasClass("node-group"))return;f=n.children("ul");f.length===0&&(f=t("<ul>").addClass("listview").addClass("view-"+s.view).appendTo(n),h=this._createToggle(),h.appendTo(n),n.addClass("expanded"))}return u=this._createNode(i),u.addClass("node").appendTo(f),e=t("<input>"),e.data("node",u),u.prepend(e),e.checkbox(),r.exec(s.onNodeInsert,[u,o]),u},addGroup:function(n){var e=this,u=this.element,f=this.options,i;return delete n.icon,i=this._createNode(n),i.addClass("node-group").appendTo(u),i.append(this._createToggle()),i.addClass("expanded"),i.append(t("<ul>").addClass("listview").addClass("view-"+f.view)),r.exec(f.onNodeInsert,[i,u]),i},insertBefore:function(n,t){var u=this.element,f=this.options,i=this._createNode(t);return i.insertBefore(n),r.exec(f.onNodeInsert,[i,u]),i},insertAfter:function(n,t){var u=this.element,f=this.options,i=this._createNode(t);return i.insertAfter(n),r.exec(f.onNodeInsert,[i,u]),i},del:function(n){var i=this.element,f=this.options,t=n.closest("ul"),u=t.closest("li");n.remove();t.children().length!==0||t.is(i)||(t.remove(),u.removeClass("expanded"),u.children(".node-toggle").remove());r.exec(f.onNodeDelete,[n,i])},clean:function(n){var t=this.element,i=this.options;n.children("ul").remove();n.removeClass("expanded");n.children(".node-toggle").remove();r.exec(i.onNodeClean,[n,t])},changeView:function(){var n=this.element,i=this.options,t="view-"+n.attr("data-view");this.view(t)},changeSelectable:function(){var n=this.element,t=this.options;t.selectable=JSON.parse(n.attr("data-selectable"))===!0;this.toggleSelectable()},changeAttribute:function(n){switch(n){case"data-view":this.changeView();break;case"data-selectable":this.changeSelectable()}}};i.plugin("listview",or);sr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.pages=[],this.currentIndex=0,this.isAnimate=!1,this._setOptionsFromDOM(),this._create(),this},options:{effect:"slide",effectFunc:"linear",duration:METRO_ANIMATION_DURATION,controlPrev:"<span class='default-icon-left-arrow'><\/span>",controlNext:"<span class='default-icon-right-arrow'><\/span>",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:i.noop_true,onBeforeNext:i.noop_true,onBeforePrev:i.noop_true,onMasterCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;n.addClass("master").addClass(t.clsMaster);n.css({backgroundImage:"url("+t.backgroundImage+")"});this._createControls();this._createPages();this._createEvents();r.exec(this.options.onMasterCreate,[this.element])},_createControls:function(){var e=this,u=this.element,n=this.options,i,r,f=u.find(".page");r=String(n.controlTitle).replace("$1","1");r=String(r).replace("$2",f.length);t.each(["top","bottom"],function(){i=t("<div>").addClass("controls controls-"+this).addClass(n.clsControls).appendTo(u);t("<span>").addClass("prev").addClass(n.clsControlPrev).html(n.controlPrev).appendTo(i);t("<span>").addClass("next").addClass(n.clsControlNext).html(n.controlNext).appendTo(i);t("<span>").addClass("title").addClass(n.clsControlTitle).html(r).appendTo(i)});this._enableControl("prev",!1)},_enableControl:function(n,t){var i=this.element.find(".controls ."+n);t===!0?i.removeClass("disabled"):i.addClass("disabled")},_setTitle:function(){var t=this.element.find(".controls .title"),n=this.options.controlTitle.replace("$1",this.currentIndex+1);n=n.replace("$2",String(this.pages.length));t.html(n)},_createPages:function(){var u=this,n=this.element,r=this.options,i=n.find(".pages"),f=n.find(".page");i.length===0&&(i=t("<div>").addClass("pages").appendTo(n));i.addClass(r.clsPages);t.each(f,function(){var i=t(this);i.data("cover")!==undefined?n.css({backgroundImage:"url("+i.data("cover")+")"}):n.css({backgroundImage:"url("+r.backgroundImage+")"});i.css({left:"100%"});i.addClass(r.clsPage).hide(0);u.pages.push(i)});f.appendTo(i);this.currentIndex=0;this.pages[this.currentIndex]!==undefined&&(this.pages[this.currentIndex].data("cover")!==undefined&&n.css({backgroundImage:"url("+this.pages[this.currentIndex].data("cover")+")"}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(function(){i.css({height:u.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){var n=this,u=this.element,f=this.options;u.on(i.events.click,".controls .prev",function(){n.isAnimate!==!0&&r.exec(f.onBeforePrev,[n.currentIndex,n.pages[n.currentIndex],u])===!0&&r.exec(f.onBeforePage,["prev",n.currentIndex,n.pages[n.currentIndex],u])===!0&&n.prev()});u.on(i.events.click,".controls .next",function(){n.isAnimate!==!0&&r.exec(f.onBeforeNext,[n.currentIndex,n.pages[n.currentIndex],u])===!0&&r.exec(f.onBeforePage,["next",n.currentIndex,n.pages[n.currentIndex],u])===!0&&n.next()});t(window).on(i.events.resize+"-master"+u.attr("id"),function(){u.find(".pages").height(n.pages[n.currentIndex].outerHeight(!0)+2)})},_slideToPage:function(n){var t,i,r;this.pages[n]!==undefined&&this.currentIndex!==n&&(r=n>this.currentIndex?"next":"prev",t=this.pages[this.currentIndex],i=this.pages[n],this.currentIndex=n,this._effect(t,i,r))},_slideTo:function(n){var t,i;if(n!==undefined){if(t=this.pages[this.currentIndex],n==="next"){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}i=this.pages[this.currentIndex];this._effect(t,i,n)}},_effect:function(n,t,i){function o(){t.data("cover")!==undefined?u.css({backgroundImage:"url("+t.data("cover")+")"}):u.css({backgroundImage:"url("+r.backgroundImage+")"});e.css("overflow","initial");s.isAnimate=!1}function h(){n.stop(!0,!0).animate({left:i==="next"?-f:f},r.duration,r.effectFunc,function(){n.hide(0)});t.stop(!0,!0).css({left:i==="next"?f:-f}).show(0).animate({left:0},r.duration,r.effectFunc,function(){o()})}function c(){n.hide(0);t.hide(0).css("left",0).show(0,function(){o()})}function l(){n.fadeOut(r.duration);t.hide(0).css("left",0).fadeIn(r.duration,function(){o()})}var s=this,u=this.element,r=this.options,f=u.width(),e=u.find(".pages");this._setTitle();this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0);this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0);this.isAnimate=!0;setTimeout(function(){e.animate({height:t.outerHeight(!0)+2})},0);e.css("overflow","hidden");switch(r.effect){case"fade":l();break;case"switch":c();break;default:h()}},toPage:function(n){this._slideToPage(n)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(n){switch(n){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration()}}};i.plugin("master",sr);hr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.pane=null,this.content=null,this.paneToggle=null,this._setOptionsFromDOM(),this._create(),this},options:{compact:"md",expanded:"lg",toggle:null,onNavigationViewCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createView();this._createEvents();r.exec(t.onNavigationViewCreate,[n])},_createView:function(){var s=this,f=this.element,n=this.options,r,e,o,i,u;f.addClass("navview").addClass(n.compact!==!1?"compact-"+n.compact:"").addClass(n.expanded!==!1?"expanded-"+n.expanded:"");r=f.children(".navview-pane");e=f.children(".navview-content");o=t(n.toggle);i=r.find(".navview-menu");i.length>0&&(u=0,t.each(i.prevAll(),function(){u+=t(this).outerHeight(!0)}),t.each(i.nextAll(),function(){u+=t(this).outerHeight(!0)}),i.css({height:"calc(100% - "+(u+20)+"px)"}));this.pane=r.length>0?r:null;this.content=e.length>0?e:null;this.paneToggle=o.length>0?o:null},_createEvents:function(){var r=this,n=this.element,u=this.options,f=this.pane,e=this.content;n.on(i.events.click,".pull-button, .holder",function(){var i=f.width()<280,u=t(this);if(u.hasClass("holder")&&u.parent().find("input").focus(),r.pane.hasClass("open")){r.close();return}if((i||n.hasClass("expand"))&&!n.hasClass("compacted")){n.toggleClass("expand");return}if(n.hasClass("compacted")||!i){n.toggleClass("compacted");return}return!0});if(this.paneToggle!==null)this.paneToggle.on(i.events.click,function(){r.pane.toggleClass("open")});t(window).on(i.events.resize,function(){n.removeClass("expand");r.pane.removeClass("open");t(this).width()<=i.media_sizes[String(u.compact).toUpperCase()]&&n.removeClass("compacted")})},open:function(){this.pane.addClass("open")},close:function(){this.pane.removeClass("open")},changeAttribute:function(){}};i.plugin("navview",hr);cr={options:{container:null,width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"100vh",animation:"swing"},notifies:[],setup:function(n){var r=t("body"),i;return this.options=t.extend({},this.options,n),this.options.container===null&&(i=t("<div>").addClass("notify-container"),r.prepend(i),this.options.container=i),this},reset:function(){var n={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"100vh",animation:"swing"};this.options=t.extend({},this.options,n)},create:function(n,u,f){var e,s=this,o=this.options,h,c;if(n===undefined||n.trim()==="")return!1;e=t("<div>").addClass("notify");e.css({width:o.width});u&&(c=t("<div>").addClass("notify-title").html(u),e.prepend(c));h=t("<div>").addClass("notify-message").html(n);h.appendTo(e);f!==undefined&&(f.cls!==undefined&&e.addClass(f.cls),f.width!==undefined&&e.css({width:f.width}));e.on(i.events.click,function(){s.kill(t(this))});e.hide(function(){e.appendTo(o.container);e.css({marginTop:o.distance}).fadeIn(100,function(){e.animate({marginTop:".25rem"},o.duration,o.animation,function(){f!==undefined&&f.keepOpen===!0||setTimeout(function(){s.kill(e,f!==undefined&&f.onClose!==undefined?f.onClose:undefined)},o.timeout);f!==undefined&&f.onShow!==undefined&&r.callback(f.onShow)})})})},kill:function(n,t){n.fadeOut("slow",function(){n.remove();r.callback(t)})},killAll:function(){var n=this,i=t(".notify");t.each(i,function(){n.kill(t(this))})}};i.notify=cr.setup();lr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),this},dependencies:["draggable","collapse"],options:{titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:METRO_ANIMATION_DURATION,width:"auto",height:"auto",draggable:!1,clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:i.noop,onExpand:i.noop,onDragStart:i.noop,onDragStop:i.noop,onDragMove:i.noop,onPanelCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var l=this,u=this.element,n=this.options,e=u.prev(),s=u.parent(),i=t("<div>").addClass("panel").addClass(n.clsPanel),h=r.uniqueId(),c=u[0].className,f,o;e.length===0?s.prepend(i):i.insertAfter(e);i.attr("id",h).addClass(c);u[0].className="";u.addClass("panel-content").addClass(n.clsContent).appendTo(i);(n.titleCaption!==""||n.titleIcon!==""||n.collapsible===!0)&&(f=t("<div>").addClass("panel-title").addClass(n.clsTitle),n.titleCaption!==""&&t("<span>").addClass("caption").addClass(n.clsTitleCaption).html(n.titleCaption).appendTo(f),n.titleIcon!==""&&t(n.titleIcon).addClass("icon").addClass(n.clsTitleIcon).appendTo(f),n.collapsible===!0&&(o=t("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(n.clsCollapseToggle).appendTo(f),u.collapse({toggleElement:o,duration:n.collapseDuration,onCollapse:n.onCollapse,onExpand:n.onExpand}),n.collapsed===!0&&this.collapse()),f.appendTo(i));n.draggable===!0&&i.draggable({dragElement:f||i,onDragStart:n.onDragStart,onDragStop:n.onDragStop,onDragMove:n.onDragMove});n.width!=="auto"&&parseInt(n.width)>=0&&i.outerWidth(parseInt(n.width));n.height!=="auto"&&parseInt(n.height)>=0&&(i.outerHeight(parseInt(n.height)),u.css({overflow:"auto"}));this.panel=i;r.exec(n.onPanelCreate,[this.element])},collapse:function(){var n=this.element,t=this.options;r.isMetroObject(n,"collapse")!==!1&&n.data("collapse").collapse()},expand:function(){var n=this.element,t=this.options;r.isMetroObject(n,"collapse")!==!1&&n.data("collapse").expand()},changeAttribute:function(n){switch(n){}}};i.plugin("panel",lr);ar={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.popover=null,this.popovered=!1,this.size={width:0,height:0},this._setOptionsFromDOM(),this._create(),this},options:{popoverText:"",popoverHide:3e3,popoverOffset:10,popoverTrigger:i.popoverEvents.HOVER,popoverPosition:i.position.TOP,hideOnLeave:!1,clsPopover:"",onPopoverShow:i.noop,onPopoverHide:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var n=this,t=this.element,i=this.options;this._createEvents()},_createEvents:function(){var n=this,e=this.element,u=this.options,f;switch(u.popoverTrigger){case i.popoverEvents.CLICK:f=i.events.click;break;case i.popoverEvents.FOCUS:f=i.events.focus;break;default:f=i.events.enter}e.on(f,function(){n.popover===null&&n.popovered!==!0&&(n.createPopover(),u.popoverHide>0&&setTimeout(function(){n.removePopover()},u.popoverHide))});if(u.hideOnLeave===!0&&!r.isTouchDevice())e.on(i.events.leave,function(){n.removePopover()});t(window).on(i.events.scroll,function(){n.popover!==null&&n.setPosition()})},setPosition:function(){var r=this.popover,f=this.size,u=this.options,n=this.element;u.popoverPosition===i.position.BOTTOM?(r.addClass("bottom"),r.css({top:n.offset().top-t(window).scrollTop()+n.outerHeight()+u.popoverOffset,left:n.offset().left+n.outerWidth()/2-f.width/2-t(window).scrollLeft()})):u.popoverPosition===i.position.RIGHT?(r.addClass("right"),r.css({top:n.offset().top+n.outerHeight()/2-f.height/2-t(window).scrollTop(),left:n.offset().left+n.outerWidth()-t(window).scrollLeft()+u.popoverOffset})):u.popoverPosition===i.position.LEFT?(r.addClass("left"),r.css({top:n.offset().top+n.outerHeight()/2-f.height/2-t(window).scrollTop(),left:n.offset().left-f.width-t(window).scrollLeft()-u.popoverOffset})):(r.addClass("top"),r.css({top:n.offset().top-t(window).scrollTop()-f.height-u.popoverOffset,left:n.offset().left+n.outerWidth()/2-f.width/2-t(window).scrollLeft()}))},createPopover:function(){var h=this,s=this.elem,f=this.element,e=this.options,n=t("<div>").addClass("popover neb").addClass(e.clsPopover).html(e.popoverText),u,c=r.elementId("popover"),o;n.attr("id",c);switch(e.popoverPosition){case i.position.TOP:u="neb-s";break;case i.position.BOTTOM:u="neb-n";break;case i.position.RIGHT:u="neb-w";break;case i.position.LEFT:u="neb-e"}n.addClass(u);n.on(i.events.click,function(){h.removePopover()});this.popover=n;this.size=r.hiddenElementSize(n);(s.tagName==="TD"||s.tagName==="TH")&&(o=t("<div/>").css("display","inline-block").html(f.html()),f.html(o),f=o);this.setPosition();n.appendTo(t("body"));this.popovered=!0;r.exec(e.onPopoverShow,[n,f])},removePopover:function(){var t=this,u=this.options.onPopoverHide===i.noop?0:300,n=this.popover;n!==null&&(r.exec(this.options.onPopoverHide,[n,this.element]),setTimeout(function(){n.hide(0,function(){n.remove();t.popover=null;t.popovered=!1})},u))},show:function(){var t=this,n=this.options;this.popovered!==!0&&(this.createPopover(),n.popoverHide>0&&setTimeout(function(){t.removePopover()},n.popoverHide))},hide:function(){this.removePopover()},changeText:function(){this.options.popoverText=this.element.attr("data-popover-text")},changePosition:function(){this.options.popoverPosition=this.element.attr("data-popover-position")},changeAttribute:function(n){switch(n){case"data-popover-text":this.changeText()}}};i.plugin("popover",ar);vr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.value=0,this.buffer=0,this._setOptionsFromDOM(),this._create(),r.exec(this.options.onProgressCreate,[this.element]),this},options:{value:0,buffer:0,type:"bar",small:!1,clsBack:"",clsBar:"",clsBuffer:"",onValueChange:i.noop,onBufferChange:i.noop,onComplete:i.noop,onBuffered:i.noop,onProgressCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){function r(){t("<div>").addClass("bar").appendTo(n)}function u(){t("<div>").addClass("bar").appendTo(n);t("<div>").addClass("buffer").appendTo(n)}function f(){n.addClass("with-load");t("<div>").addClass("bar").appendTo(n);t("<div>").addClass("buffer").appendTo(n);t("<div>").addClass("load").appendTo(n)}function e(){n.addClass("line")}var o=this,n=this.element,i=this.options;n.html("").addClass("progress");switch(i.type){case"buffer":u();break;case"load":f();break;case"line":e();break;default:r()}i.small===!0&&n.addClass("small");n.addClass(i.clsBack);n.find(".bar").addClass(i.clsBar);n.find(".buffer").addClass(i.clsBuffer);this.val(i.value);this.buff(i.buffer)},val:function(n){var f=this,t=this.element,u=this.options,i;if(n===undefined)return f.value;if(i=t.find(".bar"),i.length===0)return!1;this.value=parseInt(n,10);i.css("width",this.value+"%");t.trigger("valuechange",[this.value]);r.exec(u.onValueChange,[this.value,t]);this.value===100&&r.exec(u.onComplete,[this.value,t])},buff:function(n){var f=this,t=this.element,u=this.options,i;if(n===undefined)return f.buffer;if(i=t.find(".buffer"),i.length===0)return!1;this.buffer=parseInt(n,10);i.css("width",this.buffer+"%");t.trigger("bufferchange",[this.buffer]);r.exec(u.onBufferChange,[this.buffer,t]);this.buffer===100&&r.exec(u.onBuffered,[this.buffer,t])},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(n){switch(n){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer()}}};i.plugin("progress",vr);yr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.origin={className:""},this._setOptionsFromDOM(),this._create(),r.exec(this.options.onRadioCreate,[this.element]),this},options:{caption:"",captionPosition:"right",disabled:!1,clsElement:"",clsCheck:"",clsCaption:"",onRadioCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var s=this,n=this.element,r=this.options,u=n.prev(),o=n.parent(),i=t("<label>").addClass("radio "+n[0].className),f=t("<span>").addClass("check"),e=t("<span>").addClass("caption").html(r.caption);n.attr("type","radio");u.length===0?o.prepend(i):i.insertAfter(u);n.appendTo(i);f.appendTo(i);e.appendTo(i);r.captionPosition==="left"&&i.addClass("caption-left");this.origin.className=n[0].className;n[0].className="";i.addClass(r.clsElement);e.addClass(r.clsCaption);f.addClass(r.clsCheck);r.disabled===!0&&n.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},changeAttribute:function(n){switch(n){case"disabled":this.toggleState()}},destroy:function(){var n=this.element,t=n.parent();n[0].className=this.origin.className;n.insertBefore(t);t.remove()}};i.plugin("radio",yr);pr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.value=0,this.values=[],this.rate=0,this.rating=null,this._setOptionsFromDOM(),this._create(),this},options:{"static":!1,title:null,value:0,values:null,message:"",stars:5,starColor:null,staredColor:null,roundFunc:"round",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",onStarClick:i.noop,onRatingCreate:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this.element,n=this.options,t;if(n.values!==null)Array.isArray(n.values)?this.values=n.values:typeof n.values=="string"&&(this.values=r.strToArray(n.values));else for(t=1;t<=n.stars;t++)this.values.push(t);this.value=n.value>0?Math[n.roundFunc](n.value):0;n.starColor!==null&&(r.isColor(n.starColor)||(n.starColor=s.color(n.starColor)));n.staredColor!==null&&(r.isColor(n.staredColor)||(n.staredColor=s.color(n.staredColor)));this._createRating();this._createEvents();r.exec(n.onRatingCreate,[i])},_createRating:function(){var u=this.element,n=this.options,s=u.prev(),y=u.parent(),o=r.elementId("rating"),f=t("<div>").addClass("rating "+String(u[0].className).replace("d-block","d-flex")).addClass(n.clsRating),e,h,c,l,a=i.sheet,v;for(u.val(this.value),f.attr("id",o),s.length===0?y.prepend(f):f.insertAfter(s),u.appendTo(f),h=t("<ul>").addClass("stars").addClass(n.clsStars).appendTo(f),e=1;e<=n.stars;e++)l=t("<li>").data("value",this.values[e-1]).appendTo(h),e<=this.value&&l.addClass("on");if(c=t("<span>").addClass("result").addClass(n.clsResult).appendTo(f),c.html(n.message),n.starColor!==null&&r.addCssRule(a,"#"+o+" .stars:hover li","color: "+n.starColor+";"),n.staredColor!==null&&r.addCssRule(a,"#"+o+" .stars li.on","color: "+n.staredColor+";"),n.title!==null&&(v=t("<span>").addClass("title").addClass(n.clsTitle).html(n.title),f.prepend(v)),n.static===!0&&f.addClass("static"),u[0].className="",n.copyInlineStyles===!0)for(e=0;e<u[0].style.length;e++)f.css(u[0].style[e],u.css(u[0].style[e]));this.rating=f},_createEvents:function(){var n=this.element,u=this.options,f=this.rating;f.on(i.events.click,".stars li",function(){if(u.static!==!0){var i=t(this),f=i.data("value");i.addClass("scale");setTimeout(function(){i.removeClass("scale")},300);n.val(f).trigger("change");i.addClass("on");i.prevAll().addClass("on");i.nextAll().removeClass("on");r.exec(u.onStarClick,[f,i,n])}})},val:function(n){var r=this,u=this.element,f=this.options,e=this.rating,i;return n===undefined?this.value:(this.value=n>0?Math[f.roundFunc](n):0,u.val(this.value).trigger("change"),i=e.find(".stars li").removeClass("on"),t.each(i,function(){var n=t(this);n.data("value")<=r.value&&n.addClass("on")}),this)},msg:function(n){var t=this.rating;if(n!==undefined)return t.find(".result").html(n),this},"static":function(n){var i=this.options,t=this.rating;i.static=n;n===!0?t.addClass("static"):t.removeClass("static")},changeAttributeValue:function(n){var t=this.element,i=n==="value"?t.val():t.attr("data-value");this.val(i)},changeAttributeMessage:function(){var n=this.element,t=n.attr("data-message");this.msg(t)},changeAttributeStatic:function(){var n=this.element,t=JSON.parse(n.attr("data-static"))===!0;this.static(t)},changeAttribute:function(n){switch(n){case"value":case"data-value":this.changeAttributeValue(n);break;case"data-message":this.changeAttributeMessage();break;case"data-static":this.changeAttributeStatic()}}};i.plugin("rating",pr);wr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onResizableCreate,[this.element]),this},options:{resizeElement:".resize-element",onResizeStart:i.noop,onResizeStop:i.noop,onResize:i.noop,onResizableCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var f=this,n=this.element,u=this.options;u.resizeElement!==""&&t(u.resizeElement).length===0&&t("<span>").addClass("resize-element").appendTo(n);n.on(i.events.start,u.resizeElement,function(f){if(n.data("canResize")!==!1){var e=r.clientXY(f),o=parseInt(n.outerWidth()),s=parseInt(n.outerHeight()),h={width:o,height:s};r.exec(u.onResizeStart,[n,h]);t(document).on(i.events.move,function(t){var i=r.clientXY(t),f={width:o+i.x-e.x,height:s+i.y-e.y};n.css(f);r.exec(u.onResize,[n,f])})}});n.on(i.events.stop,u.resizeElement,function(){t(document).off(i.events.move);var f={width:parseInt(n.outerWidth()),height:parseInt(n.outerHeight())};r.exec(u.onResizeStop,[n,f])})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(){}};i.plugin("resizable",wr);br={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),this},dependencies:["buttongroup"],options:{onStatic:i.noop,onBeforeTab:i.noop_true,onTab:i.noop,onRibbonMenuCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createStructure();this._createEvents();r.exec(t.onRibbonMenuCreate,[n])},_createStructure:function(){var f=this,n=this.element,e=this.options,i,r,u;n.addClass("ribbon-menu");i=n.find(".tabs-holder li:not(.static)");r=n.find(".tabs-holder li.active");r.length>0?this.open(t(r[0])):i.length>0&&this.open(t(i[0]));u=n.find(".ribbon-toggle-group");t.each(u,function(){var i=t(this),n,r;i.buttongroup({clsActive:"active"});n=0;r=i.find(".ribbon-icon-button");t.each(r,function(){var r=t(this),i=r.outerWidth(!0);i>n&&(n=i)});i.css("width",Math.ceil(n*r.length/3)+4)})},_createEvents:function(){var f=this,n=this.element,u=this.options;n.on(i.events.click,".tabs-holder li a",function(e){var s=t(this),o=t(this).parent("li");o.hasClass("static")?u.onStatic===i.noop&&s.attr("href")!==undefined?document.location.href=s.attr("href"):r.exec(u.onStatic,[o,n]):r.exec(u.onBeforeTab,[o,n])===!0&&f.open(o);e.preventDefault()})},open:function(n){var s=this,t=this.element,f=this.options,e=t.find(".tabs-holder li"),o=t.find(".content-holder .section"),i=n.children("a").attr("href"),u=i!=="#"?t.find(i):null;e.removeClass("active");n.addClass("active");o.removeClass("active");u&&u.addClass("active");r.exec(f.onTab,[n,t])},changeAttribute:function(){}};i.plugin("ribbonmenu",br);kr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onRippleCreate,[this.element]),this},options:{rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var e=this,u=this.element,n=this.options,f=n.rippleTarget==="default"?null:n.rippleTarget;u.on(i.events.click,f,function(i){var u=t(this),o=null,f,e,s,h;u.css("position")==="static"&&u.css("position","relative");u.css({overflow:"hidden"});t(".ripple").remove();f=Math.max(u.outerWidth(),u.outerHeight());e=t("<span class='ripple'><\/span>").css({width:f,height:f});u.prepend(e);s=i.pageX-u.offset().left-e.width()/2;h=i.pageY-u.offset().top-e.height()/2;e.css({background:r.hex2rgba(n.rippleColor,n.rippleAlpha),width:f,height:f,top:h+"px",left:s+"px"}).addClass("rippleEffect");o=setTimeout(function(){o=null;t(".ripple").remove()},400)})},changeAttribute:function(){}};i.plugin("ripple",kr);dr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onInputCreate,[this.element]),this},options:{clsElement:"",clsInput:"",clsPrepend:"",clsClearButton:"",clsSearchButton:"",size:"default",prepend:"",copyInlineStyles:!0,clearButton:!0,searchButton:!0,searchButtonClick:"submit",clearButtonIcon:"<span class='default-icon-cross'><\/span>",searchButtonIcon:"<span class='default-icon-search'><\/span>",customButtons:[],disabled:!1,onSearchButtonClick:i.noop,onInputCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var y=this,u=this.element,n=this.options,c=u.prev(),v=u.parent(),f=t("<div>").addClass("input "+u[0].className),o=t("<div>").addClass("button-group"),s,h,l,e,a;if(u.attr("type")===undefined&&u.attr("type","text"),c.length===0?v.prepend(f):f.insertAfter(c),u.appendTo(f),o.appendTo(f),n.clearButton!==!1){s=t("<button>").addClass("button input-clear-button").addClass(n.clsClearButton).attr("tabindex",-1).attr("type","button").html(n.clearButtonIcon);s.on(i.events.click,function(){u.val("").trigger("change").trigger("keyup").focus()});s.appendTo(o)}if(n.searchButton!==!1){h=t("<button>").addClass("button input-search-button").addClass(n.clsSearchButton).attr("tabindex",-1).attr("type",n.searchButtonClick==="submit"?"submit":"button").html(n.searchButtonIcon);h.on(i.events.click,function(){n.searchButtonClick==="submit"?r.exec(n.onSearchButtonClick,[u.val(),t(this)],u[0]):this.form.submit()});h.appendTo(o)}if(n.prepend!==""&&(l=r.isTag(n.prepend)?t(n.prepend):t("<span>"+n.prepend+"<\/span>"),l.addClass("prepend").addClass(n.clsPrepend).appendTo(f)),typeof n.customButtons=="string"&&(n.customButtons=r.isObject(n.customButtons)),typeof n.customButtons=="object"&&r.objectLength(n.customButtons)>0&&t.each(n.customButtons,function(){var n=this,f=t("<button>").addClass("button input-custom-button").addClass(n.cls).attr("tabindex",-1).attr("type","button").html(n.html);f.on(i.events.click,function(){r.exec(n.onclick,[u.val(),f],u[0])});f.appendTo(o)}),u.attr("dir")==="rtl"&&f.addClass("rtl").attr("dir","rtl"),u[0].className="",n.copyInlineStyles===!0)for(e=0,a=u[0].style.length;e<a;e++)f.css(u[0].style[e],u.css(u[0].style[e]));f.addClass(n.clsElement);u.addClass(n.clsInput);n.size!=="default"&&f.css({width:n.size});u.on(i.events.blur,function(){f.removeClass("focused")});u.on(i.events.focus,function(){f.addClass("focused")});n.disabled===!0||u.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},changeAttribute:function(n){switch(n){case"disabled":this.toggleState()}}};i.plugin("search",dr);gr={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onSelectCreate,[this.element]),this},options:{duration:100,clsElement:"",clsSelect:"",clsPrepend:"",clsOption:"",clsOptionGroup:"",prepend:"",copyInlineStyles:!0,dropHeight:200,disabled:!1,onChange:i.noop,onSelectCreate:i.noop,onUp:i.noop,onDrop:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){this._createSelect();this._createEvents()},_addOption:function(n,i){var e=t(n),r,f,u=this.element,o=this.options,s=u.siblings("input");r=t("<li>").addClass(o.clsOption).data("text",n.text).data("value",n.value?n.value:n.text).appendTo(i);f=t("<a>").html(n.text).appendTo(r).addClass(n.className);e.is(":selected")&&(u.val(n.value),s.val(n.text).trigger("change"),u.trigger("change"),r.addClass("active"));f.appendTo(r);r.appendTo(i)},_addOptionGroup:function(n,i){var r=this,u=t(n);t("<li>").html(n.label).addClass("group-title").appendTo(i);t.each(u.children(),function(){r._addOption(this,i)})},_createSelect:function(){var s=this,n=this.element,u=this.options,h=n.prev(),v=n.parent(),f=t("<div>").addClass("select "+n[0].className).addClass(u.clsElement),y=n.prop("multiple"),o=r.elementId("select"),c,i,l,e,a;if(f.attr("id",o).addClass("dropdown-toggle"),h.length===0?v.prepend(f):f.insertAfter(h),n.appendTo(f),n.addClass(u.clsSelect),y===!1&&(c=t("<input>").attr("type","text").attr("name","__"+o+"__").prop("readonly",!0),i=t("<ul>").addClass("d-menu").css({"max-height":u.dropHeight}),f.append(c),f.append(i),t.each(n.children(),function(){this.tagName==="OPTION"?s._addOption(this,i):this.tagName==="OPTGROUP"&&s._addOptionGroup(this,i)}),i.dropdown({duration:u.duration,toggleElement:"#"+o,onDrop:function(){var e=t(".select ul"),f=i.find("li.active").length>0?t(i.find("li.active")[0]):undefined;t.each(e,function(){var n=t(this);n.is(i)||n.data("dropdown").close()});f!==undefined&&(i.scrollTop(0),setTimeout(function(){i.animate({scrollTop:f.position().top-(i.height()-f.height())/2},100)},200));r.exec(u.onDrop,[i,n],i[0])},onUp:function(){r.exec(u.onUp,[i,n],i[0])}})),u.prepend!==""&&(l=r.isTag(u.prepend)?t(u.prepend):t("<span>"+u.prepend+"<\/span>"),l.addClass("prepend").addClass(u.clsPrepend).appendTo(f)),u.copyInlineStyles===!0)for(e=0,a=n[0].style.length;e<a;e++)f.css(n[0].style[e],n.css(n[0].style[e]));n.attr("dir")==="rtl"&&f.addClass("rtl").attr("dir","rtl");u.disabled===!0||n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var s=this,n=this.element,o=this.options,u=n.closest(".select"),f=n.siblings("input"),e=n.siblings("ul");u.on(i.events.click,function(n){n.preventDefault();n.stopPropagation()});f.on(i.events.blur,function(){u.removeClass("focused")});f.on(i.events.focus,function(){u.addClass("focused")});e.on(i.events.click,"li",function(i){if(t(this).hasClass("group-title")){i.preventDefault();i.stopPropagation();return}var u=t(this),s=u.data("value"),h=u.data("text"),c=e.data("dropdown");e.find("li.active").removeClass("active");u.addClass("active");f.val(h).trigger("change");n.val(s);n.trigger("change");c.close();r.exec(o.onChange,[s],n[0])})},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},val:function(n){var f=this,i=this.element,u=i.siblings("input"),r=i.find("option");if(n===undefined)return i.val();r.removeAttr("selected");t.each(r,function(){var r=t(this);this.value==n&&(r.attr("selected","selected"),u.val(this.text),i.trigger("change"))})},data:function(n){var f=this,i=this.element,u=i.siblings("ul"),e;i.html("");u.html("");typeof n=="string"?i.html(n):r.isObject(n)&&t.each(n,function(n,u){r.isObject(u)?(e=t("<optgroup>").attr("label",n).appendTo(i),t.each(u,function(n,i){t("<option>").attr("value",n).text(i).appendTo(e)})):t("<option>").attr("value",n).text(u).appendTo(i)});t.each(i.children(),function(){this.tagName==="OPTION"?f._addOption(this,u):this.tagName==="OPTGROUP"&&f._addOptionGroup(this,u)})},changeAttribute:function(){},destroy:function(){var n=this.element,t=n.parent(),r=n.siblings("ul");t.off(i.events.click);r.off(i.events.click,"li");i.destroyPlugin(r,"dropdown");n.insertBefore(t);t.remove()}};t(document).on(i.events.click,function(){var n=t(".select ul");t.each(n,function(){t(this).data("dropdown").close()})});i.plugin("select",gr);nu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.slider=null,this.value=0,this.percent=0,this.pixel=0,this.buffer=0,this.keyInterval=!1,this._setOptionsFromDOM(),this._create(),this},options:{min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:i.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:i.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:i.noop,onStop:i.noop,onMove:i.noop,onClick:i.noop,onChangeValue:i.noop,onChangeBuffer:i.noop,onFocus:i.noop,onBlur:i.noop,onSliderCreate:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,t=this.element,n=this.options;this._createSlider();this._createEvents();this.buff(n.buffer);this.val(n.value);r.exec(n.onSliderCreate,[t])},_createSlider:function(){var f=this.element,n=this.options,s=f.prev(),l=f.parent(),u=t("<div>").addClass("slider "+f[0].className).addClass(n.clsSlider),a=t("<div>").addClass("backside").addClass(n.clsBackside),v=t("<div>").addClass("complete").addClass(n.clsComplete),y=t("<div>").addClass("buffer").addClass(n.clsBuffer),h=t("<button>").attr("type","button").addClass("marker").addClass(n.clsMarker),c=t("<div>").addClass("hint").addClass(n.hintPosition+"-side").addClass(n.clsHint),p=r.uniqueId(),e,o;if(u.attr("id",p),n.size>0&&(n.vertical===!0?u.outerHeight(n.size):u.outerWidth(n.size)),n.vertical===!0&&u.addClass("vertical-slider"),s.length===0?l.prepend(u):u.insertAfter(s),n.hintAlways===!0&&c.css({display:"block"}),f.appendTo(u),a.appendTo(u),v.appendTo(u),y.appendTo(u),h.appendTo(u),c.appendTo(h),n.showMinMax===!0&&(o=t("<div>").addClass("slider-min-max clear").addClass(n.clsMinMax),t("<span>").addClass("place-left").addClass(n.clsMin).html(n.min).appendTo(o),t("<span>").addClass("place-right").addClass(n.clsMax).html(n.max).appendTo(o),n.minMaxPosition===i.position.TOP?o.insertBefore(u):o.insertAfter(u)),f[0].className="",n.copyInlineStyles===!0)for(e=0;e<f[0].style.length;e++)u.css(f[0].style[e],f.css(f[0].style[e]));this.slider=u},_createEvents:function(){var n=this,f=this.slider,u=this.options,e=f.find(".marker"),o=f.find(".hint");e.on(i.events.start,function(){t(document).on(i.events.move,function(t){u.hint===!0&&u.hintAlways!==!0&&o.fadeIn();n._move(t);r.exec(u.onMove,[n.value,n.percent,f])});t(document).on(i.events.stop,function(){t(document).off(i.events.move);t(document).off(i.events.stop);u.hintAlways!==!0&&o.fadeOut();r.exec(u.onStop,[n.value,n.percent,f])});r.exec(u.onStart,[n.value,n.percent,f])});e.on(i.events.focus,function(){r.exec(u.onFocus,[n.value,n.percent,f])});e.on(i.events.blur,function(){r.exec(u.onBlur,[n.value,n.percent,f])});e.on(i.events.keydown,function(t){var r=t.keyCode?t.keyCode:t.which,i;[37,38,39,40].indexOf(r)!==-1&&((i=u.accuracy===0?1:u.accuracy,n.keyInterval)||(n.keyInterval=setInterval(function(){var r=n.value;(t.keyCode===37||t.keyCode===40)&&(r-i<u.min?r=u.min:r-=i);(t.keyCode===38||t.keyCode===39)&&(r+i>u.max?r=u.max:r+=i);n.value=n._correct(r);n.percent=n._convert(n.value,"val2prc");n.pixel=n._convert(n.percent,"prc2pix");n._redraw()},100),t.preventDefault()))});e.on(i.events.keyup,function(){clearInterval(n.keyInterval);n.keyInterval=!1});f.on(i.events.click,function(t){n._move(t);r.exec(u.onClick,[n.value,n.percent,f]);r.exec(u.onStop,[n.value,n.percent,f])});t(window).resize(function(){n.val(n.value);n.buff(n.buffer)})},_convert:function(n,t){var r=this.slider,i=this.options,u=(i.vertical===!0?r.outerHeight():r.outerWidth())-r.find(".marker").outerWidth();switch(t){case"pix2prc":return Math.round(n*100/u);case"pix2val":return Math.round(this._convert(n,"pix2prc")*((i.max-i.min)/100)+i.min);case"val2prc":return Math.round((n-i.min)/((i.max-i.min)/100));case"prc2pix":return Math.round(n/(100/u));case"val2pix":return Math.round(this._convert(this._convert(n,"val2prc"),"prc2pix"))}},_correct:function(n){var t=this.options.accuracy,i=this.options.min,r=this.options.max;return t===0||isNaN(t)?n:(n=Math.floor(n/t)*t+Math.round(n%t/t)*t,n<i&&(n=i),n>r&&(n=r),n)},_move:function(n){var t=this.slider,u=this.options,o=t.offset(),f=t.find(".marker").outerWidth(),s=u.vertical===!0?t.outerHeight():t.outerWidth(),e,i,h=s-f;(e=u.vertical===!0?r.pageXY(n).y-o.top:r.pageXY(n).x-o.left,i=u.vertical===!0?s-e-f/2:e-f/2,i<0||i>h)||(this.value=this._correct(this._convert(i,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){var t=this.options,i=this.slider,r=i.find(".hint"),n;n=t.hintMask.replace("$1",this.value).replace("$2",this.percent);r.text(n)},_value:function(){var u=this.element,n=this.options,e=this.slider,i=n.returnType==="value"?this.value:this.percent,f;u[0].tagName==="INPUT"&&u.val(i);u.trigger("change");n.target!==null&&(f=t(n.target),f.length!==0&&t.each(f,function(){var n=t(this);this.tagName==="INPUT"?n.val(i):n.text(i)}));r.exec(n.onChangeValue,[i,this.percent,e])},_marker:function(){var n=this.slider,t=this.options,i=n.find(".marker"),r=n.find(".complete"),u=t.vertical===!0?n.outerHeight():n.outerWidth();t.vertical===!0?(i.css("top",u-this.pixel),r.css("height",this.percent+"%")):(i.css("left",this.pixel),r.css("width",this.percent+"%"))},_redraw:function(){this._marker();this._value();this._hint()},_buffer:function(){var n=this.options,t=this.slider.find(".buffer");n.vertical===!0?t.css("height",this.buffer+"%"):t.css("width",this.buffer+"%");r.exec(n.onChangeBuffer,[this.buffer,this.slider])},val:function(n){var t=this.options;if(n===undefined||isNaN(n))return this.value;n<t.min&&(n=t.min);n>t.max&&(n=t.max);this.value=this._correct(n);this.percent=this._convert(this.value,"val2prc");this.pixel=this._convert(this.percent,"prc2pix");this._redraw()},buff:function(n){var t=this.slider,i=t.find(".buffer");if(n===undefined||isNaN(n))return this.buffer;if(i.length===0)return!1;n=parseInt(n);n>100&&(n=100);n<0&&(n=0);this.buffer=n;this._buffer()},changeValue:function(){var i=this.element,t=this.options,n=i.attr("data-value");n<t.min&&(n=t.min);n>t.max&&(n=t.max);this.val(n)},changeBuffer:function(){var t=this.element,n=parseInt(t.attr("data-buffer"));n<0&&(n=0);n>100&&(n=100);this.buff(n)},changeAttribute:function(n){switch(n){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer()}}};i.plugin("slider",nu);tu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.current=0,this._setOptionsFromDOM(),this._create(),this},options:{view:i.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:i.noop,onStepClick:i.noop,onStepperCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,t=this.element,n=this.options;n.step<=0&&(n.step=1);this._createStepper();this._createEvents();r.exec(n.onStepperCreate,[t])},_createStepper:function(){var f=this,r=this.element,n=this.options,i,u;for(r.addClass("stepper").addClass(n.view).addClass(n.clsStepper),i=1;i<=n.steps;i++)u=t("<span>").addClass("step").addClass(n.clsStep).data("step",i).html("<span>"+i+"<\/span>").appendTo(r);this.current=1;this.toStep(n.step)},_createEvents:function(){var f=this,n=this.element,u=this.options;n.on(i.events.click,".step",function(){var i=t(this).data("step");u.stepClick===!0&&(f.toStep(i),r.exec(u.onStepClick,[i,n]))})},next:function(){var i=this,n=this.element,r=this.options,t=n.find(".step");this.current+1>t.length||(this.current++,this.toStep(this.current))},prev:function(){var n=this,t=this.element,i=this.options;this.current-1!=0&&(this.current--,this.toStep(this.current))},last:function(){var t=this,n=this.element,i=this.options;this.toStep(n.find(".step").length)},first:function(){this.toStep(1)},toStep:function(n){var e=this,u=this.element,i=this.options,f=t(u.find(".step").get(n-1));f.length!==0&&(this.current=n,u.find(".step").removeClass("complete current").removeClass(i.clsCurrent).removeClass(i.clsComplete),f.addClass("current").addClass(i.clsCurrent),f.prevAll().addClass("complete").addClass(i.clsComplete),r.exec(i.onStep,[this.current,u]))},changeAttribute:function(){}};i.plugin("stepper",tu);iu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.data=null,this._setOptionsFromDOM(),this._create(),this},options:{duration:METRO_ANIMATION_DURATION,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onStreamClick:i.noop,onStreamSelect:i.noop,onEventClick:i.noop,onEventSelect:i.noop,onStreamerCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var u=this,n=this.element,i=this.options;if(n.addClass("streamer"),n.attr("id")===undefined&&n.attr("id",r.elementId("streamer")),i.source===null&&i.data===null)return!1;t("<div>").addClass("streams").appendTo(n);t("<div>").addClass("events-area").appendTo(n);i.source!==null?t.get(i.source,function(n){u.data=n;u.build()}):(this.data=i.data,this.build());this._createEvents();i.chromeNotice===!0&&r.detectChrome()===!0&&r.isTouchDevice()===!1&&t("<p>").addClass("text-small text-muted").html("*) In Chrome browser please press and hold Shift and turn the mouse wheel.").insertAfter(n)},build:function(){var it=this,e=this.element,u=this.options,n=this.data,l=e.find(".streams").html(""),p=e.find(".events-area").html(""),o=t("<ul>").addClass("streamer-timeline").html("").appendTo(p),w=t("<div>").addClass("streamer-events").appendTo(p),rt=t("<div>").addClass("event-group").appendTo(w),f=r.getURIParameter(null,"StreamerIDS"),b,k,d,c;f!==null&&u.encodeLink===!0&&(f=atob(f));b=f?f.split("|")[0]:null;k=f?f.split("|")[1].split(","):[];n.actions!==undefined&&(d=t("<div>").addClass("streamer-actions").appendTo(l),t.each(n.actions,function(){var n=this,u=t("<button>").addClass("streamer-action").addClass(n.cls).html(n.html);if(n.onclick!==undefined)u.on(i.events.click,function(){r.exec(n.onclick,[e])});u.appendTo(d)}));o.html("");n.timeline===undefined&&(n.timeline={start:"09:00",stop:"18:00",step:20});var s=new Date,h=new Date,g=n.timeline.start?n.timeline.start.split(":"):[9,0],nt=n.timeline.stop?n.timeline.stop.split(":"):[18,0],ut=n.timeline.step?parseInt(n.timeline.step)*60:1200;for(s.setHours(g[0]),s.setMinutes(g[1]),s.setSeconds(0),h.setHours(nt[0]),h.setMinutes(nt[1]),h.setSeconds(0),c=s.getTime()/1e3;c<=h.getTime()/1e3;c+=ut)var tt=new Date(c*1e3),a=tt.getHours(),v=tt.getMinutes(),y=(a<10?"0"+a:a)+":"+(v<10?"0"+v:v),ft=t("<li>").data("time",y).addClass("js-time-point-"+y.replace(":","-")).html("<em>"+y+"<\/em>").appendTo(o);n.streams!==undefined&&t.each(n.streams,function(n){var i=this,f=t("<div>").addClass("stream").addClass(this.cls).appendTo(l),s;f.addClass(i.cls).data("one",!1).data("data",i.data);t("<div>").addClass("stream-title").html(i.title).appendTo(f);t("<div>").addClass("stream-secondary").html(i.secondary).appendTo(f);t(i.icon).addClass("stream-icon").appendTo(f);var c=r.computedRgbToHex(r.getStyleOne(f,"background-color")),a=r.computedRgbToHex(r.getStyleOne(f,"color")),h=t("<div>").addClass("stream-events").data("background-color",c).data("text-color",a).appendTo(rt);i.events!==undefined&&(t.each(i.events,function(i){var s=this,v,d=n+":"+i,g=s.custom!==undefined?s.custom:"",nt=s.custom_open!==undefined?s.custom_open:"",tt=s.custom_close!==undefined?s.custom_close:"",l=t("<div>").data("origin",s).data("sid",d).data("data",s.data).data("time",s.time).data("target",s.target).addClass("stream-event").addClass("size-"+s.size+"x").addClass(s.cls).appendTo(h),it=o.find(".js-time-point-"+this.time.replace(":","-"))[0].offsetLeft-f.outerWidth();l.css({position:"absolute",left:it});var y=t("<div>").addClass("stream-event-slide").appendTo(l),p=t("<div>").addClass("slide-logo").appendTo(y),w=t("<div>").addClass("slide-data").appendTo(y);s.icon!==undefined&&(r.isTag(s.icon)?t(s.icon).addClass("icon").appendTo(p):t("<img>").addClass("icon").attr("src",s.icon).appendTo(p));t("<span>").addClass("time").css({backgroundColor:c,color:a}).html(s.time).appendTo(p);t("<div>").addClass("title").html(s.title).appendTo(w);t("<div>").addClass("subtitle").html(s.subtitle).appendTo(w);t("<div>").addClass("desc").html(s.desc).appendTo(w);(u.closed===!1&&e.attr("id")===b&&k.indexOf(d)!==-1||s.selected===!0||parseInt(s.selected)===1)&&l.addClass("selected");u.closed===!0||s.closed===!0||parseInt(s.closed)===1?(v=s.closedIcon!==undefined?r.isTag(s.closedIcon)?s.closedIcon:"<span>"+s.closedIcon+"<\/span>":r.isTag(u.defaultClosedIcon)?u.defaultClosedIcon:"<span>"+u.defaultClosedIcon+"<\/span>",t(v).addClass("state-icon").addClass(s.clsClosedIcon).appendTo(y),l.data("closed",!0).data("target",s.target),l.append(nt)):(v=s.openIcon!==undefined?r.isTag(s.openIcon)?s.openIcon:"<span>"+s.openIcon+"<\/span>":r.isTag(u.defaultOpenIcon)?u.defaultOpenIcon:"<span>"+u.defaultOpenIcon+"<\/span>",t(v).addClass("state-icon").addClass(s.clsOpenIcon).appendTo(y),l.data("closed",!1),l.append(tt));l.append(g)}),s=h.find(".stream-event:last-child"),s.length>0&&h.outerWidth(s[0].offsetLeft+s.outerWidth()))});n.global!==undefined&&t.each(["before","after"],function(){var i=this;n.global[i]!==undefined&&t.each(n.global[i],function(){var n=this,u=t("<div>").addClass("event-group").addClass("size-"+n.size+"x"),e=t("<div>").addClass("stream-events global-stream").appendTo(u),i=t("<div>").addClass("stream-event").appendTo(e),f,r;i.addClass("global-event").addClass(n.cls).data("time",n.time).data("origin",n).data("data",n.data);t("<div>").addClass("event-title").html(n.title).appendTo(i);t("<div>").addClass("event-subtitle").html(n.subtitle).appendTo(i);t("<div>").addClass("event-html").html(n.html).appendTo(i);r=o.find(".js-time-point-"+this.time.replace(":","-"));r.length>0&&(f=r[0].offsetLeft-l.find(".stream").outerWidth());u.css({position:"absolute",left:f,height:"100%"}).appendTo(w)})});e.data("stream",-1);u.startFrom!==null&&u.slideToStart===!0&&setTimeout(function(){it.slideTo(u.startFrom)},u.startSlideSleep);r.exec(u.onStreamerCreate,[e])},_createEvents:function(){var f=this,u=this.element,n=this.options;u.on(i.events.click,".stream-event",function(i){var u=t(this),e;n.excludeClass!==""&&u.hasClass(n.excludeClass)||n.excludeElement!==null&&t(i.target).is(n.excludeElement)||(n.closed===!1&&u.data("closed")!==!0&&n.eventClick==="select"?n.excludeSelectClass!==""&&u.hasClass(n.excludeSelectClass)||n.excludeSelectElement!==null&&t(i.target).is(n.excludeSelectElement)||(u.hasClass("global-event")?n.selectGlobal===!0&&u.toggleClass("selected"):u.toggleClass("selected"),n.changeUri===!0&&f._changeURI(),r.exec(n.onEventSelect,[u,u.hasClass("selected")])):n.excludeClickClass!==""&&u.hasClass(n.excludeClickClass)||n.excludeClickElement!==null&&t(i.target).is(n.excludeClickElement)||(r.exec(n.onEventClick,[u]),(n.closed===!0||u.data("closed")===!0)&&(e=u.data("target"),e&&(window.location.href=e))))});u.on(i.events.click,".stream",function(){var i=t(this),e=i.index();n.streamSelect!==!1&&(u.data("stream")===e?(u.find(".stream-event").removeClass("disabled"),u.data("stream",-1)):(u.data("stream",e),u.find(".stream-event").addClass("disabled"),f.enableStream(i),r.exec(n.onStreamSelect,[i])),r.exec(n.onStreamClick,[i]))});if(r.isTouchDevice()!==!0)u.on(i.events.mousewheel,".events-area",function(n){var i=t(this),r;n.deltaY!==undefined&&n.deltaFactor!==undefined&&n.deltaFactor>1&&(r=i.scrollLeft()-n.deltaY*30,i.scrollLeft(r),n.preventDefault())});if(r.isTouchDevice()===!0)u.on(i.events.click,".stream",function(){var n=t(this);n.toggleClass("focused");t.each(u.find(".stream"),function(){t(this).is(n)||t(this).removeClass("focused")})})},_changeURI:function(){var t=this,i=this.element,r=this.options,u=this.data,n=this.getLink();history.pushState({},document.title,n)},slideTo:function(n){var f=this,i=this.element,u=this.options,e=this.data,r;r=n===undefined?t(i.find(".streamer-timeline li")[0]):t(i.find(".streamer-timeline .js-time-point-"+n.replace(":","-"))[0]);i.find(".events-area").animate({scrollLeft:r[0].offsetLeft-i.find(".streams .stream").outerWidth()},u.duration)},enableStream:function(n){var r=this,t=this.element,u=this.options,f=this.data,i=n.index();n.removeClass("disabled").data("streamDisabled",!1);t.find(".stream-events").eq(i).find(".stream-event").removeClass("disabled")},disableStream:function(n){var r=this,t=this.element,u=this.options,f=this.data,i=n.index();n.addClass("disabled").data("streamDisabled",!0);t.find(".stream-events").eq(i).find(".stream-event").addClass("disabled")},toggleStream:function(n){n.data("streamDisabled")===!0?this.enableStream(n):this.disableStream(n)},getLink:function(){var s=this,i=this.element,f=this.options,h=this.data,e=i.find(".stream-event"),u=[],n,o=window.location.href;return t.each(e,function(){var n=t(this);n.data("sid")!==undefined&&n.hasClass("selected")&&u.push(n.data("sid"))}),n=i.attr("id")+"|"+u.join(","),f.encodeLink===!0&&(n=btoa(n)),r.updateURIParameter(o,"StreamerIDS",n)},getTimes:function(){var u=this,i=this.element,f=this.options,e=this.data,r=i.find(".streamer-timeline > li"),n=[];return t.each(r,function(){n.push(t(this).data("time"))}),n},getEvents:function(n,i){var e=this,u=this.element,o=this.options,s=this.data,r,f=[];switch(n){case"selected":r=u.find(".stream-event.selected");break;case"non-selected":r=u.find(".stream-event:not(.selected)");break;default:r=u.find(".stream-event")}return t.each(r,function(){var n=t(this),r;i!==!0&&n.parent().hasClass("global-stream")||(r=n.data("origin"),f.push(r))}),f},source:function(n){if(n===undefined)return this.options.source;this.options.source=n;this.changeSource()},data:function(n){if(n===undefined)return this.options.source;this.options.data=n;this.changeData()},getStreamerData:function(){return this.data},toggleEvent:function(n){var r=this,u=this.element,i=this.options,f=this.data;(n=t(n),n.hasClass("global-event")&&i.selectGlobal!==!0)||(n.hasClass("selected")?this.selectEvent(n,!1):this.selectEvent(n,!0))},selectEvent:function(n,i){var f=this,e=this.element,u=this.options,o=this.data;(i===undefined&&(i=!0),n=t(n),n.hasClass("global-event")&&u.selectGlobal!==!0)||(i===!0?n.addClass("selected"):n.removeClass("selected"),u.changeUri===!0&&f._changeURI(),r.exec(u.onEventSelect,[n,i]))},changeSource:function(){var n=this,i=this.element,r=this.options,f=this.data,u=i.attr("data-source");String(u).trim()!==""&&(r.source=u,t.get(r.source,function(t){n.data=t;n.build()}),i.trigger("sourcechanged"))},changeData:function(){var r=this,t=this.element,i=this.options,u=this.data,n=t.attr("data-data");String(n).trim()!==""&&(i.data=n,this.data=n,this.build(),t.trigger("datachanged"))},changeStreamSelectOption:function(){var i=this,n=this.element,t=this.options,r=this.data;t.streamSelect=n.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(n){switch(n){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption()}}};i.plugin("streamer",iu);ru={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onSwitchCreate,[this.element]),this},options:{caption:"",captionPosition:"right",disabled:!1,clsElement:"",clsCheck:"",clsCaption:"",onSwitchCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var s=this,n=this.element,r=this.options,u=n.prev(),o=n.parent(),i=t("<label>").addClass("switch "+n[0].className),f=t("<span>").addClass("check"),e=t("<span>").addClass("caption").html(r.caption);n.attr("type","checkbox");u.length===0?o.prepend(i):i.insertAfter(u);n.appendTo(i);f.appendTo(i);e.appendTo(i);r.captionPosition==="left"&&i.addClass("caption-left");n[0].className="";i.addClass(r.clsElement);e.addClass(r.clsCaption);f.addClass(r.clsCheck);r.disabled===!0&&n.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},changeAttribute:function(n){switch(n){case"disabled":this.toggleState()}}};i.plugin("switch",ru);uu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._targets=[],this._setOptionsFromDOM(),this._create(),r.exec(this.options.onTabsCreate,[this.element],this.elem),this},options:{onTab:i.noop,onBeforeTab:i.noop_true,onTabsCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var r=this,n=this.element,u=this.options,i=n.find(".active").length>0?t(n.find(".active")[0]):undefined;this._createStructure();this._createEvents();this._open(i)},_createStructure:function(){var c=this,i=this.element,l=this.options,e=i.prev(),h=i.parent(),n=t("<div>").addClass("tabs tabs-wrapper "+i[0].className),o,u,f;if(i[0].className="",e.length===0?h.prepend(n):n.insertAfter(e),i.appendTo(n),i.data("expanded",!1),o=t("<div>").addClass("expand-title"),n.prepend(o),u=n.find(".hamburger"),u.length===0){for(u=t("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(n),f=0;f<3;f++)t("<span>").addClass("line").appendTo(u);s.isLight(r.computedRgbToHex(r.getStyleOne(n,"background-color")))===!0&&u.addClass("dark")}},_createEvents:function(){var f=this,n=this.element,e=this.options,u=n.parent();u.on(i.events.click,".hamburger, .expand-title",function(){n.data("expanded")===!1?(n.addClass("expand"),n.data("expanded",!0),u.find(".hamburger").addClass("active")):(n.removeClass("expand"),n.data("expanded",!1),u.find(".hamburger").removeClass("active"))});n.on(i.events.click,"a",function(i){var s=t(this),o=s.parent("li");n.data("expanded")===!0&&(n.removeClass("expand"),n.data("expanded",!1),u.find(".hamburger").removeClass("active"));r.exec(e.onBeforeTab,[o,n],o[0])===!0&&f._open(o);i.preventDefault()})},_collectTargets:function(){var n=this,i=this.element,r=i.find("li");t.each(r,function(){var i=t(this).find("a").attr("href");i&&i!=="#"&&n._targets.push(i)})},_open:function(n){var s=this,u=this.element,e=this.options,f=u.find("li"),o=u.siblings(".expand-title"),i;f.length!==0&&(this._collectTargets(),n===undefined&&(n=t(f[0])),i=n.find("a").attr("href"),i!==undefined)&&(f.removeClass("active"),n.parent().hasClass("d-menu")?n.parent().parent().addClass("active"):n.addClass("active"),t.each(this._targets,function(){t(this).hide()}),i!=="#"&&t(i).show(),o.html(n.find("a").html()),r.exec(e.onTab,[n,u]))},changeAttribute:function(){}};i.plugin("tabs",uu);fu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),r.exec(this.options.onTextareaCreate,[this.element]),this},options:{prepend:"",copyInlineStyles:!0,clearButton:!0,clearButtonIcon:"<span class='default-icon-cross'><\/span>",autoSize:!1,disabled:!1,onTextareaCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var y=this,n=this.element,u=this.options,h=n.prev(),v=n.parent(),f=t("<div>").addClass("textarea "+n[0].className),s,c=null,e,l,o,a;if(h.length===0?v.prepend(f):f.insertAfter(h),u.clearButton!==!1){s=t("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(u.clearButtonIcon);s.on(i.events.click,function(){n.val("").trigger("change").trigger("keyup").focus()});s.appendTo(f)}if(n.appendTo(f),e=function(){n[0].style.cssText="height:auto;";n[0].style.cssText="height:"+n[0].scrollHeight+"px"},u.autoSize){f.addClass("autosize");c=setTimeout(function(){c=null;e()},0);n.on(i.events.keyup,e);n.on(i.events.keydown,e);n.on(i.events.change,e);n.on(i.events.focus,e);n.on(i.events.cut,e);n.on(i.events.paste,e);n.on(i.events.drop,e)}if(n.attr("dir")==="rtl"&&f.addClass("rtl").attr("dir","rtl"),u.prepend!==""&&(l=r.isTag(u.prepend)?t(u.prepend):t("<span>"+u.prepend+"<\/span>"),l.addClass("prepend").addClass(u.clsPrepend).appendTo(f)),n[0].className="",u.copyInlineStyles===!0)for(o=0,a=n[0].style.length;o<a;o++)f.css(n[0].style[o],n.css(n[0].style[o]));n.on(i.events.blur,function(){f.removeClass("focused")});n.on(i.events.focus,function(){f.addClass("focused")});u.disabled===!0||n.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0);this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1);this.element.parent().removeClass("disabled")},toggleState:function(){this.element.data("disabled")===!1?this.disable():this.enable()},changeAttribute:function(n){switch(n){case"disabled":this.toggleState()}}};i.plugin("textarea",fu);eu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.effectInterval=!1,this.images=[],this.slides=[],this.currentSlide=-1,this.unload=!1,this._setOptionsFromDOM(),this._create(),this},options:{size:"medium",cover:"",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onClick:i.noop,onTileCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createTile();this._createEvents();r.exec(t.onTileCreate,[n])},_createTile:function(){function e(n,t){setTimeout(function(){n.fadeOut(500,function(){n.css("background-image","url("+t+")");n.fadeIn()})},r.random(0,1e3))}var u=this,n=this.element,i=this.options,f=n.find(".slide"),o=n.find(".slide-front, .slide-back");n.addClass("tile-"+i.size);i.effect.indexOf("hover-")>-1&&(n.addClass("effect-"+i.effect),t.each(o,function(){var n=t(this);n.data("cover")!==undefined&&u._setCover(n,n.data("cover"))}));i.effect.indexOf("animate-")>-1&&f.length>1&&(t.each(f,function(n){var r=t(this);u.slides.push(this);r.data("cover")!==undefined&&u._setCover(r,r.data("cover"));n>0&&(["animate-slide-up","animate-slide-down"].indexOf(i.effect)>-1&&r.css("top","100%"),["animate-slide-left","animate-slide-right"].indexOf(i.effect)>-1&&r.css("left","100%"),["animate-fade"].indexOf(i.effect)>-1&&r.css("opacity",0))}),this.currentSlide=0,this._runEffects());i.cover!==""&&this._setCover(n,i.cover);i.effect==="image-set"&&(n.addClass("image-set"),t.each(n.children("img"),function(){var i=t(this),f=this.src,r=t("<div>").addClass("img");i.hasClass("icon")||(u.images.push(this),r.css("background-image","url("+f+")"),n.prepend(r),i.remove())}),setInterval(function(){for(var o,s,i=u.images.slice(),f=0;f<n.find(".img").length;f++)o=r.random(0,i.length-1),s=t(n.find(".img").get(f)),e(s,i[o].src),i.splice(o,1)},3e3))},_runEffects:function(){var i=this,n=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(function(){var r,u;r=t(i.slides[i.currentSlide]);i.currentSlide++;i.currentSlide===i.slides.length&&(i.currentSlide=0);u=i.slides[i.currentSlide];n.effect==="animate-slide-up"&&h.slideUp(t(r),t(u),n.effectDuration);n.effect==="animate-slide-down"&&h.slideDown(t(r),t(u),n.effectDuration);n.effect==="animate-slide-left"&&h.slideLeft(t(r),t(u),n.effectDuration);n.effect==="animate-slide-right"&&h.slideRight(t(r),t(u),n.effectDuration);n.effect==="animate-fade"&&h.fade(t(r),t(u),n.effectDuration)},n.effectInterval))},_stopEffects:function(){clearInterval(this.effectInterval);this.effectInterval=!1},_setCover:function(n,t){n.css({backgroundImage:"url("+t+")",backgroundSize:"cover",backgroundRepeat:"no-repeat"})},_createEvents:function(){var f=this,n=this.element,u=this.options;n.on(i.events.start,function(i){var o=t(this),f={w:n.width(),h:n.height()},s=r.pageXY(i).x-o.offset().left,e=r.pageXY(i).y-o.offset().top,h;r.isRightMouse(i)===!1&&(h=s<f.w/3&&(e<f.h/2||e>f.h/2)?"left":s>f.w*2/3&&(e<f.h/2||e>f.h/2)?"right":s>f.w/3&&s<f.w*2/3&&e>f.h/2?"bottom":"top",u.canTransform===!0&&o.addClass("transform-"+h),u.target!==null&&setTimeout(function(){document.location.href=u.target},100),r.exec(u.onClick,[o]))});n.on([i.events.stop,i.events.leave].join(" "),function(){t(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")});t(window).on(i.events.blur,function(){f._stopEffects()});t(window).on(i.events.focus,function(){f._runEffects()})},changeAttribute:function(){}};i.plugin("tile",eu);ou={init:function(n,r){return this.options=t.extend({},this.options,n),this.elem=r,this.element=t(r),this.picker=null,this.isOpen=!1,this.value=[],this.locale=i.locales[METRO_LOCALE].calendar,this._setOptionsFromDOM(),this._create(),this},options:{value:null,locale:METRO_LOCALE,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:5,copyInlineStyles:!0,clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",okButtonIcon:"<span class='default-icon-check'><\/span>",cancelButtonIcon:"<span class='default-icon-cross'><\/span>",onSet:i.noop,onOpen:i.noop,onClose:i.noop,onScroll:i.noop,onTimePickerCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var e=this,u=this.element,n=this.options,f=this.picker,t;for(n.distance<1&&(n.distance=1),u.val()===""&&(n.value===null||String(n.value).trim()==="")&&(n.value=(new Date).format("%H:%M:%S")),this.value=r.strToArray(u.val()!==""?u.val():String(n.value),":"),t=0;t<3;t++)this.value[t]=this.value[t]===undefined||this.value[t]===null?0:parseInt(this.value[t]);i.locales[n.locale]===undefined&&(n.locale=METRO_LOCALE);this.locale=i.locales[n.locale].calendar;this._createStructure();this._createEvents();this._set();r.exec(n.onTimePickerCreate,[u,f])},_createStructure:function(){var w=this,u=this.element,i=this.options,f,e,o,s,n,c,l,h,a,v=u.prev(),y=u.parent(),p=r.elementId("time-picker");if(f=t("<div>").attr("id",p).addClass("wheel-picker time-picker "+u[0].className).addClass(i.clsPicker),v.length===0?y.prepend(f):f.insertAfter(v),u.attr("readonly",!0).appendTo(f),c=t("<div>").addClass("time-wrapper").appendTo(f),i.hours===!0&&(e=t("<div>").attr("data-title",this.locale.time.hours).addClass("hours").addClass(i.clsPart).addClass(i.clsHours).appendTo(c)),i.minutes===!0&&(o=t("<div>").attr("data-title",this.locale.time.minutes).addClass("minutes").addClass(i.clsPart).addClass(i.clsMinutes).appendTo(c)),i.seconds===!0&&(s=t("<div>").attr("data-title",this.locale.time.seconds).addClass("seconds").addClass(i.clsPart).addClass(i.clsSeconds).appendTo(c)),l=t("<div>").addClass("select-wrapper").appendTo(f),h=t("<div>").addClass("select-block").appendTo(l),i.hours===!0){for(e=t("<ul>").addClass("sel-hours").appendTo(h),n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(e);for(n=0;n<24;n++)t("<li>").addClass("js-hours-"+n).html(n<10?"0"+n:n).data("value",n).appendTo(e);for(n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(e)}if(i.minutes===!0){for(o=t("<ul>").addClass("sel-minutes").appendTo(h),n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(o);for(n=0;n<60;n++)t("<li>").addClass("js-minutes-"+n).html(n<10?"0"+n:n).data("value",n).appendTo(o);for(n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(o)}if(i.seconds===!0){for(s=t("<ul>").addClass("sel-seconds").appendTo(h),n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s);for(n=0;n<60;n++)t("<li>").addClass("js-seconds-"+n).html(n<10?"0"+n:n).data("value",n).appendTo(s);for(n=0;n<i.distance;n++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s)}if(h.height((i.distance*2+1)*40),a=t("<div>").addClass("action-block").appendTo(l),t("<button>").attr("type","button").addClass("button action-ok").html(i.okButtonIcon).appendTo(a),t("<button>").attr("type","button").addClass("button action-cancel").html(i.cancelButtonIcon).appendTo(a),u[0].className="",i.copyInlineStyles===!0)for(n=0;n<u[0].style.length;n++)f.css(u[0].style[n],u.css(u[0].style[n]));i.showLabels===!0&&f.addClass("show-labels");this.picker=f},_createEvents:function(){var u=this,e=this.element,f=this.options,n=this.picker;n.on(i.events.start,".select-block ul",function(n){if(!n.changedTouches){var e=this,u=r.pageXY(n).y;t(document).on(i.events.move+"-picker",function(n){e.scrollTop-=f.scrollSpeed*(u>r.pageXY(n).y?-1:1);u=r.pageXY(n).y});t(document).on(i.events.stop+"-picker",function(){t(document).off(i.events.move+"-picker");t(document).off(i.events.stop+"-picker")})}});n.on(i.events.click,function(n){u.isOpen===!1&&u.open();n.stopPropagation()});n.on(i.events.click,".action-ok",function(t){var i,r,f,e=n.find(".sel-hours li.active"),o=n.find(".sel-minutes li.active"),s=n.find(".sel-seconds li.active");i=e.length===0?0:e.data("value");r=o.length===0?0:o.data("value");f=s.length===0?0:s.data("value");u.value=[i,r,f];u._set();u.close();t.stopPropagation()});n.on(i.events.click,".action-cancel",function(n){u.close();n.stopPropagation()});this._addScrollEvents()},_addScrollEvents:function(){var n=this.picker,u=this.options;t.each(["hours","minutes","seconds"],function(){var f=this,t=n.find(".sel-"+f);if(t.length!==0){t.on(i.events.scrollStart,function(){t.find(".active").removeClass("active")});t.on(i.events.scrollStop,{latency:50},function(){var e=Math.round(Math.ceil(t.scrollTop()+40)/40)-1,i=t.find(".js-"+f+"-"+e),o=i.position().top-u.distance*40+t.scrollTop();t.animate({scrollTop:o},100,function(){i.addClass("active");r.exec(u.onScroll,[i,t,n])})})}})},_removeScrollEvents:function(){var n=this.picker;t.each(["hours","minutes","seconds"],function(){n.find(".sel-"+this).off("scrollstart scrollstop")})},_set:function(){var o=this,e=this.element,u=this.options,f=this.picker,n="00",t="00",i="00";u.hours===!0&&(n=this.value[0],n<10&&(n="0"+n),f.find(".hours").html(n));u.minutes===!0&&(t=this.value[1],t<10&&(t="0"+t),f.find(".minutes").html(t));u.seconds===!0&&(i=this.value[2],i<10&&(i="0"+i),f.find(".seconds").html(i));e.val([n,t,i].join(":")).trigger("change");r.exec(u.onSet,[this.value,e.val(),e,f])},open:function(){var c=this,h=this.element,t=this.options,n=this.picker,e,o,s,i,u,f;n.find(".select-wrapper").show();n.find("li").removeClass("active");t.hours===!0&&(e=this.value[0],i=n.find(".sel-hours"),i.scrollTop(0).animate({scrollTop:i.find("li").eq(e).addClass("active").position().top},100));t.minutes===!0&&(o=this.value[1],u=n.find(".sel-minutes"),u.scrollTop(0).animate({scrollTop:u.find("li").eq(o).addClass("active").position().top},100));t.seconds===!0&&(s=this.value[2],f=n.find(".sel-seconds"),f.scrollTop(0).animate({scrollTop:f.find("li").eq(s).addClass("active").position().top},100));this.isOpen=!0;r.exec(t.onOpen,[this.value,h,n])},close:function(){var n=this.picker,t=this.options,i=this.element;n.find(".select-wrapper").hide();this.isOpen=!1;r.exec(t.onClose,[this.value,i,n])},_convert:function(n){return Array.isArray(n)?n:typeof n.getMonth=="function"?[n.getHours(),n.getMinutes(),n.getSeconds()]:r.isObject(n)?[n.h,n.m,n.s]:r.strToArray(n,":")},val:function(n){if(n===undefined)return element.val();this.value=this._convert(n);this._set()},time:function(n){if(n===undefined)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(n);this._set()},date:function(n){if(n===undefined||typeof n.getMonth!="function"){var t=new Date;return t.setHours(this.value[0]),t.setMinutes(this.value[1]),t.setSeconds(this.value[2]),t.setMilliseconds(0),t}this.value=this._convert(n);this._set()},changeValueAttribute:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(n){switch(n){case"data-value":this.changeValueAttribute()}}};i.plugin("timepicker",ou);t(document).on(i.events.click,function(){t.each(t(".time-picker"),function(){t(this).find("input").data("timepicker").close()})});return su={create:function(n,i,u,f){var e=t("<div>").addClass("toast").html(n).appendTo(t("body")).hide(),s=e.outerWidth(),o=null;u=u||METRO_TIMEOUT;e.css({left:"50%","margin-left":-(s/2)}).addClass(f).fadeIn(METRO_ANIMATION_DURATION);o=setTimeout(function(){o=null;e.fadeOut(METRO_ANIMATION_DURATION,function(){e.remove();r.callback(i)})},u)}},i.toast=su,hu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),this},options:{effect:"slide",duration:100,onNodeClick:i.noop,onNodeDblClick:i.noop,onNodeDelete:i.noop,onNodeInsert:i.noop,onNodeClean:i.noop,onCheckClick:i.noop,onRadioClick:i.noop,onExpandNode:i.noop,onCollapseNode:i.noop,onTreeviewCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createTree();this._createEvents();r.exec(t.onTreeviewCreate,[n])},_createIcon:function(n){var i,u;return u=r.isTag(n)?t(n):t("<img>").attr("src",n),i=t("<span>").addClass("icon"),i.html(u),i},_createCaption:function(n){return t("<span>").addClass("caption").html(n)},_createToggle:function(){return t("<span>").addClass("node-toggle")},_createNode:function(n){var i;return i=t("<li>"),n.caption!==undefined&&i.prepend(this._createCaption(n.caption)),n.icon!==undefined&&i.prepend(this._createIcon(n.icon)),n.html!==undefined&&i.append(n.html),i},_createTree:function(){var n=this,i=this.element,u=this.options,r=i.find("li");i.addClass("treeview");t.each(r,function(){var i=t(this);i.data("caption")!==undefined&&i.prepend(n._createCaption(i.data("caption")));i.data("icon")!==undefined&&i.prepend(n._createIcon(i.data("icon")));i.children("ul").length>0&&(i.append(n._createToggle()),i.data("collapsed")!==!0?i.addClass("expanded"):i.children("ul").hide())})},_createEvents:function(){var u=this,n=this.element,f=this.options;n.on(i.events.click,".node-toggle",function(n){var i=t(this),r=i.parent();u.toggleNode(r);n.preventDefault()});n.on(i.events.click,"li > .caption",function(i){var e=t(this).parent();u.current(e);r.exec(f.onNodeClick,[e,n]);i.preventDefault()});n.on(i.events.dblclick,"li > .caption",function(i){var e=t(this).closest("li"),o=e.children(".node-toggle"),s=e.children("ul");(o.length>0||s.length>0)&&u.toggleNode(e);r.exec(f.onNodeDblClick,[e,n]);i.preventDefault()});n.on(i.events.click,"input[type=radio]",function(){var i=t(this),o=i.is(":checked"),e=i.closest("li");u.current(e);r.exec(f.onRadioClick,[o,i,e,n])});n.on(i.events.click,"input[type=checkbox]",function(){var e=t(this),o=e.is(":checked"),s=e.closest("li"),i;u.current(s);i=e.closest("li").find("ul input[type=checkbox]");i.attr("data-indeterminate",!1);i.prop("checked",o);i=[];t.each(n.find("input[type=checkbox]"),function(){i.push(this)});t.each(i.reverse(),function(){var n=t(this),r=n.closest("li").children("ul").find("input[type=checkbox]").length,i=n.closest("li").children("ul").find("input[type=checkbox]:checked").length;r>0&&i===0&&(n.attr("data-indeterminate",!1),n.prop("checked",!1));i===0?n.attr("data-indeterminate",!1):i>0&&r>i?n.attr("data-indeterminate",!0):r===i&&(n.attr("data-indeterminate",!1),n.prop("checked",!0))});r.exec(f.onCheckClick,[o,e,s,n],this)})},current:function(n){var t=this.element,i=this.options;if(n===undefined)return t.find("li.current");t.find("li").removeClass("current");n.addClass("current")},toggleNode:function(n){var u=this.element,t=this.options,i;n.toggleClass("expanded");t.effect==="slide"?(i=n.hasClass("expanded")!==!0?"slideUp":"slideDown",r.exec(t.onCollapseNode,[n,u])):(i=n.hasClass("expanded")!==!0?"fadeOut":"fadeIn",r.exec(t.onExpandNode,[n,u]));n.children("ul")[i](t.duration)},addTo:function(n,i){var h=this,e=this.element,s=this.options,u,f,o;return n===null?u=e:(u=n.children("ul"),u.length===0&&(u=t("<ul>").appendTo(n),o=this._createToggle(),o.appendTo(n),n.addClass("expanded"))),f=this._createNode(i),f.appendTo(u),r.exec(s.onNodeInsert,[f,e]),f},insertBefore:function(n,t){var u=this.element,f=this.options,i=this._createNode(t);return i.insertBefore(n),r.exec(f.onNodeInsert,[i,u]),i},insertAfter:function(n,t){var u=this.element,f=this.options,i=this._createNode(t);return i.insertAfter(n),r.exec(f.onNodeInsert,[i,u]),i},del:function(n){var i=this.element,f=this.options,t=n.closest("ul"),u=t.closest("li");n.remove();t.children().length!==0||t.is(i)||(t.remove(),u.removeClass("expanded"),u.children(".node-toggle").remove());r.exec(f.onNodeDelete,[n,i])},clean:function(n){var t=this.element,i=this.options;n.children("ul").remove();n.removeClass("expanded");n.children(".node-toggle").remove();r.exec(i.onNodeClean,[n,t])},changeAttribute:function(){}},i.plugin("treeview",hu),v={required:function(n){return n.trim()!==""},length:function(n,t){return t===undefined||isNaN(t)||t<=0?!1:n.trim().length===parseInt(t)},minlength:function(n,t){return t===undefined||isNaN(t)||t<=0?!1:n.trim().length>=parseInt(t)},maxlength:function(n,t){return t===undefined||isNaN(t)||t<=0?!1:n.trim().length<=parseInt(t)},min:function(n,t){return t===undefined||isNaN(t)?!1:this.number(n)?isNaN(n)?!1:Number(n)>=Number(t):!1},max:function(n,t){return t===undefined||isNaN(t)?!1:this.number(n)?isNaN(n)?!1:Number(n)<=Number(t):!1},email:function(n){return/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i.test(n)},domain:function(n){return/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/.test(n)},url:function(n){return/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n)},date:function(n){return new Date(n)!=="Invalid Date"&&!isNaN(new Date(n))},number:function(n){return!isNaN(n)},integer:function(n){return r.isInt(n)},float:function(n){return r.isFloat(n)},digits:function(n){return/^\d+$/.test(n)},hexcolor:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},color:function(n){return s.color(n,s.PALETTES.STANDARD)!==!1},pattern:function(n,t){if(t===undefined)return!1;var i=new RegExp(t);return i.test(n)},compare:function(n,t){return n===t},not:function(n,t){return n!==t},is_control:function(n){return n.parent().hasClass("input")||n.parent().hasClass("select")||n.parent().hasClass("textarea")||n.parent().hasClass("checkbox")||n.parent().hasClass("switch")||n.parent().hasClass("radio")},validate:function(n,i,u,f){var o=!0,e=t(n),h=v.is_control(e),s=e.data("validate")!==undefined?String(e.data("validate")).split(" ").map(function(n){return n.trim()}):[],c=[],l;return s.length===0?!0:(h?e.parent().removeClass("invalid valid"):e.removeClass("invalid valid"),e.attr("type")&&e.attr("type").toLowerCase()==="checkbox"?(o=s.indexOf("required")===-1?!0:e.is(":checked"),o===!1&&c.push("required"),i!==undefined&&(i.val+=o?0:1)):e.attr("type")&&e.attr("type").toLowerCase()==="radio"?(e.attr("name")===undefined&&(o=!0),l="input[name="+e.attr("name")+"]:checked",o=t(l).length>0,i!==undefined&&(i.val+=o?0:1)):t.each(s,function(){if(o!==!1){var u=this.split("="),n,t;n=u[0];u.shift();t=u.join("=");n==="compare"&&(t=e[0].form.elements[t].value);o=r.isFunc(v[n])===!1?!0:v[n](e.val(),t);o===!1&&c.push(n);i!==undefined&&(i.val+=o?0:1)}}),o===!1?(h?e.parent().addClass("invalid"):e.addClass("invalid"),i!==undefined&&i.log.push({input:e[0],name:e.attr("name"),value:e.val(),funcs:s,errors:c}),f!==undefined&&r.exec(f,[e,e.val()],e[0])):(h?e.parent().addClass("valid"):e.addClass("valid"),u!==undefined&&r.exec(u,[e,e.val()],e[0])),o)}},i.validator=v,cu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._onsubmit=null,this._action=null,this.result=[],this._setOptionsFromDOM(),this._create(),this},dependencies:["utils","colors"],options:{submitTimeout:200,interactiveCheck:!1,clearInvalid:0,onBeforeSubmit:i.noop_true,onSubmit:i.noop,onError:i.noop,onValidate:i.noop,onErrorForm:i.noop,onValidateForm:i.noop,onValidatorCreate:i.noop},_setOptionsFromDOM:function(){var i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var u=this,n=this.element,f=this.options,e=n.find("[data-validate]");this._action=n[0].action;n.attr("novalidate","novalidate").attr("action","javascript:");t.each(e,function(){var n=t(this),r=n.data("validate"),u=r.indexOf("required")>-1;if(u&&(v.is_control(n)?n.parent().addClass("required"):n.addClass("required")),f.interactiveCheck===!0)n.on(i.events.inputchange,function(){v.validate(this)})});this._onsubmit=null;n[0].onsubmit!==null&&(this._onsubmit=n[0].onsubmit,n[0].onsubmit=null);n[0].onsubmit=function(){return u._submit()};r.exec(this.options.onValidatorCreate,[n],this.elem)},_submit:function(){var e=this,i=this.element,n=this.options,f=this.elem,o=i.find("[data-validate]"),s=i.find(":submit").attr("disabled","disabled").addClass("disabled"),u={val:0,log:[]};return t.each(o,function(){v.validate(this,u,n.onValidate,n.onError)}),s.removeAttr("disabled").removeClass("disabled"),i[0].action=this._action,u.val+=r.exec(n.onBeforeSubmit,[i],this.elem)===!1?1:0,u.val===0?(r.exec(n.onValidateForm,[i],f),setTimeout(function(){r.exec(n.onSubmit,[i],f);e._onsubmit!==null&&r.exec(e._onsubmit,null,f)},n.submitTimeout)):(r.exec(n.onErrorForm,[u.log,i],f),n.clearInvalid>0&&setTimeout(function(){t.each(o,function(){var n=t(this);v.is_control(n)?n.parent().removeClass("invalid"):n.removeClass("invalid")})},n.clearInvalid)),u.val===0},changeAttribute:function(n){switch(n){}}},i.plugin("validator",cu),lu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.fullscreen=!1,this.preloader=null,this.player=null,this.video=i,this.stream=null,this.volume=null,this.volumeBackup=0,this.muted=!1,this.fullScreenInterval=!1,this._setOptionsFromDOM(),this._create(),this},options:{src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:i.fullScreenMode.DESKTOP,aspectRatio:i.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"<span class='default-icon-loop'><\/span>",stopIcon:"<span class='default-icon-stop'><\/span>",playIcon:"<span class='default-icon-play'><\/span>",pauseIcon:"<span class='default-icon-pause'><\/span>",muteIcon:"<span class='default-icon-mute'><\/span>",volumeLowIcon:"<span class='default-icon-low-volume'><\/span>",volumeMediumIcon:"<span class='default-icon-medium-volume'><\/span>",volumeHighIcon:"<span class='default-icon-high-volume'><\/span>",screenMoreIcon:"<span class='default-icon-enlarge'><\/span>",screenLessIcon:"<span class='default-icon-shrink'><\/span>",onPlay:i.noop,onPause:i.noop,onStop:i.noop,onEnd:i.noop,onMetadata:i.noop,onTime:i.noop,onVideoCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var u=this,t=this.element,n=this.options,f=this.video;i.fullScreenEnabled===!1&&(n.fullScreenMode=i.fullScreenMode.WINDOW);this._createPlayer();this._createControls();this._createEvents();this._setAspectRatio();n.autoplay===!0&&this.play();r.exec(n.onVideoCreate,[t,this.player])},_createPlayer:function(){var h=this,i=this.element,n=this.options,e=this.video,f=i.prev(),o=i.parent(),r=t("<div>").addClass("media-player video-player "+i[0].className),u=t("<div>").addClass("preloader").appendTo(r),s=t("<a>").attr("href",n.logoTarget).addClass("logo").appendTo(r);f.length===0?o.prepend(r):r.insertAfter(f);i.appendTo(r);t.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){i.removeAttr(this)});i.attr("preload","auto");n.poster!==""&&i.attr("poster",n.poster);e.volume=n.volume;u.activity({type:"cycle",style:"color"});u.hide(0);this.preloader=u;n.logo!==""&&t("<img>").css({height:n.logoHeight,width:n.logoWidth}).attr("src",n.logo).appendTo(s);n.src!==null&&this._setSource(n.src);i[0].className="";this.player=r},_setSource:function(n){var i=this.element;i.find("source").remove();i.removeAttr("src");Array.isArray(n)?t.each(n,function(){var n=this;n.src!==undefined&&t("<source>").attr("src",n.src).attr("type",n.type!==undefined?n.type:"").appendTo(i)}):i.attr("src",n)},_createControls:function(){var u=this,f=this.element,n=this.options,i=this.elem,w=this.player,r=t("<div>").addClass("controls").addClass(n.clsControls).insertAfter(f),e=t("<div>").addClass("stream").appendTo(r),o=t("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(e),s=t("<div>").addClass("volume").appendTo(r),h=t("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(s),c=t("<div>").addClass("info-box").appendTo(r),l,a,v,y,p;n.showInfo!==!0&&c.hide();o.slider({clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){i.paused||i.pause()},onStop:function(n){i.seekable.length>0&&(i.currentTime=(u.duration*n/100).toFixed(0));i.paused&&i.currentTime>0&&i.play()}});this.stream=o;n.showStream!==!0&&e.hide();h.slider({clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:n.volume*100,onChangeValue:function(n){i.volume=n/100}});this.volume=h;n.showVolume!==!0&&s.hide();n.showLoop===!0&&(l=t("<button>").attr("type","button").addClass("button square loop").html(n.loopIcon).appendTo(r));n.showPlay===!0&&(a=t("<button>").attr("type","button").addClass("button square play").html(n.playIcon).appendTo(r));n.showStop===!0&&(v=t("<button>").attr("type","button").addClass("button square stop").html(n.stopIcon).appendTo(r));n.showMute===!0&&(y=t("<button>").attr("type","button").addClass("button square mute").html(n.muteIcon).appendTo(r));n.showFull===!0&&(p=t("<button>").attr("type","button").addClass("button square full").html(n.screenMoreIcon).appendTo(r));n.loop===!0&&(l.addClass("active"),f.attr("loop","loop"));this._setVolume();n.muted&&(u.volumeBackup=i.volume,u.volume.data("slider").val(0),i.volume=0);c.html("00:00 / 00:00")},_createEvents:function(){var n=this,f=this.element,e=this.options,o=this.elem,u=this.player;f.on("loadstart",function(){n.preloader.fadeIn()});f.on("loadedmetadata",function(){n.duration=o.duration.toFixed(0);n._setInfo(0,n.duration);r.exec(e.onMetadata,[o,u])});f.on("canplay",function(){n._setBuffer();n.preloader.fadeOut()});f.on("progress",function(){n._setBuffer()});f.on("timeupdate",function(){var t=Math.round(o.currentTime*100/n.duration);n._setInfo(o.currentTime,n.duration);n.stream.data("slider").val(t);r.exec(e.onTime,[o.currentTime,n.duration,o,u])});f.on("waiting",function(){n.preloader.fadeIn()});f.on("loadeddata",function(){});f.on("play",function(){u.find(".play").html(e.pauseIcon);r.exec(e.onPlay,[o,u]);n._onMouse()});f.on("pause",function(){u.find(".play").html(e.playIcon);r.exec(e.onPause,[o,u]);n._offMouse()});f.on("stop",function(){n.stream.data("slider").val(0);r.exec(e.onStop,[o,u]);n._offMouse()});f.on("ended",function(){n.stream.data("slider").val(0);r.exec(e.onEnd,[o,u]);n._offMouse()});f.on("volumechange",function(){n._setVolume()});u.on(i.events.click,".play",function(){o.paused?n.play():n.pause()});u.on(i.events.click,".stop",function(){n.stop()});u.on(i.events.click,".mute",function(){n._toggleMute()});u.on(i.events.click,".loop",function(){n._toggleLoop()});u.on(i.events.click,".full",function(){if(n.fullscreen=!n.fullscreen,u.find(".full").html(n.fullscreen===!0?e.screenLessIcon:e.screenMoreIcon),e.fullScreenMode===i.fullScreenMode.WINDOW?n.fullscreen===!0?u.addClass("full-screen"):u.removeClass("full-screen"):n.fullscreen===!0?(i.requestFullScreen(o),n.fullScreenInterval===!1&&(n.fullScreenInterval=setInterval(function(){i.inFullScreen()===!1&&(n.fullscreen=!1,clearInterval(n.fullScreenInterval),n.fullScreenInterval=!1,u.find(".full").html(e.screenMoreIcon))},1e3))):i.exitFullScreen(),n.fullscreen===!0)t(document).on(i.events.keyup+"_video",function(n){n.keyCode===27&&u.find(".full").click()});else t(document).off(i.events.keyup+"_video")});t(window).resize(function(){n._setAspectRatio()})},_onMouse:function(){var n=this.player,t=this.options;if(t.controlsHide>0){n.on(i.events.enter,function(){n.find(".controls").fadeIn()});n.on(i.events.leave,function(){setTimeout(function(){n.find(".controls").fadeOut()},t.controlsHide)})}},_offMouse:function(){this.player.off(i.events.enter);this.player.off(i.events.leave);this.player.find(".controls").fadeIn()},_toggleLoop:function(){var n=this.player.find(".loop");n.length!==0&&(n.toggleClass("active"),n.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted;this.muted===!1?(this.video.volume=this.volumeBackup,this.volume.data("slider").val(this.volumeBackup*100)):(this.volumeBackup=this.video.volume,this.volume.data("slider").val(0),this.video.volume=0)},_setInfo:function(n,t){this.player.find(".info-box").html(r.secondsToFormattedString(Math.round(n))+" / "+r.secondsToFormattedString(Math.round(t)))},_setBuffer:function(){var n=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;this.stream.data("slider").buff(n)},_setVolume:function(){var r=this.video,u=this.player,t=this.options,i=u.find(".mute"),n=r.volume*100;n>1&&n<30?i.html(t.volumeLowIcon):n>=30&&n<60?i.html(t.volumeMediumIcon):n>=60&&n<=100?i.html(t.volumeHighIcon):i.html(t.muteIcon)},_setAspectRatio:function(){var u=this.player,f=this.options,t=u.outerWidth(),n;switch(f.aspectRatio){case i.aspectRatio.SD:n=r.aspectRatioH(t,"4/3");break;case i.aspectRatio.CINEMA:n=r.aspectRatioH(t,"21/9");break;default:n=r.aspectRatioH(t,"16/9")}u.outerHeight(n)},aspectRatio:function(n){this.options.aspectRatio=n;this._setAspectRatio()},play:function(n){(n!==undefined&&this._setSource(n),this.element.attr("src")!==undefined||this.element.find("source").length!==0)&&this.video.play()},pause:function(){this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.video.pause();this.video.currentTime=0;this.stream.data("slider").val(0);this._offMouse()},volume:function(n){if(n===undefined)return this.video.volume;n>1&&(n/=100);this.video.volume=n;this.volume.data("slider").val(n*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio");this._setAspectRatio()},changeSource:function(){var n=JSON.parse(this.element.attr("data-src"));this.play(n)},changeVolume:function(){var n=this.element.attr("data-volume");this.volume(n)},changeAttribute:function(n){switch(n){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume()}}},i.plugin("video",lu),au={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this.win=null,this.overlay=null,this._setOptionsFromDOM(),this._create(),r.exec(this.options.onWindowCreate,[this.win,this.element]),this},dependencies:["draggable","resizeable"],options:{width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,clsCaption:"",clsContent:"",clsWindow:"",draggable:!0,dragElement:".window-caption",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:"default",resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",onDragStart:i.noop,onDragStop:i.noop,onDragMove:i.noop,onCaptionDblClick:i.noop,onCloseClick:i.noop,onMaxClick:i.noop,onMinClick:i.noop,onResizeStart:i.noop,onResizeStop:i.noop,onResize:i.noop,onWindowCreate:i.noop,onShow:i.noop,onWindowDestroy:i.noop,onCanClose:i.noop_true,onClose:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var o=this,i=this.element,n=this.options,t,u,f=i.prev(),e=i.parent();n.modal===!0&&(n.btnMax=!1,n.btnMin=!1,n.resizable=!1);n.content==="default"&&(n.content=i);t=this._window(n);f.length===0?e.prepend(t):t.insertAfter(f);n.overlay===!0&&(u=this._overlay(),u.appendTo(t.parent()),this.overlay=u);r.exec(n.onShow,[t]);this.win=t},_window:function(n){var s=this,u,f,e,h,c,o,l,a,v,y,p;u=t("<div>").addClass("window");u.css({width:n.width,height:n.height,position:n.position,top:n.top,left:n.left});n.modal===!0&&u.addClass("modal");f=t("<div>").addClass("window-caption");e=t("<div>").addClass("window-content");u.append(f);u.append(e);n.status===!0&&(p=t("<div>").addClass("window-status"),u.append(p));n.shadow===!0&&u.addClass("win-shadow");n.icon!==undefined&&(h=t("<span>").addClass("icon").html(n.icon),h.appendTo(f));n.title!==undefined&&(c=t("<span>").addClass("title").html(n.title),c.appendTo(f));n.content!==undefined&&n.content!=="original"&&(r.isUrl(n.content)&&r.isVideoUrl(n.content)&&(n.content=r.embedUrl(n.content)),!r.isJQueryObject(n.content)&&r.isFunc(n.content)&&(n.content=r.exec(n.content)),r.isJQueryObject(n.content)?n.content.appendTo(e):e.html(n.content));(n.btnClose===!0||n.btnMin===!0||n.btnMax===!0)&&(o=t("<div>").addClass("buttons"),o.appendTo(f),n.btnMax===!0&&(v=t("<span>").addClass("btn-max"),v.appendTo(o)),n.btnMin===!0&&(a=t("<span>").addClass("btn-min"),a.appendTo(o)),n.btnClose===!0&&(l=t("<span>").addClass("btn-close"),l.appendTo(o)));u.attr("id",n.id===undefined?r.uniqueId():n.id);n.resizable===!0&&(y=t("<span>").addClass("resize-element"),y.appendTo(u),u.addClass("resizable"));u.on(i.events.dblclick,".window-caption",function(n){s.maximized(n)});u.on(i.events.click,".btn-max",function(n){s.maximized(n)});u.on(i.events.click,".btn-min",function(n){s.minimized(n)});u.on(i.events.click,".btn-close",function(n){s.close(n)});return n.resizable===!0&&u.resizable({resizeElement:".resize-element",onResizeStart:n.onResizeStart,onResizeStop:n.onResizeStop,onResize:n.onResize}),n.draggable===!0&&u.draggable({dragElement:n.dragElement,dragArea:n.dragArea,onDragStart:n.onDragStart,onDragStop:n.onDragStop,onDragMove:n.onDragMove}),n.place!=="auto"&&u.addClass("pos-"+n.place),u.addClass(n.clsWindow),f.addClass(n.clsCaption),e.addClass(n.clsContent),u},_overlay:function(){var u=this,f=this.win,e=this.element,i=this.options,n=t("<div>");return n.addClass("overlay"),i.overlayColor==="transparent"?n.addClass("transparent"):n.css({background:r.hex2rgba(i.overlayColor,i.overlayAlpha)}),n},maximized:function(n){var e=this,i=this.win,o=this.element,u=this.options,f=t(n.currentTarget);i.toggleClass("maximized");f.hasClass("window-caption")?r.exec(u.onCaptionDblClick,[i]):r.exec(u.onMaxClick,[i])},minimized:function(){var i=this,n=this.win,u=this.element,t=this.options;n.toggleClass("minimized");r.exec(t.onMinClick,[n])},close:function(){var e=this,n=this.win,o=this.element,t=this.options,f=null,u;if(r.exec(t.onCanClose,[n])===!1)return!1;u=0;t.onClose!==i.noop&&(u=500);r.exec(t.onClose,[n]);f=setTimeout(function(){f=null;t.modal===!0&&n.siblings(".overlay").remove();r.exec(t.onCloseClick(),[n]);r.exec(t.onWindowDestroy,[n]);n.remove()},u)},hide:function(){this.win.addClass("no-visible")},show:function(){this.win.removeClass("no-visible")},toggleButtons:function(n){var f=this,e=this.element,t=this.win,o=this.options,i=t.find(".btn-close"),r=t.find(".btn-min"),u=t.find(".btn-max");n==="data-btn-close"&&i.toggle();n==="data-btn-min"&&r.toggle();n==="data-btn-max"&&u.toggle()},changeSize:function(n){var r=this,t=this.element,i=this.win,u=this.options;n==="data-width"&&i.css("width",t.data("width"));n==="data-height"&&i.css("height",t.data("height"))},changeClass:function(n){var u=this,t=this.element,i=this.win,r=this.options;n==="data-cls-window"&&(i[0].className="window "+(r.resizable?" resizeable ":" ")+t.attr("data-cls-window"));n==="data-cls-caption"&&(i.find(".window-caption")[0].className="window-caption "+t.attr("data-cls-caption"));n==="data-cls-content"&&(i.find(".window-content")[0].className="window-content "+t.attr("data-cls-content"))},toggleShadow:function(){var r=this,t=this.element,n=this.win,u=this.options,i=JSON.parse(t.attr("data-shadow"));i===!0?n.addClass("win-shadow"):n.removeClass("win-shadow")},setContent:function(){var f=this,i=this.element,u=this.win,e=this.options,n=i.attr("data-content"),t;t=!r.isJQueryObject(n)&&r.isFunc(n)?r.exec(n):r.isJQueryObject(n)?n.html():n;u.find(".window-content").html(t)},setTitle:function(){var r=this,n=this.element,t=this.win,u=this.options,i=n.attr("data-title");t.find(".window-caption .title").html(i)},setIcon:function(){var r=this,n=this.element,t=this.win,u=this.options,i=n.attr("data-icon");t.find(".window-caption .icon").html(i)},getIcon:function(){var t=this,i=this.element,n=this.win,r=this.options;return n.find(".window-caption .icon").html()},getTitle:function(){var t=this,i=this.element,n=this.win,r=this.options;return n.find(".window-caption .title").html()},toggleDraggable:function(){var u=this,t=this.element,i=this.win,f=this.options,r=JSON.parse(t.attr("data-draggable")),n=i.data("draggable");r===!0?n.on():n.off()},toggleResizable:function(){var u=this,i=this.element,n=this.win,f=this.options,r=JSON.parse(i.attr("data-resizable")),t=n.data("resizable");r===!0?(t.on(),n.find(".resize-element").removeClass("resize-element-disabled")):(t.off(),n.find(".resize-element").addClass("resize-element-disabled"))},changeTopLeft:function(n){var u=this,i=this.element,r=this.win,f=this.options,t;if(n==="data-top"){if(t=parseInt(i.attr("data-top")),!isNaN(t))return;r.css("top",t)}if(n==="data-left"){if(t=parseInt(i.attr("data-left")),!isNaN(t))return;r.css("left",t)}},changePlace:function(){var r=this,n=this.element,t=this.win,u=this.options,i=n.attr("data-place");t.addClass(i)},changeAttribute:function(n){switch(n){case"data-btn-close":case"data-btn-min":case"data-btn-max":this.toggleButtons(n);break;case"data-width":case"data-height":this.changeSize(n);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(n);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable();break;case"data-resizable":this.toggleResizable();break;case"data-top":case"data-left":this.changeTopLeft(n);break;case"data-place":this.changePlace()}}},i.plugin("window",au),vu={init:function(n,i){return this.options=t.extend({},this.options,n),this.elem=i,this.element=t(i),this._setOptionsFromDOM(),this._create(),this},options:{start:1,finish:0,iconHelp:"<span class='default-icon-help'><\/span>",iconPrev:"<span class='default-icon-left-arrow'><\/span>",iconNext:"<span class='default-icon-right-arrow'><\/span>",iconFinish:"<span class='default-icon-check'><\/span>",buttonMode:"cycle",buttonOutline:!0,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:i.noop,onHelpClick:i.noop,onPrevClick:i.noop,onNextClick:i.noop,onFinishClick:i.noop,onBeforePrev:i.noop_true,onBeforeNext:i.noop_true,onWizardCreate:i.noop},_setOptionsFromDOM:function(){var r=this,i=this.element,n=this.options;t.each(i.data(),function(t,i){if(t in n)try{n[t]=JSON.parse(i)}catch(r){n[t]=i}})},_create:function(){var i=this,n=this.element,t=this.options;this._createWizard();this._createEvents();r.exec(t.onWizardCreate,[n])},_createWizard:function(){var e=this,f=this.element,n=this.options,u,i;f.addClass("wizard").addClass(n.view).addClass(n.clsWizard);u=t("<div>").addClass("action-bar").addClass(n.clsActions).appendTo(f);i=n.buttonMode==="button"?"":n.buttonMode;n.buttonOutline===!0&&(i+=" outline");n.iconHelp!==!1&&t("<button>").addClass("button wizard-btn-help").addClass(i).addClass(n.clsHelp).html(r.isTag(n.iconHelp)?n.iconHelp:t("<img>").attr("src",n.iconHelp)).appendTo(u);n.iconPrev!==!1&&t("<button>").addClass("button wizard-btn-prev").addClass(i).addClass(n.clsPrev).html(r.isTag(n.iconPrev)?n.iconPrev:t("<img>").attr("src",n.iconPrev)).appendTo(u);n.iconNext!==!1&&t("<button>").addClass("button wizard-btn-next").addClass(i).addClass(n.clsNext).html(r.isTag(n.iconNext)?n.iconNext:t("<img>").attr("src",n.iconNext)).appendTo(u);n.iconFinish!==!1&&t("<button>").addClass("button wizard-btn-finish").addClass(i).addClass(n.clsFinish).html(r.isTag(n.iconFinish)?n.iconFinish:t("<img>").attr("src",n.iconFinish)).appendTo(u);this.toPage(n.start);this._setHeight()},_setHeight:function(){var u=this,i=this.element,f=this.options,r=i.children("section"),n=0;r.children(".page-content").css("max-height","none");t.each(r,function(){var i=t(this).height();n<parseInt(i)&&(n=i)});i.height(n)},_createEvents:function(){var u=this,n=this.element,f=this.options;n.on(i.events.click,".wizard-btn-help",function(){var t=n.children("section"),i=t.get(u.current-1);r.exec(f.onHelpClick,[u.current,i,n])});n.on(i.events.click,".wizard-btn-prev",function(){u.prev();r.exec(f.onPrevClick,[u.current,n])});n.on(i.events.click,".wizard-btn-next",function(){u.next();r.exec(f.onNextClick,[u.current,n])});n.on(i.events.click,".wizard-btn-finish",function(){r.exec(f.onFinishClick,[u.current,n])});n.on(i.events.click,".complete",function(){var n=t(this).index()+1;u.toPage(n)});t(window).on(i.events.resize,function(){u._setHeight()})},next:function(){var e=this,n=this.element,i=this.options,u=n.children("section"),f=t(n.children("section").get(this.current-1));this.current+1>u.length||r.exec(i.onBeforeNext,[this.current,f,n])===!1||(this.current++,this.toPage(this.current))},prev:function(){var f=this,n=this.element,i=this.options,u=t(n.children("section").get(this.current-1));this.current-1!=0&&r.exec(i.onBeforePrev,[this.current,u,n])!==!1&&(this.current--,this.toPage(this.current))},last:function(){var t=this,n=this.element,i=this.options;this.toPage(n.children("section").length)},first:function(){this.toPage(1)},toPage:function(n){var a=this,i=this.element,u=this.options,f=t(i.children("section").get(n-1)),e=i.children("section"),s=i.find(".action-bar"),o;if(f.length!==0){var h=i.find(".wizard-btn-finish").addClass("disabled"),c=i.find(".wizard-btn-next").addClass("disabled"),l=i.find(".wizard-btn-prev").addClass("disabled");this.current=n;i.children("section").removeClass("complete current").removeClass(u.clsCurrent).removeClass(u.clsComplete);f.addClass("current").addClass(u.clsCurrent);f.prevAll().addClass("complete").addClass(u.clsComplete);o=i.children("section.complete").length===0?0:parseInt(r.getStyleOne(i.children("section.complete")[0],"border-left-width"));s.animate({left:i.children("section.complete").length*o+41});(this.current===e.length||u.finish>0&&this.current>=u.finish)&&h.removeClass("disabled");this.current<e.length&&c.removeClass("disabled");this.current>1&&l.removeClass("disabled");i.trigger("onpage",[this.current,f,i]);r.exec(u.onPage,[this.current,f,i])}},changeAttribute:function(){}},i.plugin("wizard",vu),METRO_INIT===!0?i.init():i});